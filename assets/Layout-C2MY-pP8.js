import{u as t,N,r as u,a as w,j as o,b as Q,Y as V,B as D,c as q,C as T,L as C,O as z,d as K}from"./index-BkuReTYW.js";import{G as b,c as k,a as g,E as a,e as R,F as S,b as X,d as m,s as G,u as J,M as y,f as Y}from"./firebase-config-DP2RzGm7.js";function L(r){return b({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(r)}function M(r){return b({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(r)}function Z(r){return b({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(r)}const _="data:image/jpeg;base64,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",$=t.header`
  padding: 20px 64px 15px 64px;
`,oo=t.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  row-gap: 20px;
`,eo=t.div`
  display: flex;
  align-items: center;
  gap: 8px;
`,to=t.img``,no=t.p`
  color: var(--main-text-color);
  font-size: 20px;
  font-weight: 500;
  line-height: 1.2;
  letter-spacing: -0.4px;
`,ro=t.nav``,io=t.ul`
  display: flex;
  align-items: center;
  gap: 28px;
`,v=t(N)`
  color: var(--main-text-color);
  font-size: 16px;
  line-height: 1.25;
  transition: color var(--transition);

  &:hover,
  :focus {
    color: var(--active-color);
  }

  &.active {
    color: #8a8a89;
  }
`,ao=t.ul`
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 16px;
`,so=t.button`
  cursor: pointer;
  color: var(--main-text-color);
  font-family: "Roboto", sans-serif;
  font-size: 16px;
  font-weight: 700;
  line-height: 1.25;
  background-color: transparent;
  border: none;
  display: flex;
  align-items: center;
  gap: 8px;
  text-decoration-color: transparent;
  transition: text-decoration var(--transition),
    text-decoration-color var(--transition);

  & span {
    display: inherit;
    transition: color var(--transition);
  }

  &:hover,
  :focus {
    & span {
      color: var(--active-color);
    }
    text-decoration: underline;
    text-underline-position: under;
    text-decoration-color: var(--active-color);
  }
`,B=t.button`
  cursor: pointer;
  padding: 14px 39px;
  max-width: 166px;
  border: none;
  border-radius: 12px;
  background-color: #121417;
  transition: background-color var(--transition), color var(--transition);

  color: #fff;
  font-family: "Roboto", sans-serif;
  font-size: 16px;
  font-weight: 700;
  line-height: 1.25;

  &:hover,
  :focus {
    background-color: var(--active-color);
    color: var(--main-text-color);
  }
`,F=t.div`
  width: 566px;
  max-width: 100%;
  padding: 64px;
`,P=t.h3`
  color: var(--main-text-color);
  font-size: 40px;
  font-weight: 500;
  line-height: 1.2;
  letter-spacing: -0.8px;
`,H=t.p`
  margin-top: 20px;
  margin-bottom: 40px;
  color: rgba(18, 20, 23, 0.8);
  font-size: 16px;
  font-weight: 400;
  line-height: 1.37;
`,W=t.form`
  display: block;
`,E=t.input`
  border-radius: 12px;
  width: 100%;
  border: 1px solid rgba(18, 20, 23, 0.1);
  padding: 16px 18px;
  color: var(--main-text-color);
  font-size: 16px;
  font-weight: 400;
  line-height: 1.37;
  display: block;
  outline: none;
  transition: border var(--transition);

  &::placeholder {
    color: var(--main-text-color);
  }
  &:focus {
    border: 1px solid var(--active-button-background-color);
  }
`,f=t.p`
  color: #ff0000c2;
  margin-top: 5px;
  font-size: 16px;
  font-style: normal;
  font-weight: 400;
  line-height: 1.37;
`,j=t.div`
  &:not(:first-child) {
    margin-top: 18px;
  }
`,O=t.div`
  position: relative;
`,U=t.button`
  cursor: pointer;
  position: absolute;
  top: 50%;
  right: 18px;
  transform: translateY(-50%);
  color: var(--main-text-color);
  transition: color var(--transition);
  background-color: transparent;
  border: none;

  &:hover,
  :focus {
    color: var(--active-color);
  }
`,I=t.button`
  cursor: pointer;
  display: block;
  color: var(--main-text-color);
  font-size: 18px;
  font-weight: 700;
  line-height: 28px;

  border-radius: 12px;
  background-color: var(--button-background-color);
  border: none;
  width: 100%;
  padding: 16px 0;
  margin: 40px auto 0;
  transition: background-color var(--transition);

  &:hover,
  :focus {
    background-color: var(--active-button-background-color);
  }
`,co=k().shape({name:g().min(3,a.MIN_NAME).max(50,a.MAX_NAME).required(a.REQUIRED_NAME),email:g().matches(R,a.INVALID_EMAIL).required(a.REQUIRED_EMAIL),password:g().min(6,a.MIN_PASSWORD).required(a.REQUIRED_PASSWORD)}),lo=({onClose:r})=>{const[s,l]=u.useState(!1),A=w(),p=async e=>{const{email:i,password:c}=e;try{const n=await X(m,i,c);return A(Q(n.user.accessToken)),r(),n}catch(n){throw n}};return o.jsxs(F,{children:[o.jsx(P,{children:"Registration"}),o.jsx(H,{children:"Thank you for your interest in our platform! In order to register, we need some information. Please provide us with the following information"}),o.jsx(S,{initialValues:{name:"",email:"",password:""},validationSchema:co,onSubmit:p,children:({errors:e,touched:i,handleSubmit:c,isSubmitting:n,handleBlur:d,handleChange:x,values:h})=>o.jsxs(W,{onSubmit:c,children:[o.jsxs(j,{children:[o.jsx(E,{type:"text",name:"name",placeholder:"Name",onChange:x,onBlur:d,value:h.name}),e.name&&i.name?o.jsxs(f,{children:["* ",e.name]}):null]}),o.jsxs(j,{children:[o.jsx(E,{type:"email",name:"email",placeholder:"Email",onBlur:d,onChange:x,value:h.email}),e.email&&i.email?o.jsxs(f,{children:["* ",e.email]}):null]}),o.jsxs(j,{children:[o.jsxs(O,{children:[o.jsx(E,{name:"password",type:s?"text":"password",placeholder:"Password",onBlur:d,onChange:x,value:h.password}),o.jsx(U,{type:"button",onClick:()=>l(!s),children:s?o.jsx(L,{}):o.jsx(M,{})})]}),e.password&&i.password?o.jsxs(f,{children:["* ",e.password]}):null]}),o.jsx(I,{type:"submit",disabled:n,children:"Sign Up"})]})})]})},po={position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:V},xo=k().shape({email:g().matches(R,a.INVALID_EMAIL).required(a.REQUIRED_EMAIL),password:g().min(6,a.MIN_PASSWORD).required(a.REQUIRED_PASSWORD)}),ho=({onClose:r})=>{const[s,l]=u.useState(!1),A=w(),p=async e=>{const{email:i,password:c}=e;try{const n=await G(m,i,c);return A(Q(n.user.accessToken)),r(),n.user}catch{D.error("Oops something went wrong, check if you entered the data correctly",po)}};return o.jsxs(F,{children:[o.jsx(P,{children:"Log In"}),o.jsx(H,{children:"Welcome back! Please enter your credentials to access your account and continue your search for a teacher."}),o.jsx(S,{initialValues:{email:"",password:""},validationSchema:xo,onSubmit:p,children:({errors:e,touched:i,handleSubmit:c,isSubmitting:n,handleBlur:d,handleChange:x,values:h})=>o.jsxs(W,{onSubmit:c,children:[o.jsxs(j,{children:[o.jsx(E,{type:"email",name:"email",placeholder:"Email",onBlur:d,onChange:x,value:h.email}),e.email&&i.email?o.jsxs(f,{children:["* ",e.email]}):null]}),o.jsxs(j,{children:[o.jsxs(O,{children:[o.jsx(E,{name:"password",type:s?"text":"password",placeholder:"Password",onBlur:d,onChange:x,value:h.password}),o.jsx(U,{type:"button",onClick:()=>l(!s),children:s?o.jsx(L,{}):o.jsx(M,{})})]}),e.password&&i.password?o.jsxs(f,{children:["* ",e.password]}):null]}),o.jsx(I,{type:"submit",disabled:n,children:"Log In"})]})})]})},go=()=>{const{isOpen:r,openModal:s,closeModal:l}=J(),[A,p]=u.useState(null),e=q(n=>n.authUser.token),i=w(),c=async()=>{try{await Y(m),p(null),i(K())}catch(n){throw n}};return u.useEffect(()=>{m.onAuthStateChanged(n=>{const d=m.currentUser;if(e||d)return p(n)})},[e]),o.jsxs(o.Fragment,{children:[o.jsxs($,{children:[o.jsx(T,{children:o.jsxs(oo,{children:[o.jsxs(eo,{children:[o.jsx(to,{src:_,alt:"Flag Ukraine",width:"28",height:"28"}),o.jsx(no,{children:"LearnLingo"})]}),o.jsx(ro,{children:o.jsxs(io,{children:[o.jsx("li",{children:o.jsx(v,{activeclassname:"active",to:"/",children:"Home"})}),o.jsx("li",{children:o.jsx(v,{to:"teachers",children:"Teachers"})}),e&&o.jsx("li",{children:o.jsx(v,{to:"favorite",children:"Favorite"})})]})}),!e&&o.jsxs(ao,{children:[o.jsx("li",{children:o.jsxs(so,{type:"button",onClick:()=>s("login"),children:[o.jsx("span",{children:o.jsx(Z,{stroke:"var(--button-background-color)"})}),"Log in"]})}),o.jsx("li",{children:o.jsx(B,{type:"button",onClick:()=>s("register"),children:"Registration"})})]}),e&&A&&o.jsx(B,{type:"button",onClick:c,children:"Log out"})]})}),r.open&&r.name==="login"&&o.jsx(y,{onClose:l,children:o.jsx(ho,{onClose:l})}),r.open&&r.name==="register"&&o.jsx(y,{onClose:l,children:o.jsx(lo,{onClose:l})})]}),o.jsx("main",{children:o.jsx(u.Suspense,{fallback:o.jsx(C,{}),children:o.jsx(z,{})})})]})};export{go as default};
