import{u as z,r as g,R as tl,c as Mh,j as _,d as Q,e as On,f as Ke,h as Js,i as Lg,a as Ns,_ as Vl,k as $g,l as Bg,m as ma,n as mu,o as jg,C as Ug}from"./index-A3urDQJ5.js";import{F as Vg,G as Ms,u as zg,M as gu}from"./formik.esm-D-LAxwe6.js";function Fh(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var _u={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R=function(n,e){if(!n)throw Dr(e)},Dr=function(n){return new Error("Firebase Database ("+Dh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Wg=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],a=n[t++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},zl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,a=o?n[s+1]:0,l=s+2<n.length,c=l?n[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),r.push(t[u],t[d],t[h],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Lh(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Wg(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;const c=s<n.length?t[n.charAt(s)]:64;++s;const d=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new Hg;const h=i<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const f=c<<6&192|d;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Hg extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $h=function(n){const e=Lh(n);return zl.encodeByteArray(e,!0)},Ci=function(n){return $h(n).replace(/\./g,"")},xi=function(n){try{return zl.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(n){return Bh(void 0,n)}function Bh(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!qg(t)||(n[t]=Bh(n[t],e[t]));return n}function qg(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=()=>Kg().__FIREBASE_DEFAULTS__,Xg=()=>{if(typeof process>"u"||typeof _u>"u")return;const n=_u.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Qg=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xi(n[1]);return e&&JSON.parse(e)},Wl=()=>{try{return Yg()||Xg()||Qg()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jh=n=>{var e,t;return(t=(e=Wl())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Jg=n=>{const e=jh(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Uh=()=>{var n;return(n=Wl())===null||n===void 0?void 0:n.config},Vh=n=>{var e;return(e=Wl())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ci(JSON.stringify(t)),Ci(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function e_(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zh(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t_(){const n=Qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Wh(){return Dh.NODE_ADMIN===!0}function n_(){try{return typeof indexedDB=="object"}catch{return!1}}function r_(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="FirebaseError";class Pn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=s_,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fs.prototype.create)}}class Fs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?i_(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pn(s,a,r)}}function i_(n,e){return n.replace(o_,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const o_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(n){return JSON.parse(n)}function $e(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=function(n){let e={},t={},r={},s="";try{const i=n.split(".");e=gs(xi(i[0])||""),t=gs(xi(i[1])||""),s=i[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:s}},a_=function(n){const e=Hh(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},l_=function(n){const e=Hh(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Tr(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function nl(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wi(n,e,t){const r={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=e.call(t,n[s],s,n));return r}function ki(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(vu(i)&&vu(o)){if(!ki(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function vu(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const h=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<t;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<t;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function u_(n,e){const t=new d_(n,e);return t.subscribe.bind(t)}class d_{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");h_(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=ga),s.error===void 0&&(s.error=ga),s.complete===void 0&&(s.complete=ga);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h_(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ga(){}function Gl(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,R(r<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},io=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(n){return n&&n._delegate?n._delegate:n}class Yn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new so;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g_(e))try{this.getOrInitializeService({instanceIdentifier:Fn})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Fn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fn){return this.instances.has(e)}getOptions(e=Fn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m_(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fn){return this.component?this.component.multipleInstances?e:Fn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m_(n){return n===Fn?void 0:n}function g_(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new p_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(de||(de={}));const v_={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},y_=de.INFO,b_={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},E_=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=b_[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ql{constructor(e){this.name=e,this._logLevel=y_,this._logHandler=E_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const C_=(n,e)=>e.some(t=>n instanceof t);let yu,bu;function x_(){return yu||(yu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w_(){return bu||(bu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gh=new WeakMap,rl=new WeakMap,qh=new WeakMap,_a=new WeakMap,Kl=new WeakMap;function k_(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(vn(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Gh.set(t,n)}).catch(()=>{}),Kl.set(e,n),e}function S_(n){if(rl.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});rl.set(n,e)}let sl={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return rl.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qh.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function I_(n){sl=n(sl)}function T_(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(va(this),e,...t);return qh.set(r,e.sort?e.sort():[e]),vn(r)}:w_().includes(n)?function(...e){return n.apply(va(this),e),vn(Gh.get(this))}:function(...e){return vn(n.apply(va(this),e))}}function R_(n){return typeof n=="function"?T_(n):(n instanceof IDBTransaction&&S_(n),C_(n,x_())?new Proxy(n,sl):n)}function vn(n){if(n instanceof IDBRequest)return k_(n);if(_a.has(n))return _a.get(n);const e=R_(n);return e!==n&&(_a.set(n,e),Kl.set(e,n)),e}const va=n=>Kl.get(n);function A_(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),a=vn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vn(o.result),l.oldVersion,l.newVersion,vn(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const O_=["get","getKey","getAll","getAllKeys","count"],P_=["put","add","delete","clear"],ya=new Map;function Eu(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ya.get(e))return ya.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=P_.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||O_.includes(t)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),s&&l.done]))[0]};return ya.set(e,i),i}I_(n=>({...n,get:(e,t,r)=>Eu(e,t)||n.get(e,t,r),has:(e,t)=>!!Eu(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(M_(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function M_(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const il="@firebase/app",Cu="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new ql("@firebase/app"),F_="@firebase/app-compat",D_="@firebase/analytics-compat",L_="@firebase/analytics",$_="@firebase/app-check-compat",B_="@firebase/app-check",j_="@firebase/auth",U_="@firebase/auth-compat",V_="@firebase/database",z_="@firebase/database-compat",W_="@firebase/functions",H_="@firebase/functions-compat",G_="@firebase/installations",q_="@firebase/installations-compat",K_="@firebase/messaging",Y_="@firebase/messaging-compat",X_="@firebase/performance",Q_="@firebase/performance-compat",J_="@firebase/remote-config",Z_="@firebase/remote-config-compat",e0="@firebase/storage",t0="@firebase/storage-compat",n0="@firebase/firestore",r0="@firebase/firestore-compat",s0="firebase",i0="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="[DEFAULT]",o0={[il]:"fire-core",[F_]:"fire-core-compat",[L_]:"fire-analytics",[D_]:"fire-analytics-compat",[B_]:"fire-app-check",[$_]:"fire-app-check-compat",[j_]:"fire-auth",[U_]:"fire-auth-compat",[V_]:"fire-rtdb",[z_]:"fire-rtdb-compat",[W_]:"fire-fn",[H_]:"fire-fn-compat",[G_]:"fire-iid",[q_]:"fire-iid-compat",[K_]:"fire-fcm",[Y_]:"fire-fcm-compat",[X_]:"fire-perf",[Q_]:"fire-perf-compat",[J_]:"fire-rc",[Z_]:"fire-rc-compat",[e0]:"fire-gcs",[t0]:"fire-gcs-compat",[n0]:"fire-fst",[r0]:"fire-fst-compat","fire-js":"fire-js",[s0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Map,a0=new Map,al=new Map;function xu(n,e){try{n.container.addComponent(e)}catch(t){Xn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rr(n){const e=n.name;if(al.has(e))return Xn.debug(`There were multiple attempts to register component ${e}.`),!1;al.set(e,n);for(const t of Si.values())xu(t,n);for(const t of a0.values())xu(t,n);return!0}function Yl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _n(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yn=new Fs("app","Firebase",l0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=i0;function Kh(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ol,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw yn.create("bad-app-name",{appName:String(s)});if(t||(t=Uh()),!t)throw yn.create("no-options");const i=Si.get(s);if(i){if(ki(t,i.options)&&ki(r,i.config))return i;throw yn.create("duplicate-app",{appName:s})}const o=new __(s);for(const l of al.values())o.addComponent(l);const a=new c0(t,r,o);return Si.set(s,a),a}function Yh(n=ol){const e=Si.get(n);if(!e&&n===ol&&Uh())return Kh();if(!e)throw yn.create("no-app",{appName:n});return e}function bn(n,e,t){var r;let s=(r=o0[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xn.warn(a.join(" "));return}Rr(new Yn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="firebase-heartbeat-database",d0=1,_s="firebase-heartbeat-store";let ba=null;function Xh(){return ba||(ba=A_(u0,d0,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_s)}catch(t){console.warn(t)}}}}).catch(n=>{throw yn.create("idb-open",{originalErrorMessage:n.message})})),ba}async function h0(n){try{const t=(await Xh()).transaction(_s),r=await t.objectStore(_s).get(Qh(n));return await t.done,r}catch(e){if(e instanceof Pn)Xn.warn(e.message);else{const t=yn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xn.warn(t.message)}}}async function wu(n,e){try{const r=(await Xh()).transaction(_s,"readwrite");await r.objectStore(_s).put(e,Qh(n)),await r.done}catch(t){if(t instanceof Pn)Xn.warn(t.message);else{const r=yn.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xn.warn(r.message)}}}function Qh(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=1024,p0=30*24*60*60*1e3;class m0{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _0(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ku();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=p0}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ku(),{heartbeatsToSend:r,unsentEntries:s}=g0(this._heartbeatsCache.heartbeats),i=Ci(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ku(){return new Date().toISOString().substring(0,10)}function g0(n,e=f0){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Su(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Su(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class _0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n_()?r_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await h0(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return wu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return wu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Su(n){return Ci(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(n){Rr(new Yn("platform-logger",e=>new N_(e),"PRIVATE")),Rr(new Yn("heartbeat",e=>new m0(e),"PRIVATE")),bn(il,Cu,n),bn(il,Cu,"esm2017"),bn("fire-js","")}v0("");var Iu={};const Tu="@firebase/database",Ru="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh="";function y0(n){Jh=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$e(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:gs(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return zt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new b0(e)}}catch{}return new E0},Bn=Zh("localStorage"),ll=Zh("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new ql("@firebase/database"),C0=function(){let n=1;return function(){return n++}}(),ef=function(n){const e=f_(n),t=new c_;t.update(e);const r=t.digest();return zl.encodeByteArray(r)},Ds=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ds.apply(null,r):typeof r=="object"?e+=$e(r):e+=r,e+=" "}return e};let Hn=null,Au=!0;const x0=function(n,e){R(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Er.logLevel=de.VERBOSE,Hn=Er.log.bind(Er),e&&ll.set("logging_enabled",!0)):typeof n=="function"?Hn=n:(Hn=null,ll.remove("logging_enabled"))},qe=function(...n){if(Au===!0&&(Au=!1,Hn===null&&ll.get("logging_enabled")===!0&&x0(!0)),Hn){const e=Ds.apply(null,n);Hn(e)}},Ls=function(n){return function(...e){qe(n,...e)}},cl=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ds(...n);Er.error(e)},nn=function(...n){const e=`FIREBASE FATAL ERROR: ${Ds(...n)}`;throw Er.error(e),new Error(e)},lt=function(...n){const e="FIREBASE WARNING: "+Ds(...n);Er.warn(e)},w0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xl=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},k0=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Qn="[MIN_NAME]",kn="[MAX_NAME]",Br=function(n,e){if(n===e)return 0;if(n===Qn||e===kn)return-1;if(e===Qn||n===kn)return 1;{const t=Ou(n),r=Ou(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},S0=function(n,e){return n===e?0:n<e?-1:1},Yr=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+$e(e))},Ql=function(n){if(typeof n!="object"||n===null)return $e(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=$e(e[r]),t+=":",t+=Ql(n[e[r]]);return t+="}",t},tf=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let s=0;s<t;s+=e)s+e>t?r.push(n.substring(s,t)):r.push(n.substring(s,s+e));return r};function ct(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const nf=function(n){R(!Xl(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let s,i,o,a,l;n===0?(i=0,o=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),i=a+r,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(i=0,o=Math.round(n/Math.pow(2,1-r-t))));const c=[];for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},I0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},T0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function R0(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}const A0=new RegExp("^-?(0*)\\d{1,10}$"),O0=-2147483648,P0=2147483647,Ou=function(n){if(A0.test(n)){const e=Number(n);if(e>=O0&&e<=P0)return e}return null},jr=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw lt("Exception was thrown by user callback.",t),e},Math.floor(0))}},N0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ls=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){lt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lt(e)}}class Cr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Cr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl="5",rf="v",sf="s",of="r",af="f",lf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cf="ls",uf="p",ul="ac",df="websocket",hf="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t,r,s,i=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function D0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function pf(n,e,t){R(typeof e=="string","typeof type must == string"),R(typeof t=="object","typeof params must == object");let r;if(e===df)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===hf)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);D0(n)&&(t.ns=n.namespace);const s=[];return ct(t,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.counters_={}}incrementCounter(e,t=1){zt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Gg(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea={},Ca={};function Zl(n){const e=n.toString();return Ea[e]||(Ea[e]=new L0),Ea[e]}function $0(n,e){const t=n.toString();return Ca[t]||(Ca[t]=e()),Ca[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&jr(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="start",j0="close",U0="pLPCommand",V0="pRTLPCB",mf="id",gf="pw",_f="ser",z0="cb",W0="seg",H0="ts",G0="d",q0="dframe",vf=1870,yf=30,K0=vf-yf,Y0=25e3,X0=3e4;class _r{constructor(e,t,r,s,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ls(e),this.stats_=Zl(t),this.urlFn=l=>(this.appCheckToken&&(l[ul]=this.appCheckToken),pf(t,hf,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new B0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(X0)),k0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ec((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Pu)this.id=a,this.password=l;else if(o===j0)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Pu]="t",r[_f]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[z0]=this.scriptTagHolder.uniqueCallbackIdentifier),r[rf]=Jl,this.transportSessionId&&(r[sf]=this.transportSessionId),this.lastSessionId&&(r[cf]=this.lastSessionId),this.applicationId&&(r[uf]=this.applicationId),this.appCheckToken&&(r[ul]=this.appCheckToken),typeof location<"u"&&location.hostname&&lf.test(location.hostname)&&(r[of]=af);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_r.forceAllow_=!0}static forceDisallow(){_r.forceDisallow_=!0}static isAvailable(){return _r.forceAllow_?!0:!_r.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!I0()&&!T0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=$e(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=$h(t),s=tf(r,K0);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[q0]="t",r[mf]=e,r[gf]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=$e(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ec{constructor(e,t,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=C0(),window[U0+this.uniqueCallbackIdentifier]=e,window[V0+this.uniqueCallbackIdentifier]=t,this.myIFrame=ec.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qe("frame writing exception"),a.stack&&qe(a.stack),qe(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[mf]=this.myID,e[gf]=this.myPW,e[_f]=this.currentSerial;let t=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yf+r.length<=vf;){const o=this.pendingSegs.shift();r=r+"&"+W0+s+"="+o.seg+"&"+H0+s+"="+o.ts+"&"+G0+s+"="+o.d,s++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(r,Math.floor(Y0)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=16384,J0=45e3;let Ii=null;typeof MozWebSocket<"u"?Ii=MozWebSocket:typeof WebSocket<"u"&&(Ii=WebSocket);class Tt{constructor(e,t,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ls(this.connId),this.stats_=Zl(t),this.connURL=Tt.connectionURL_(t,o,a,s,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,s,i){const o={};return o[rf]=Jl,typeof location<"u"&&location.hostname&&lf.test(location.hostname)&&(o[of]=af),t&&(o[sf]=t),r&&(o[cf]=r),s&&(o[ul]=s),i&&(o[uf]=i),pf(e,df,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bn.set("previous_websocket_failure",!0);try{let r;Wh(),this.mySock=new Ii(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Tt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ii!==null&&!Tt.forceDisallow_}static previouslyFailed(){return Bn.isInMemoryStorage||Bn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Bn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=gs(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(R(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=$e(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=tf(t,Q0);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(J0))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Tt.responsesRequiredToBeHealthy=2;Tt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[_r,Tt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Tt&&Tt.isAvailable();let r=t&&!Tt.previouslyFailed();if(e.webSocketOnly&&(t||lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Tt];else{const s=this.transports_=[];for(const i of vs.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);vs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=6e4,ev=5e3,tv=10*1024,nv=100*1024,xa="t",Nu="d",rv="s",Mu="r",sv="e",Fu="o",Du="a",Lu="n",$u="p",iv="h";class ov{constructor(e,t,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ls("c:"+this.id+":"),this.transportManager_=new vs(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=ls(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>nv?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>tv?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xa in e){const t=e[xa];t===Du?this.upgradeIfSecondaryHealthy_():t===Mu?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Fu&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Yr("t",e),r=Yr("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$u,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Du,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Lu,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Yr("t",e),r=Yr("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Yr(xa,e);if(Nu in e){const r=e[Nu];if(t===iv){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===Lu){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===rv?this.onConnectionShutdown_(r):t===Mu?this.onReset_(r):t===sv?cl("Server Error: "+r):t===Fu?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cl("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Jl!==r&&lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),ls(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Z0))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ls(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ev))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$u,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{put(e,t,r,s){}merge(e,t,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.allowedEvents_=e,this.listeners_={},R(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const s=this.getInitialEvent(e);s&&t.apply(r,s)}off(e,t,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===t&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){R(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Ef{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hl()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ti}getInitialEvent(e){return R(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=32,ju=768;class he{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function re(){return new he("")}function J(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Sn(n){return n.pieces_.length-n.pieceNum_}function ge(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new he(n.pieces_,e)}function Cf(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function av(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function xf(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function wf(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new he(e,0)}function Be(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof he)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&t.push(r[s])}return new he(t,0)}function Z(n){return n.pieceNum_>=n.pieces_.length}function Ze(n,e){const t=J(n),r=J(e);if(t===null)return e;if(t===r)return Ze(ge(n),ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function tc(n,e){if(Sn(n)!==Sn(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Rt(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Sn(n)>Sn(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class lv{constructor(e,t){this.errorPrefix_=t,this.parts_=xf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=io(this.parts_[r]);kf(this)}}function cv(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=io(e),kf(n)}function uv(n){const e=n.parts_.pop();n.byteLength_-=io(e),n.parts_.length>0&&(n.byteLength_-=1)}function kf(n){if(n.byteLength_>ju)throw new Error(n.errorPrefix_+"has a key path longer than "+ju+" bytes ("+n.byteLength_+").");if(n.parts_.length>Bu)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bu+") or object contains a cycle "+Dn(n))}function Dn(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Ef{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new nc}getInitialEvent(e){return R(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=1e3,dv=60*5*1e3,Uu=30*1e3,hv=1.3,fv=3e4,pv="server_kill",Vu=3;class tn extends bf{constructor(e,t,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=tn.nextPersistentConnectionId_++,this.log_=Ls("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xr,this.maxReconnectDelay_=dv,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Wh())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ti.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const s=++this.requestNumber_,i={r:s,a:e,b:t};this.log_($e(i)),R(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const t=new so,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?t.resolve(a):t.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),R(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:t,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;tn.warnOnListenWarnings_(l,t),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&zt(e,"w")){const r=Tr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||l_(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Uu)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=a_(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,t)}sendUnlisten_(e,t,r,s){this.log_("Unlisten on "+e+" for "+t);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,s){const i={p:t,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,t,r,s){this.putInternal("p",e,t,r,s)}merge(e,t,r,s){this.putInternal("m",e,t,r,s)}putInternal(e,t,r,s,i){this.initConnection_();const o={p:t,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,i=>{this.log_(t+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+$e(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):cl("Unrecognized action received from server: "+$e(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){R(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>fv&&(this.reconnectDelay_=Xr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hv)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+tn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){R(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?qe("getToken() completed but was canceled"):(qe("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new ov(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,m=>{lt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(pv)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&lt(d),l())}}}interrupt(e){qe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],nl(this.interruptReasons_)&&(this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(i=>Ql(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const r=new he(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(t),i.delete(t),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,t){qe("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vu&&(this.reconnectDelay_=Uu,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){qe("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vu&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Jh.replace(/\./g,"-")]=1,Hl()?e["framework.cordova"]=1:zh()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ti.getInstance().currentlyOnline();return nl(this.interruptReasons_)&&e}}tn.nextPersistentConnectionId_=0;tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ee(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new ee(Qn,e),s=new ee(Qn,t);return this.compare(r,s)!==0}minPost(){return ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs;class Sf extends oo{static get __EMPTY_NODE(){return Zs}static set __EMPTY_NODE(e){Zs=e}compare(e,t){return Br(e.name,t.name)}isDefinedOn(e){throw Dr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ee.MIN}maxPost(){return new ee(kn,Zs)}makePost(e,t){return R(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,Zs)}toString(){return".key"}}const Gn=new Sf;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ue{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Ue.RED,this.left=s??at.EMPTY_NODE,this.right=i??at.EMPTY_NODE}copy(e,t,r,s,i){return new Ue(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return at.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,s;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return at.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ue.RED=!0;Ue.BLACK=!1;class mv{copy(e,t,r,s,i){return this}insert(e,t,r){return new Ue(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class at{constructor(e,t=at.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new at(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ue.BLACK,null,null))}remove(e){return new at(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ue.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,s=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ei(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ei(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ei(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ei(this.root_,null,this.comparator_,!0,e)}}at.EMPTY_NODE=new mv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(n,e){return Br(n.name,e.name)}function rc(n,e){return Br(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;function _v(n){dl=n}const If=function(n){return typeof n=="number"?"number:"+nf(n):"string:"+n},Tf=function(n){if(n.isLeafNode()){const e=n.val();R(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zt(e,".sv"),"Priority must be a string or number.")}else R(n===dl||n.isEmpty(),"priority of unexpected type.");R(n===dl||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu;class je{constructor(e,t=je.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,R(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Tf(this.priorityNode_)}static set __childrenNodeConstructor(e){zu=e}static get __childrenNodeConstructor(){return zu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new je(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Z(e)?this:J(e)===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=J(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(R(r!==".priority"||Sn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,je.__childrenNodeConstructor.EMPTY_NODE.updateChild(ge(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+If(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=nf(this.value_):e+=this.value_,this.lazyHash_=ef(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof je.__childrenNodeConstructor?-1:(R(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,s=je.VALUE_TYPE_ORDER.indexOf(t),i=je.VALUE_TYPE_ORDER.indexOf(r);return R(s>=0,"Unknown leaf type: "+t),R(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf,Af;function vv(n){Rf=n}function yv(n){Af=n}class bv extends oo{compare(e,t){const r=e.node.getPriority(),s=t.node.getPriority(),i=r.compareTo(s);return i===0?Br(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(kn,new je("[PRIORITY-POST]",Af))}makePost(e,t){const r=Rf(e);return new ee(t,new je("[PRIORITY-POST]",r))}toString(){return".priority"}}const Te=new bv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=Math.log(2);class Cv{constructor(e){const t=i=>parseInt(Math.log(i)/Ev,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ri=function(n,e,t,r){n.sort(e);const s=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=n[l],h=t?t(d):d,new Ue(h,d.node,Ue.BLACK,null,null);{const m=parseInt(u/2,10)+l,f=s(l,m),p=s(m+1,c);return d=n[m],h=t?t(d):d,new Ue(h,d.node,Ue.BLACK,f,p)}},i=function(l){let c=null,u=null,d=n.length;const h=function(f,p){const y=d-f,b=d;d-=f;const x=s(y+1,b),E=n[y],C=t?t(E):E;m(new Ue(C,E.node,p,null,x))},m=function(f){c?(c.left=f,c=f):(u=f,c=f)};for(let f=0;f<l.count;++f){const p=l.nextBitIsOne(),y=Math.pow(2,l.count-(f+1));p?h(y,Ue.BLACK):(h(y,Ue.BLACK),h(y,Ue.RED))}return u},o=new Cv(n.length),a=i(o);return new at(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa;const lr={};class Qt{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return R(lr&&Te,"ChildrenNode.ts has not been loaded"),wa=wa||new Qt({".priority":lr},{".priority":Te}),wa}get(e){const t=Tr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof at?t:null}hasIndex(e){return zt(this.indexSet_,e.toString())}addIndex(e,t){R(e!==Gn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=t.getIterator(ee.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Ri(r,e.getCompare()):a=lr;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Qt(u,c)}addToIndexes(e,t){const r=wi(this.indexes_,(s,i)=>{const o=Tr(this.indexSet_,i);if(R(o,"Missing index implementation for "+i),s===lr)if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(ee.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ri(a,o.getCompare())}else return lr;else{const a=t.get(e.name);let l=s;return a&&(l=l.remove(new ee(e.name,a))),l.insert(e,e.node)}});return new Qt(r,this.indexSet_)}removeFromIndexes(e,t){const r=wi(this.indexes_,s=>{if(s===lr)return s;{const i=t.get(e.name);return i?s.remove(new ee(e.name,i)):s}});return new Qt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qr;class H{constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Tf(this.priorityNode_),this.children_.isEmpty()&&R(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qr||(Qr=new H(new at(rc),null,Qt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qr}updatePriority(e){return this.children_.isEmpty()?this:new H(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Qr:t}}getChild(e){const t=J(e);return t===null?this:this.getImmediateChild(t).getChild(ge(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(R(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new ee(e,t);let s,i;t.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Qr:this.priorityNode_;return new H(s,o,i)}}updateChild(e,t){const r=J(e);if(r===null)return t;{R(J(e)!==".priority"||Sn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ge(e),t);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,s=0,i=!0;if(this.forEachChild(Te,(o,a)=>{t[o]=a.val(e),r++,i&&H.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+If(this.getPriority().val())+":"),this.forEachChild(Te,(t,r)=>{const s=r.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":ef(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ee(e,t));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ee(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ee(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ee.Wrap);let i=s.peek();for(;i!=null&&t.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ee.Wrap);let i=s.peek();for(;i!=null&&t.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$s?-1:0}withIndex(e){if(e===Gn||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new H(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Gn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(Te),s=t.getIterator(Te);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Gn?null:this.indexMap_.get(e.toString())}}H.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xv extends H{constructor(){super(new at(rc),H.EMPTY_NODE,Qt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return H.EMPTY_NODE}isEmpty(){return!1}}const $s=new xv;Object.defineProperties(ee,{MIN:{value:new ee(Qn,H.EMPTY_NODE)},MAX:{value:new ee(kn,$s)}});Sf.__EMPTY_NODE=H.EMPTY_NODE;je.__childrenNodeConstructor=H;_v($s);yv($s);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=!0;function Ve(n,e=null){if(n===null)return H.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),R(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new je(t,Ve(e))}if(!(n instanceof Array)&&wv){const t=[];let r=!1;if(ct(n,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ve(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new ee(o,l)))}}),t.length===0)return H.EMPTY_NODE;const i=Ri(t,gv,o=>o.name,rc);if(r){const o=Ri(t,Te.getCompare());return new H(i,Ve(e),new Qt({".priority":o},{".priority":Te}))}else return new H(i,Ve(e),Qt.Default)}else{let t=H.EMPTY_NODE;return ct(n,(r,s)=>{if(zt(n,r)&&r.substring(0,1)!=="."){const i=Ve(s);(i.isLeafNode()||!i.isEmpty())&&(t=t.updateImmediateChild(r,i))}}),t.updatePriority(Ve(e))}}vv(Ve);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends oo{constructor(e){super(),this.indexPath_=e,R(!Z(e)&&J(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),s=this.extractChild(t.node),i=r.compareTo(s);return i===0?Br(e.name,t.name):i}makePost(e,t){const r=Ve(e),s=H.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(t,s)}maxPost(){const e=H.EMPTY_NODE.updateChild(this.indexPath_,$s);return new ee(kn,e)}toString(){return xf(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends oo{compare(e,t){const r=e.node.compareTo(t.node);return r===0?Br(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,t){const r=Ve(e);return new ee(t,r)}toString(){return".value"}}const Of=new kv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(n){return{type:"value",snapshotNode:n}}function Ar(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function ys(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function bs(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function Sv(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.index_=e}updateChild(e,t,r,s,i,o){R(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(ys(t,a)):R(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ar(t,r)):o.trackChildChange(bs(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Te,(s,i)=>{t.hasChild(s)||r.trackChildChange(ys(s,i))}),t.isLeafNode()||t.forEachChild(Te,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(bs(s,i,o))}else r.trackChildChange(Ar(s,i))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?H.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.indexedFilter_=new ic(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Es.getStartPost_(e),this.endPost_=Es.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,s,i,o){return this.matches(new ee(t,r))||(r=H.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,s,i,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=H.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(H.EMPTY_NODE);const i=this;return t.forEachChild(Te,(o,a)=>{i.matches(new ee(o,a))||(s=s.updateImmediateChild(o,H.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Es(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,s,i,o){return this.rangedFilter_.matches(new ee(t,r))||(r=H.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,s,i,o):this.fullLimitUpdateChild_(e,t,r,i,o)}updateFullNode(e,t,r){let s;if(t.isLeafNode()||t.isEmpty())s=H.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=H.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=t.withIndex(this.index_),s=s.updatePriority(H.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,H.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,m)=>d(m,h)}else o=this.index_.getCompare();const a=e;R(a.numChildren()===this.limit_,"");const l=new ee(t,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const d=a.getImmediateChild(t);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===t||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const m=h==null?1:o(h,l);if(u&&!r.isEmpty()&&m>=0)return i!=null&&i.trackChildChange(bs(t,r,d)),a.updateImmediateChild(t,r);{i!=null&&i.trackChildChange(ys(t,d));const p=a.updateImmediateChild(t,H.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(Ar(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}}else return r.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(ys(c.name,c.node)),i.trackChildChange(Ar(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(c.name,H.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return R(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return R(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qn}hasEnd(){return this.endSet_}getIndexEndValue(){return R(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return R(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:kn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return R(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Te}copy(){const e=new oc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Tv(n){return n.loadsAllData()?new ic(n.getIndex()):n.hasLimit()?new Iv(n):new Es(n)}function Rv(n,e){const t=n.copy();return t.index_=e,t}function Wu(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Te?t="$priority":n.index_===Of?t="$value":n.index_===Gn?t="$key":(R(n.index_ instanceof sc,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=$e(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=$e(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+$e(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=$e(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+$e(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Hu(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Te&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends bf{constructor(e,t,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Ls("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(R(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Ai.getListenId_(e,r),a={};this.listens_[o]=a;const l=Wu(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),Tr(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,t){const r=Ai.getListenId_(e,t);delete this.listens_[r]}get(e){const t=Wu(e._queryParams),r=e._path.toString(),s=new so;return this.restRequest_(r+".json",t,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(t.auth=s.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Lr(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=gs(a.responseText)}catch{lt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&lt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return{value:null,children:new Map}}function Nf(n,e,t){if(Z(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=J(e);n.children.has(r)||n.children.set(r,Oi());const s=n.children.get(r);e=ge(e),Nf(s,e,t)}}function hl(n,e,t){n.value!==null?t(e,n.value):Ov(n,(r,s)=>{const i=new he(e.toString()+"/"+r);hl(s,i,t)})}function Ov(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ct(this.last_,(r,s)=>{t[r]=t[r]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=10*1e3,Nv=30*1e3,Mv=5*60*1e3;class Fv{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Pv(e);const r=Gu+(Nv-Gu)*Math.random();ls(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;ct(e,(s,i)=>{i>0&&zt(this.statsToReport_,s)&&(t[s]=i,r=!0)}),r&&this.server_.reportStats(t),ls(this.reportStats_.bind(this),Math.floor(Math.random()*2*Mv))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(At||(At={}));function Mf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ac(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lc(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=At.ACK_USER_WRITE,this.source=Mf()}operationForChild(e){if(Z(this.path)){if(this.affectedTree.value!=null)return R(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new he(e));return new Pi(re(),t,this.revert)}}else return R(J(this.path)===e,"operationForChild called for unrelated child."),new Pi(ge(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t){this.source=e,this.path=t,this.type=At.LISTEN_COMPLETE}operationForChild(e){return Z(this.path)?new Cs(this.source,re()):new Cs(this.source,ge(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=At.OVERWRITE}operationForChild(e){return Z(this.path)?new Jn(this.source,re(),this.snap.getImmediateChild(e)):new Jn(this.source,ge(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=At.MERGE}operationForChild(e){if(Z(this.path)){const t=this.children.subtree(new he(e));return t.isEmpty()?null:t.value?new Jn(this.source,re(),t.value):new xs(this.source,re(),t)}else return R(J(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xs(this.source,ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;const t=J(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Lv(n,e,t,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Sv(o.childName,o.snapshotNode))}),Jr(n,s,"child_removed",e,r,t),Jr(n,s,"child_added",e,r,t),Jr(n,s,"child_moved",i,r,t),Jr(n,s,"child_changed",e,r,t),Jr(n,s,"value",e,r,t),s}function Jr(n,e,t,r,s,i){const o=r.filter(a=>a.type===t);o.sort((a,l)=>Bv(n,a,l)),o.forEach(a=>{const l=$v(n,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function $v(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function Bv(n,e,t){if(e.childName==null||t.childName==null)throw Dr("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),s=new ee(t.childName,t.snapshotNode);return n.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(n,e){return{eventCache:n,serverCache:e}}function cs(n,e,t,r){return ao(new In(e,t,r),n.serverCache)}function Ff(n,e,t,r){return ao(n.eventCache,new In(e,t,r))}function Ni(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Zn(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka;const jv=()=>(ka||(ka=new at(S0)),ka);class be{constructor(e,t=jv()){this.value=e,this.children=t}static fromObject(e){let t=new be(null);return ct(e,(r,s)=>{t=t.set(new he(r),s)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:re(),value:this.value};if(Z(e))return null;{const r=J(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(ge(e),t);return i!=null?{path:Be(new he(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{const t=J(e),r=this.children.get(t);return r!==null?r.subtree(ge(e)):new be(null)}}set(e,t){if(Z(e))return new be(t,this.children);{const r=J(e),i=(this.children.get(r)||new be(null)).set(ge(e),t),o=this.children.insert(r,i);return new be(this.value,o)}}remove(e){if(Z(e))return this.children.isEmpty()?new be(null):new be(null,this.children);{const t=J(e),r=this.children.get(t);if(r){const s=r.remove(ge(e));let i;return s.isEmpty()?i=this.children.remove(t):i=this.children.insert(t,s),this.value===null&&i.isEmpty()?new be(null):new be(this.value,i)}else return this}}get(e){if(Z(e))return this.value;{const t=J(e),r=this.children.get(t);return r?r.get(ge(e)):null}}setTree(e,t){if(Z(e))return t;{const r=J(e),i=(this.children.get(r)||new be(null)).setTree(ge(e),t);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new be(this.value,o)}}fold(e){return this.fold_(re(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Be(e,s),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,re(),t)}findOnPath_(e,t,r){const s=this.value?r(t,this.value):!1;if(s)return s;if(Z(e))return null;{const i=J(e),o=this.children.get(i);return o?o.findOnPath_(ge(e),Be(t,i),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,re(),t)}foreachOnPath_(e,t,r){if(Z(e))return this;{this.value&&r(t,this.value);const s=J(e),i=this.children.get(s);return i?i.foreachOnPath_(ge(e),Be(t,s),r):new be(null)}}foreach(e){this.foreach_(re(),e)}foreach_(e,t){this.children.inorderTraversal((r,s)=>{s.foreach_(Be(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.writeTree_=e}static empty(){return new Ot(new be(null))}}function us(n,e,t){if(Z(e))return new Ot(new be(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Ze(s,e);return i=i.updateChild(o,t),new Ot(n.writeTree_.set(s,i))}else{const s=new be(t),i=n.writeTree_.setTree(e,s);return new Ot(i)}}}function qu(n,e,t){let r=n;return ct(t,(s,i)=>{r=us(r,Be(e,s),i)}),r}function Ku(n,e){if(Z(e))return Ot.empty();{const t=n.writeTree_.setTree(e,new be(null));return new Ot(t)}}function fl(n,e){return sr(n,e)!=null}function sr(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Ze(t.path,e)):null}function Yu(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Te,(r,s)=>{e.push(new ee(r,s))}):n.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ee(r,s.value))}),e}function En(n,e){if(Z(e))return n;{const t=sr(n,e);return t!=null?new Ot(new be(t)):new Ot(n.writeTree_.subtree(e))}}function pl(n){return n.writeTree_.isEmpty()}function Or(n,e){return Df(re(),n.writeTree_,e)}function Df(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(R(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):t=Df(Be(n,s),i,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Be(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(n,e){return jf(e,n)}function Uv(n,e,t,r,s){R(r>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:s}),s&&(n.visibleWrites=us(n.visibleWrites,e,t)),n.lastWriteId=r}function Vv(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function zv(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);R(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let s=r.visible,i=!1,o=n.allWrites.length-1;for(;s&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&Wv(a,r.path)?s=!1:Rt(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return Hv(n),!0;if(r.snap)n.visibleWrites=Ku(n.visibleWrites,r.path);else{const a=r.children;ct(a,l=>{n.visibleWrites=Ku(n.visibleWrites,Be(r.path,l))})}return!0}else return!1}function Wv(n,e){if(n.snap)return Rt(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Rt(Be(n.path,t),e))return!0;return!1}function Hv(n){n.visibleWrites=Lf(n.allWrites,Gv,re()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Gv(n){return n.visible}function Lf(n,e,t){let r=Ot.empty();for(let s=0;s<n.length;++s){const i=n[s];if(e(i)){const o=i.path;let a;if(i.snap)Rt(t,o)?(a=Ze(t,o),r=us(r,a,i.snap)):Rt(o,t)&&(a=Ze(o,t),r=us(r,re(),i.snap.getChild(a)));else if(i.children){if(Rt(t,o))a=Ze(t,o),r=qu(r,a,i.children);else if(Rt(o,t))if(a=Ze(o,t),Z(a))r=qu(r,re(),i.children);else{const l=Tr(i.children,J(a));if(l){const c=l.getChild(ge(a));r=us(r,re(),c)}}}else throw Dr("WriteRecord should have .snap or .children")}}return r}function $f(n,e,t,r,s){if(!r&&!s){const i=sr(n.visibleWrites,e);if(i!=null)return i;{const o=En(n.visibleWrites,e);if(pl(o))return t;if(t==null&&!fl(o,re()))return null;{const a=t||H.EMPTY_NODE;return Or(o,a)}}}else{const i=En(n.visibleWrites,e);if(!s&&pl(i))return t;if(!s&&t==null&&!fl(i,re()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Rt(c.path,e)||Rt(e,c.path))},a=Lf(n.allWrites,o,e),l=t||H.EMPTY_NODE;return Or(a,l)}}}function qv(n,e,t){let r=H.EMPTY_NODE;const s=sr(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Te,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(t){const i=En(n.visibleWrites,e);return t.forEachChild(Te,(o,a)=>{const l=Or(En(i,new he(o)),a);r=r.updateImmediateChild(o,l)}),Yu(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=En(n.visibleWrites,e);return Yu(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Kv(n,e,t,r,s){R(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Be(e,t);if(fl(n.visibleWrites,i))return null;{const o=En(n.visibleWrites,i);return pl(o)?s.getChild(t):Or(o,s.getChild(t))}}function Yv(n,e,t,r){const s=Be(e,t),i=sr(n.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(t)){const o=En(n.visibleWrites,s);return Or(o,r.getNode().getImmediateChild(t))}else return null}function Xv(n,e){return sr(n.visibleWrites,e)}function Qv(n,e,t,r,s,i,o){let a;const l=En(n.visibleWrites,e),c=sr(l,re());if(c!=null)a=c;else if(t!=null)a=Or(l,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=h.getNext();for(;m&&u.length<s;)d(m,r)!==0&&u.push(m),m=h.getNext();return u}else return[]}function Jv(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function Mi(n,e,t,r){return $f(n.writeTree,n.treePath,e,t,r)}function cc(n,e){return qv(n.writeTree,n.treePath,e)}function Xu(n,e,t,r){return Kv(n.writeTree,n.treePath,e,t,r)}function Fi(n,e){return Xv(n.writeTree,Be(n.treePath,e))}function Zv(n,e,t,r,s,i){return Qv(n.writeTree,n.treePath,e,t,r,s,i)}function uc(n,e,t){return Yv(n.writeTree,n.treePath,e,t)}function Bf(n,e){return jf(Be(n.treePath,e),n.writeTree)}function jf(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;R(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),R(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(t==="child_added"&&i==="child_removed")this.changeMap.set(r,bs(r,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&i==="child_changed")this.changeMap.set(r,ys(r,s.oldSnap));else if(t==="child_changed"&&i==="child_added")this.changeMap.set(r,Ar(r,e.snapshotNode));else if(t==="child_changed"&&i==="child_changed")this.changeMap.set(r,bs(r,e.snapshotNode,s.oldSnap));else throw Dr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const Uf=new ty;class dc{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new In(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uc(this.writes_,e,r)}}getChildAfterChild(e,t,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zn(this.viewCache_),i=Zv(this.writes_,s,t,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(n){return{filter:n}}function ry(n,e){R(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),R(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function sy(n,e,t,r,s){const i=new ey;let o,a;if(t.type===At.OVERWRITE){const c=t;c.source.fromUser?o=ml(n,e,c.path,c.snap,r,s,i):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Z(c.path),o=Di(n,e,c.path,c.snap,r,s,a,i))}else if(t.type===At.MERGE){const c=t;c.source.fromUser?o=oy(n,e,c.path,c.children,r,s,i):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=gl(n,e,c.path,c.children,r,s,a,i))}else if(t.type===At.ACK_USER_WRITE){const c=t;c.revert?o=cy(n,e,c.path,r,s,i):o=ay(n,e,c.path,c.affectedTree,r,s,i)}else if(t.type===At.LISTEN_COMPLETE)o=ly(n,e,t.path,r,i);else throw Dr("Unknown operation type: "+t.type);const l=i.getChanges();return iy(e,o,l),{viewCache:o,changes:l}}function iy(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Ni(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&t.push(Pf(Ni(e)))}}function Vf(n,e,t,r,s,i){const o=e.eventCache;if(Fi(r,t)!=null)return e;{let a,l;if(Z(t))if(R(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Zn(e),u=c instanceof H?c:H.EMPTY_NODE,d=cc(r,u);a=n.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Mi(r,Zn(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=J(t);if(c===".priority"){R(Sn(t)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Xu(r,t,u,l);d!=null?a=n.filter.updatePriority(u,d):a=o.getNode()}else{const u=ge(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Xu(r,t,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=uc(r,c,e.serverCache);d!=null?a=n.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return cs(e,a,o.isFullyInitialized()||Z(t),n.filter.filtersNodes())}}function Di(n,e,t,r,s,i,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(Z(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),m,null)}else{const m=J(t);if(!l.isCompleteForPath(t)&&Sn(t)>1)return e;const f=ge(t),y=l.getNode().getImmediateChild(m).updateChild(f,r);m===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),m,y,f,Uf,null)}const d=Ff(e,c,l.isFullyInitialized()||Z(t),u.filtersNodes()),h=new dc(s,d,i);return Vf(n,d,t,s,h,a)}function ml(n,e,t,r,s,i,o){const a=e.eventCache;let l,c;const u=new dc(s,e,i);if(Z(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=cs(e,c,!0,n.filter.filtersNodes());else{const d=J(t);if(d===".priority")c=n.filter.updatePriority(e.eventCache.getNode(),r),l=cs(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=ge(t),m=a.getNode().getImmediateChild(d);let f;if(Z(h))f=r;else{const p=u.getCompleteChild(d);p!=null?Cf(h)===".priority"&&p.getChild(wf(h)).isEmpty()?f=p:f=p.updateChild(h,r):f=H.EMPTY_NODE}if(m.equals(f))l=e;else{const p=n.filter.updateChild(a.getNode(),d,f,h,u,o);l=cs(e,p,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function Qu(n,e){return n.eventCache.isCompleteForChild(e)}function oy(n,e,t,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=Be(t,l);Qu(e,J(u))&&(a=ml(n,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=Be(t,l);Qu(e,J(u))||(a=ml(n,a,u,c,s,i,o))}),a}function Ju(n,e,t){return t.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function gl(n,e,t,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Z(t)?c=r:c=new be(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),f=Ju(n,m,h);l=Di(n,l,new he(d),f,s,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const m=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!m){const f=e.serverCache.getNode().getImmediateChild(d),p=Ju(n,f,h);l=Di(n,l,new he(d),p,s,i,o,a)}}),l}function ay(n,e,t,r,s,i,o){if(Fi(s,t)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Z(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Di(n,e,t,l.getNode().getChild(t),s,i,a,o);if(Z(t)){let c=new be(null);return l.getNode().forEachChild(Gn,(u,d)=>{c=c.set(new he(u),d)}),gl(n,e,t,c,s,i,a,o)}else return e}else{let c=new be(null);return r.foreach((u,d)=>{const h=Be(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),gl(n,e,t,c,s,i,a,o)}}function ly(n,e,t,r,s){const i=e.serverCache,o=Ff(e,i.getNode(),i.isFullyInitialized()||Z(t),i.isFiltered());return Vf(n,o,t,r,Uf,s)}function cy(n,e,t,r,s,i){let o;if(Fi(r,t)!=null)return e;{const a=new dc(r,e,s),l=e.eventCache.getNode();let c;if(Z(t)||J(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Mi(r,Zn(e));else{const d=e.serverCache.getNode();R(d instanceof H,"serverChildren would be complete if leaf node"),u=cc(r,d)}u=u,c=n.filter.updateFullNode(l,u,i)}else{const u=J(t);let d=uc(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=n.filter.updateChild(l,u,d,ge(t),a,i):e.eventCache.getNode().hasChild(u)?c=n.filter.updateChild(l,u,H.EMPTY_NODE,ge(t),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Mi(r,Zn(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Fi(r,re())!=null,cs(e,c,o,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new ic(r.getIndex()),i=Tv(r);this.processor_=ny(i);const o=t.serverCache,a=t.eventCache,l=s.updateFullNode(H.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(H.EMPTY_NODE,a.getNode(),null),u=new In(l,o.isFullyInitialized(),s.filtersNodes()),d=new In(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ao(d,u),this.eventGenerator_=new Dv(this.query_)}get query(){return this.query_}}function dy(n){return n.viewCache_.serverCache.getNode()}function hy(n){return Ni(n.viewCache_)}function fy(n,e){const t=Zn(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Z(e)&&!t.getImmediateChild(J(e)).isEmpty())?t.getChild(e):null}function Zu(n){return n.eventRegistrations_.length===0}function py(n,e){n.eventRegistrations_.push(e)}function ed(n,e,t){const r=[];if(t){R(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(t,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<n.eventRegistrations_.length;++i){const o=n.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(i+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return r}function td(n,e,t,r){e.type===At.MERGE&&e.source.queryId!==null&&(R(Zn(n.viewCache_),"We should always have a full cache before handling merges"),R(Ni(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,i=sy(n.processor_,s,e,t,r);return ry(n.processor_,i.viewCache),R(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=i.viewCache,zf(n,i.changes,i.viewCache.eventCache.getNode(),null)}function my(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Te,(i,o)=>{r.push(Ar(i,o))}),t.isFullyInitialized()&&r.push(Pf(t.getNode())),zf(n,r,t.getNode(),e)}function zf(n,e,t,r){const s=r?[r]:n.eventRegistrations_;return Lv(n.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Li;class Wf{constructor(){this.views=new Map}}function gy(n){R(!Li,"__referenceConstructor has already been defined"),Li=n}function _y(){return R(Li,"Reference.ts has not been loaded"),Li}function vy(n){return n.views.size===0}function hc(n,e,t,r){const s=e.source.queryId;if(s!==null){const i=n.views.get(s);return R(i!=null,"SyncTree gave us an op for an invalid query."),td(i,e,t,r)}else{let i=[];for(const o of n.views.values())i=i.concat(td(o,e,t,r));return i}}function Hf(n,e,t,r,s){const i=e._queryIdentifier,o=n.views.get(i);if(!o){let a=Mi(t,s?r:null),l=!1;a?l=!0:r instanceof H?(a=cc(t,r),l=!1):(a=H.EMPTY_NODE,l=!1);const c=ao(new In(a,l,!1),new In(r,s,!1));return new uy(e,c)}return o}function yy(n,e,t,r,s,i){const o=Hf(n,e,r,s,i);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),py(o,t),my(o,t)}function by(n,e,t,r){const s=e._queryIdentifier,i=[];let o=[];const a=Tn(n);if(s==="default")for(const[l,c]of n.views.entries())o=o.concat(ed(c,t,r)),Zu(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=n.views.get(s);l&&(o=o.concat(ed(l,t,r)),Zu(l)&&(n.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Tn(n)&&i.push(new(_y())(e._repo,e._path)),{removed:i,events:o}}function Gf(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Cn(n,e){let t=null;for(const r of n.views.values())t=t||fy(r,e);return t}function qf(n,e){if(e._queryParams.loadsAllData())return co(n);{const r=e._queryIdentifier;return n.views.get(r)}}function Kf(n,e){return qf(n,e)!=null}function Tn(n){return co(n)!=null}function co(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i;function Ey(n){R(!$i,"__referenceConstructor has already been defined"),$i=n}function Cy(){return R($i,"Reference.ts has not been loaded"),$i}let xy=1;class nd{constructor(e){this.listenProvider_=e,this.syncPointTree_=new be(null),this.pendingWriteTree_=Jv(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Yf(n,e,t,r,s){return Uv(n.pendingWriteTree_,e,t,r,s),s?js(n,new Jn(Mf(),e,t)):[]}function jn(n,e,t=!1){const r=Vv(n.pendingWriteTree_,e);if(zv(n.pendingWriteTree_,e)){let i=new be(null);return r.snap!=null?i=i.set(re(),!0):ct(r.children,o=>{i=i.set(new he(o),!0)}),js(n,new Pi(r.path,i,t))}else return[]}function Bs(n,e,t){return js(n,new Jn(ac(),e,t))}function wy(n,e,t){const r=be.fromObject(t);return js(n,new xs(ac(),e,r))}function ky(n,e){return js(n,new Cs(ac(),e))}function Sy(n,e,t){const r=pc(n,t);if(r){const s=mc(r),i=s.path,o=s.queryId,a=Ze(i,e),l=new Cs(lc(o),a);return gc(n,i,l)}else return[]}function Bi(n,e,t,r,s=!1){const i=e._path,o=n.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||Kf(o,e))){const l=by(o,e,t,r);vy(o)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=n.syncPointTree_.findOnPath(i,(h,m)=>Tn(m));if(u&&!d){const h=n.syncPointTree_.subtree(i);if(!h.isEmpty()){const m=Ry(h);for(let f=0;f<m.length;++f){const p=m[f],y=p.query,b=Zf(n,p);n.listenProvider_.startListening(ds(y),ws(n,y),b.hashFn,b.onComplete)}}}!d&&c.length>0&&!r&&(u?n.listenProvider_.stopListening(ds(e),null):c.forEach(h=>{const m=n.queryToTagMap.get(uo(h));n.listenProvider_.stopListening(ds(h),m)}))}Ay(n,c)}return a}function Xf(n,e,t,r){const s=pc(n,r);if(s!=null){const i=mc(s),o=i.path,a=i.queryId,l=Ze(o,e),c=new Jn(lc(a),l,t);return gc(n,o,c)}else return[]}function Iy(n,e,t,r){const s=pc(n,r);if(s){const i=mc(s),o=i.path,a=i.queryId,l=Ze(o,e),c=be.fromObject(t),u=new xs(lc(a),l,c);return gc(n,o,u)}else return[]}function _l(n,e,t,r=!1){const s=e._path;let i=null,o=!1;n.syncPointTree_.foreachOnPath(s,(h,m)=>{const f=Ze(h,s);i=i||Cn(m,f),o=o||Tn(m)});let a=n.syncPointTree_.get(s);a?(o=o||Tn(a),i=i||Cn(a,re())):(a=new Wf,n.syncPointTree_=n.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=H.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((m,f)=>{const p=Cn(f,re());p&&(i=i.updateImmediateChild(m,p))}));const c=Kf(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=uo(e);R(!n.queryToTagMap.has(h),"View does not exist, but we have a tag");const m=Oy();n.queryToTagMap.set(h,m),n.tagToQueryMap.set(m,h)}const u=lo(n.pendingWriteTree_,s);let d=yy(a,e,t,u,i,l);if(!c&&!o&&!r){const h=qf(a,e);d=d.concat(Py(n,e,h))}return d}function fc(n,e,t){const s=n.pendingWriteTree_,i=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ze(o,e),c=Cn(a,l);if(c)return c});return $f(s,e,i,t,!0)}function Ty(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(c,u)=>{const d=Ze(c,t);r=r||Cn(u,d)});let s=n.syncPointTree_.get(t);s?r=r||Cn(s,re()):(s=new Wf,n.syncPointTree_=n.syncPointTree_.set(t,s));const i=r!=null,o=i?new In(r,!0,!1):null,a=lo(n.pendingWriteTree_,e._path),l=Hf(s,e,a,i?o.getNode():H.EMPTY_NODE,i);return hy(l)}function js(n,e){return Qf(e,n.syncPointTree_,null,lo(n.pendingWriteTree_,re()))}function Qf(n,e,t,r){if(Z(n.path))return Jf(n,e,t,r);{const s=e.get(re());t==null&&s!=null&&(t=Cn(s,re()));let i=[];const o=J(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=Bf(r,o);i=i.concat(Qf(a,l,c,u))}return s&&(i=i.concat(hc(s,n,r,t))),i}}function Jf(n,e,t,r){const s=e.get(re());t==null&&s!=null&&(t=Cn(s,re()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=Bf(r,o),u=n.operationForChild(o);u&&(i=i.concat(Jf(u,a,l,c)))}),s&&(i=i.concat(hc(s,n,r,t))),i}function Zf(n,e){const t=e.query,r=ws(n,t);return{hashFn:()=>(dy(e)||H.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?Sy(n,t._path,r):ky(n,t._path);{const i=R0(s,t);return Bi(n,t,null,i)}}}}function ws(n,e){const t=uo(e);return n.queryToTagMap.get(t)}function uo(n){return n._path.toString()+"$"+n._queryIdentifier}function pc(n,e){return n.tagToQueryMap.get(e)}function mc(n){const e=n.indexOf("$");return R(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new he(n.substr(0,e))}}function gc(n,e,t){const r=n.syncPointTree_.get(e);R(r,"Missing sync point for query tag that we're tracking");const s=lo(n.pendingWriteTree_,e);return hc(r,t,s,null)}function Ry(n){return n.fold((e,t,r)=>{if(t&&Tn(t))return[co(t)];{let s=[];return t&&(s=Gf(t)),ct(r,(i,o)=>{s=s.concat(o)}),s}})}function ds(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Cy())(n._repo,n._path):n}function Ay(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const s=uo(r),i=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(i)}}}function Oy(){return xy++}function Py(n,e,t){const r=e._path,s=ws(n,e),i=Zf(n,t),o=n.listenProvider_.startListening(ds(e),s,i.hashFn,i.onComplete),a=n.syncPointTree_.subtree(r);if(s)R(!Tn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Z(c)&&u&&Tn(u))return[co(u).query];{let h=[];return u&&(h=h.concat(Gf(u).map(m=>m.query))),ct(d,(m,f)=>{h=h.concat(f)}),h}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(ds(u),ws(n,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new _c(t)}node(){return this.node_}}class vc{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Be(this.path_,e);return new vc(this.syncTree_,t)}node(){return fc(this.syncTree_,this.path_)}}const Ny=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},rd=function(n,e,t){if(!n||typeof n!="object")return n;if(R(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return My(n[".sv"],e,t);if(typeof n[".sv"]=="object")return Fy(n[".sv"],e);R(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},My=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:R(!1,"Unexpected server value: "+n)}},Fy=function(n,e,t){n.hasOwnProperty("increment")||R(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&R(!1,"Unexpected increment value: "+r);const s=e.node();if(R(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Dy=function(n,e,t,r){return yc(e,new vc(t,n),r)},ep=function(n,e,t){return yc(n,new _c(e),t)};function yc(n,e,t){const r=n.getPriority().val(),s=rd(r,e.getImmediateChild(".priority"),t);let i;if(n.isLeafNode()){const o=n,a=rd(o.getValue(),e,t);return a!==o.getValue()||s!==o.getPriority().val()?new je(a,Ve(s)):n}else{const o=n;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new je(s))),o.forEachChild(Te,(a,l)=>{const c=yc(l,e.getImmediateChild(a),t);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Ec(n,e){let t=e instanceof he?e:new he(e),r=n,s=J(t);for(;s!==null;){const i=Tr(r.node.children,s)||{children:{},childCount:0};r=new bc(s,r,i),t=ge(t),s=J(t)}return r}function Ur(n){return n.node.value}function tp(n,e){n.node.value=e,vl(n)}function np(n){return n.node.childCount>0}function Ly(n){return Ur(n)===void 0&&!np(n)}function ho(n,e){ct(n.node.children,(t,r)=>{e(new bc(t,n,r))})}function rp(n,e,t,r){t&&!r&&e(n),ho(n,s=>{rp(s,e,!0,r)}),t&&r&&e(n)}function $y(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Us(n){return new he(n.parent===null?n.name:Us(n.parent)+"/"+n.name)}function vl(n){n.parent!==null&&By(n.parent,n.name,n)}function By(n,e,t){const r=Ly(t),s=zt(n.node.children,e);r&&s?(delete n.node.children[e],n.node.childCount--,vl(n)):!r&&!s&&(n.node.children[e]=t.node,n.node.childCount++,vl(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=/[\[\].#$\/\u0000-\u001F\u007F]/,Uy=/[\[\].#$\u0000-\u001F\u007F]/,Sa=10*1024*1024,sp=function(n){return typeof n=="string"&&n.length!==0&&!jy.test(n)},ip=function(n){return typeof n=="string"&&n.length!==0&&!Uy.test(n)},Vy=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ip(n)},sd=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Xl(n)||n&&typeof n=="object"&&zt(n,".sv")},zy=function(n,e,t,r){r&&e===void 0||Cc(Gl(n,"value"),e,t)},Cc=function(n,e,t){const r=t instanceof he?new lv(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Dn(r));if(typeof e=="function")throw new Error(n+"contains a function "+Dn(r)+" with contents = "+e.toString());if(Xl(e))throw new Error(n+"contains "+e.toString()+" "+Dn(r));if(typeof e=="string"&&e.length>Sa/3&&io(e)>Sa)throw new Error(n+"contains a string greater than "+Sa+" utf8 bytes "+Dn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(ct(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!sp(o)))throw new Error(n+" contains an invalid key ("+o+") "+Dn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cv(r,o),Cc(n,a,r),uv(r)}),s&&i)throw new Error(n+' contains ".value" child '+Dn(r)+" in addition to actual children.")}},xc=function(n,e,t,r){if(!(r&&t===void 0)&&!ip(t))throw new Error(Gl(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Wy=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xc(n,e,t,r)},op=function(n,e){if(J(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},Hy=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!sp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Vy(t))throw new Error(Gl(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wc(n,e){let t=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();t!==null&&!tc(i,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:i}),t.events.push(s)}t&&n.eventLists_.push(t)}function ap(n,e,t){wc(n,t),lp(n,r=>tc(r,e))}function Ut(n,e,t){wc(n,t),lp(n,r=>Rt(r,e)||Rt(e,r))}function lp(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const s=n.eventLists_[r];if(s){const i=s.path;e(i)?(qy(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function qy(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();Hn&&qe("event: "+t.toString()),jr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="repo_interrupt",Yy=25;class Xy{constructor(e,t,r,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oi(),this.transactionQueueTree_=new bc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Qy(n,e,t){if(n.stats_=Zl(n.repoInfo_),n.forceRestClient_||N0())n.server_=new Ai(n.repoInfo_,(r,s,i,o)=>{id(n,r,s,i,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>od(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new tn(n.repoInfo_,e,(r,s,i,o)=>{id(n,r,s,i,o)},r=>{od(n,r)},r=>{Zy(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=$0(n.repoInfo_,()=>new Fv(n.stats_,n.server_)),n.infoData_=new Av,n.infoSyncTree_=new nd({startListening:(r,s,i,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=Bs(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Sc(n,"connected",!1),n.serverSyncTree_=new nd({startListening:(r,s,i,o)=>(n.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Ut(n.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{n.server_.unlisten(r,s)}})}function Jy(n){const t=n.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function kc(n){return Ny({timestamp:Jy(n)})}function id(n,e,t,r,s){n.dataUpdateCount++;const i=new he(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(s)if(r){const l=wi(t,c=>Ve(c));o=Iy(n.serverSyncTree_,i,l,s)}else{const l=Ve(t);o=Xf(n.serverSyncTree_,i,l,s)}else if(r){const l=wi(t,c=>Ve(c));o=wy(n.serverSyncTree_,i,l)}else{const l=Ve(t);o=Bs(n.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=po(n,i)),Ut(n.eventQueue_,a,o)}function od(n,e){Sc(n,"connected",e),e===!1&&nb(n)}function Zy(n,e){ct(e,(t,r)=>{Sc(n,t,r)})}function Sc(n,e,t){const r=new he("/.info/"+e),s=Ve(t);n.infoData_.updateSnapshot(r,s);const i=Bs(n.infoSyncTree_,r,s);Ut(n.eventQueue_,r,i)}function cp(n){return n.nextWriteId_++}function eb(n,e,t){const r=Ty(n.serverSyncTree_,e);return r!=null?Promise.resolve(r):n.server_.get(e).then(s=>{const i=Ve(s).withIndex(e._queryParams.getIndex());_l(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=Bs(n.serverSyncTree_,e._path,i);else{const a=ws(n.serverSyncTree_,e);o=Xf(n.serverSyncTree_,e._path,i,a)}return Ut(n.eventQueue_,e._path,o),Bi(n.serverSyncTree_,e,t,null,!0),i},s=>(fo(n,"get for query "+$e(e)+" failed: "+s),Promise.reject(new Error(s))))}function tb(n,e,t,r,s){fo(n,"set",{path:e.toString(),value:t,priority:r});const i=kc(n),o=Ve(t,r),a=fc(n.serverSyncTree_,e),l=ep(o,a,i),c=cp(n),u=Yf(n.serverSyncTree_,e,l,c,!0);wc(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(h,m)=>{const f=h==="ok";f||lt("set at "+e+" failed: "+h);const p=jn(n.serverSyncTree_,c,!f);Ut(n.eventQueue_,e,p),ib(n,s,h,m)});const d=pp(n,e);po(n,d),Ut(n.eventQueue_,d,[])}function nb(n){fo(n,"onDisconnectEvents");const e=kc(n),t=Oi();hl(n.onDisconnect_,re(),(s,i)=>{const o=Dy(s,i,n.serverSyncTree_,e);Nf(t,s,o)});let r=[];hl(t,re(),(s,i)=>{r=r.concat(Bs(n.serverSyncTree_,s,i));const o=pp(n,s);po(n,o)}),n.onDisconnect_=Oi(),Ut(n.eventQueue_,re(),r)}function rb(n,e,t){let r;J(e._path)===".info"?r=_l(n.infoSyncTree_,e,t):r=_l(n.serverSyncTree_,e,t),ap(n.eventQueue_,e._path,r)}function ad(n,e,t){let r;J(e._path)===".info"?r=Bi(n.infoSyncTree_,e,t):r=Bi(n.serverSyncTree_,e,t),ap(n.eventQueue_,e._path,r)}function sb(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Ky)}function fo(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),qe(t,...e)}function ib(n,e,t,r){e&&jr(()=>{if(t==="ok")e(null);else{const s=(t||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function up(n,e,t){return fc(n.serverSyncTree_,e,t)||H.EMPTY_NODE}function Ic(n,e=n.transactionQueueTree_){if(e||mo(n,e),Ur(e)){const t=hp(n,e);R(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&ob(n,Us(e),t)}else np(e)&&ho(e,t=>{Ic(n,t)})}function ob(n,e,t){const r=t.map(c=>c.currentWriteId),s=up(n,e,r);let i=s;const o=s.hash();for(let c=0;c<t.length;c++){const u=t[c];R(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Ze(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;n.server_.put(l.toString(),a,c=>{fo(n,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(jn(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();mo(n,Ec(n.transactionQueueTree_,e)),Ic(n,n.transactionQueueTree_),Ut(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)jr(d[h])}else{if(c==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{lt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}po(n,e)}},o)}function po(n,e){const t=dp(n,e),r=Us(t),s=hp(n,t);return ab(n,s,r),r}function ab(n,e,t){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ze(t,l.path);let u=!1,d;if(R(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(jn(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Yy)u=!0,d="maxretry",s=s.concat(jn(n.serverSyncTree_,l.currentWriteId,!0));else{const h=up(n,l.path,o);l.currentInputSnapshot=h;const m=e[a].update(h.val());if(m!==void 0){Cc("transaction failed: Data returned ",m,l.path);let f=Ve(m);typeof m=="object"&&m!=null&&zt(m,".priority")||(f=f.updatePriority(h.getPriority()));const y=l.currentWriteId,b=kc(n),x=ep(f,h,b);l.currentOutputSnapshotRaw=f,l.currentOutputSnapshotResolved=x,l.currentWriteId=cp(n),o.splice(o.indexOf(y),1),s=s.concat(Yf(n.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),s=s.concat(jn(n.serverSyncTree_,y,!0))}else u=!0,d="nodata",s=s.concat(jn(n.serverSyncTree_,l.currentWriteId,!0))}Ut(n.eventQueue_,t,s),s=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}mo(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)jr(r[a]);Ic(n,n.transactionQueueTree_)}function dp(n,e){let t,r=n.transactionQueueTree_;for(t=J(e);t!==null&&Ur(r)===void 0;)r=Ec(r,t),e=ge(e),t=J(e);return r}function hp(n,e){const t=[];return fp(n,e,t),t.sort((r,s)=>r.order-s.order),t}function fp(n,e,t){const r=Ur(e);if(r)for(let s=0;s<r.length;s++)t.push(r[s]);ho(e,s=>{fp(n,s,t)})}function mo(n,e){const t=Ur(e);if(t){let r=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[r]=t[s],r++);t.length=r,tp(e,t.length>0?t:void 0)}ho(e,r=>{mo(n,r)})}function pp(n,e){const t=Us(dp(n,e)),r=Ec(n.transactionQueueTree_,e);return $y(r,s=>{Ia(n,s)}),Ia(n,r),rp(r,s=>{Ia(n,s)}),t}function Ia(n,e){const t=Ur(e);if(t){const r=[];let s=[],i=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(R(i===o-1,"All SENT items should be at beginning of queue."),i=o,t[o].status=3,t[o].abortReason="set"):(R(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),s=s.concat(jn(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?tp(e,void 0):t.length=i+1,Ut(n.eventQueue_,Us(e),s);for(let o=0;o<r.length;o++)jr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let s=t[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function cb(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):lt(`Invalid query segment '${t}' in query '${n}'`)}return e}const ld=function(n,e){const t=ub(n),r=t.namespace;t.domain==="firebase.com"&&nn(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&nn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||w0();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new ff(t.host,t.secure,r,s,e,"",r!==t.subdomain),path:new he(t.pathString)}},ub=function(n){let e="",t="",r="",s="",i="",o=!0,a="https",l=443;if(typeof n=="string"){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");u===-1&&(u=n.length);let d=n.indexOf("?");d===-1&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(s=lb(n.substring(u,d)));const h=cb(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")t="localhost";else if(m.split(".").length<=2)t=m;else{const f=e.indexOf(".");r=e.substring(0,f).toLowerCase(),t=e.substring(f+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t,r,s){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class gp{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return R(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t,r,s){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=s}get key(){return Z(this._path)?null:Cf(this._path)}get ref(){return new Wt(this._repo,this._path)}get _queryIdentifier(){const e=Hu(this._queryParams),t=Ql(e);return t==="{}"?"default":t}get _queryObject(){return Hu(this._queryParams)}isEqual(e){if(e=mt(e),!(e instanceof go))return!1;const t=this._repo===e._repo,r=tc(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+av(this._path)}}function db(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function hb(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Gn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Qn)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(n.hasEnd()){if(n.getIndexEndName()!==kn)throw new Error(r);if(typeof t!="string")throw new Error(s)}}else if(n.getIndex()===Te){if(e!=null&&!sd(e)||t!=null&&!sd(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(R(n.getIndex()instanceof sc||n.getIndex()===Of,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Wt extends go{constructor(e,t){super(e,t,new oc,!1)}get parent(){const e=wf(this._path);return e===null?null:new Wt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Pr{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new he(e),r=Ss(this.ref,e);return new Pr(this._node.getChild(t),r,Te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Pr(s,Ss(this.ref,r),Te)))}hasChild(e){const t=new he(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ks(n,e){return n=mt(n),n._checkNotDeleted("ref"),e!==void 0?Ss(n._root,e):n._root}function Ss(n,e){return n=mt(n),J(n._path)===null?Wy("child","path",e,!1):xc("child","path",e,!1),new Wt(n._repo,Be(n._path,e))}function fb(n){return op("remove",n._path),vp(n,null)}function vp(n,e){n=mt(n),op("set",n._path),zy("set",e,n._path,!1);const t=new so;return tb(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function pb(n){n=mt(n);const e=new _p(()=>{}),t=new _o(e);return eb(n._repo,n,t).then(r=>new Pr(r,new Wt(n._repo,n._path),n._queryParams.getIndex()))}class _o{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const r=t._queryParams.getIndex();return new mp("value",this,new Pr(e.snapshotNode,new Wt(t._repo,t._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new gp(this,e,t):null}matches(e){return e instanceof _o?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Tc{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new gp(this,e,t):null}createEvent(e,t){R(e.childName!=null,"Child events should have a childName.");const r=Ss(new Wt(t._repo,t._path),e.childName),s=t._queryParams.getIndex();return new mp(e.type,this,new Pr(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Tc?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function mb(n,e,t,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=t,c=(u,d)=>{ad(n._repo,n,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}const o=new _p(t,i||void 0),a=e==="value"?new _o(o):new Tc(e,o);return rb(n._repo,n,a),()=>ad(n._repo,n,a)}function yp(n,e,t,r){return mb(n,"value",e,t,r)}class gb{}class _b extends gb{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){db(e,"orderByChild");const t=new he(this._path);if(Z(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new sc(t),s=Rv(e._queryParams,r);return hb(s),new go(e._repo,e._path,s,!0)}}function vb(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xc("orderByChild","path",n,!1),new _b(n)}function yb(n,...e){let t=mt(n);for(const r of e)t=r._apply(t);return t}gy(Wt);Ey(Wt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="FIREBASE_DATABASE_EMULATOR_HOST",yl={};let Eb=!1;function Cb(n,e,t,r){n.repoInfo_=new ff(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}function xb(n,e,t,r,s){let i=r||n.options.databaseURL;i===void 0&&(n.options.projectId||nn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qe("Using default host for project ",n.options.projectId),i=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=ld(i,s),a=o.repoInfo,l,c;typeof process<"u"&&Iu&&(c=Iu[bb]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=ld(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Cr(Cr.OWNER):new F0(n.name,n.options,e);Hy("Invalid Firebase Database URL",o),Z(o.path)||nn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=kb(a,n,u,new M0(n.name,t));return new Sb(d,n)}function wb(n,e){const t=yl[e];(!t||t[n.key]!==n)&&nn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),sb(n),delete t[n.key]}function kb(n,e,t,r){let s=yl[e.name];s||(s={},yl[e.name]=s);let i=s[n.toURLString()];return i&&nn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Xy(n,Eb,t,r),s[n.toURLString()]=i,i}class Sb{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Qy(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wt(this._repo,re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wb(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&nn("Cannot call "+e+" on a deleted database.")}}function Ib(n=Yh(),e){const t=Yl(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=Jg("database");r&&Tb(t,...r)}return t}function Tb(n,e,t,r={}){n=mt(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&nn("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&nn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Cr(Cr.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Zg(r.mockUserToken,n.app.options.projectId);i=new Cr(o)}Cb(s,e,t,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n){y0($r),Rr(new Yn("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return xb(r,s,i,t)},"PUBLIC").setMultipleInstances(!0)),bn(Tu,Ru,n),bn(Tu,Ru,"esm2017")}tn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};tn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Rb();const Ab=z.section`
  background-color: #f8f8f8;
  min-height: calc(100vh - 83px);
  padding-top: 96px;
  padding-bottom: 96px;
`,Ob=z.ul`
  max-width: 1184px;
  margin: 0 auto;
`,Pb=z.li`
  background-color: #fff;
  border-radius: 24px;
  padding: 24px;

  display: flex;
  gap: 48px;
  align-items: flex-start;
  flex-direction: column;

  &:not(:last-child) {
    margin-bottom: 32px;
  }
  @media screen and (min-width: 500px) {
    flex-direction: row;
  }
`,Nb=z.div`
  border-radius: 100px;
  border: 3px solid var(--button-background-color);
  padding: 12px;
  background: #fff;
  overflow: hidden;
  width: 120px;
`,Mb=z.div`
  @media screen and (min-width: 500px) {
    width: calc(100% - 120px);
  }
`,Fb=z.div`
  display: flex;
  justify-content: space-between;
  gap: 20px;
  margin-bottom: 8px;
`,Db=z.p`
  color: var(--color-text-content);
  font-size: 16px;
  font-style: normal;
  font-weight: 500;
  line-height: 1.5;
`,Lb=z.ul`
  display: flex;
  align-items: center;
  row-gap: 10px;
  column-gap: 32px;
  flex-wrap: wrap;
  justify-content: flex-end;
`,Zr=z.li``,ti=z.p`
  color: var(--main-text-color);
  font-size: 16px;
  font-weight: 500;
  line-height: 1.5;
  display: flex;
  align-items: center;
  gap: 8px;

  & span {
    display: flex;
  }

  & .rating {
    color: var(--button-background-color);
  }

  & .price {
    color: #38cd3e;
  }
`,$b=z.div``,Bb=z.p`
  color: var(--main-text-color);
  font-size: 24px;
  font-weight: 500;
  line-height: 1;

  margin-bottom: 32px;
`,jb=z.ul``,Ta=z.li`
  &:not(:last-child) {
    margin-bottom: 8px;
  }
`,Ra=z.p`
  color: var(--main-text-color);
  font-size: 16px;
  font-weight: 500;
  line-height: 1;

  & span {
    color: var(--color-text-content);
  }

  & .languages {
    color: var(--main-text-color);
    text-decoration-line: underline;
  }
`,Ub=z.button`
  cursor: pointer;
  color: var(--main-text-color);
  font-family: "Roboto", sans-serif;
  font-size: 16px;
  font-style: normal;
  font-weight: 500;
  line-height: 1.5;
  background-color: transparent;
  border: none;
  text-decoration-line: underline;
  margin-top: 16px;
  margin-bottom: 32px;
  transition: color var(--transition);

  &:hover,
  :focus {
    color: var(--active-color);
  }
`,Vb=z.div``,zb=z.p`
  color: var(--main-text-color);
  font-size: 16px;
  font-weight: 400;
  line-height: 1.5;

  margin-top: 16px;
  margin-bottom: 32px;
`,Wb=z.ul`
  margin-bottom: 32px;
`,Hb=z.li`
  &:not(:last-child) {
    margin-bottom: 32px;
  }
`,Gb=z.div`
  display: flex;
  gap: 12px;
  margin-bottom: 16px;
`,qb=z.img`
  border-radius: 100px;
`,Kb=z.p`
  color: var(--color-text-content);
  font-size: 16px;
  font-weight: 500;
  line-height: 1.5;
`,Yb=z.p`
  color: var(--main-text-color);
  font-size: 14px;
  font-weight: 500;
  line-height: 1.28;
  display: flex;
  align-items: center;

  & span {
    display: flex;
    color: var(--button-background-color);
    margin-right: 8px;
  }
`,Xb=z.p``,Qb=z.ul`
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 8px;
`,Jb=z.li`
  padding: 8px 12px;
  border-radius: 35px;
  background-color: transparent;
  border: 1px solid rgba(18, 20, 23, 0.2);

  &:first-child {
    background: var(--button-background-color);
    border: 1px solid transparent;
  }

  & p {
    color: var(--main-text-color);
    font-size: 14px;
    font-weight: 500;
    line-height: 1.14;
  }
`,Zb=z.button`
  cursor: pointer;
  margin-top: 32px;
  color: var(--main-text-color);
  font-family: "Roboto", sans-serif;
  font-size: 18px;
  font-weight: 700;
  line-height: 1.55;
  border: none;
  padding: 16px 48px;
  border-radius: 12px;
  background-color: var(--button-background-color);
  transition: background-color var(--transition);

  &:hover,
  :focus {
    background-color: var(--active-button-background-color);
  }
`,eE=z.button`
  cursor: pointer;
  width: 100%;
  background-color: transparent;
  border: none;
  color: #000;
  transition: color var(--transition);

  & svg {
    width: 26px;
    height: 26px;
  }

  &:hover,
  :focus {
    color: var(--active-color);
  }
`,tE=z.div`
  padding: calc(20px + (40 - 20) * ((100vw - 390px) / (1440 - 390)));
  display: flex;
  flex-direction: column;
  align-items: center;
`,nE=z.p`
  margin-top: 40px;
  color: var(--main-text-color);
  font-size: 16px;
  font-weight: 500;
  line-height: 1;
  max-width: 300px;
`,rE={black:"#000",white:"#fff"},Is=rE,sE={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},cr=sE,iE={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ur=iE,oE={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},dr=oE,aE={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},hr=aE,lE={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},fr=lE,cE={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},es=cE,uE={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},dE=uE;function er(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}const hE=Object.freeze(Object.defineProperty({__proto__:null,default:er},Symbol.toStringTag,{value:"Module"})),vo="$$material";function v(){return v=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},v.apply(this,arguments)}function V(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var fE=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pE=Fh(function(n){return fE.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function mE(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function gE(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var _E=function(){function n(t){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gE(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=mE(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Ge="-ms-",ji="-moz-",se="-webkit-",bp="comm",Rc="rule",Ac="decl",vE="@import",Ep="@keyframes",yE="@layer",bE=Math.abs,yo=String.fromCharCode,EE=Object.assign;function CE(n,e){return We(n,0)^45?(((e<<2^We(n,0))<<2^We(n,1))<<2^We(n,2))<<2^We(n,3):0}function Cp(n){return n.trim()}function xE(n,e){return(n=e.exec(n))?n[0]:n}function ie(n,e,t){return n.replace(e,t)}function bl(n,e){return n.indexOf(e)}function We(n,e){return n.charCodeAt(e)|0}function Ts(n,e,t){return n.slice(e,t)}function Ft(n){return n.length}function Oc(n){return n.length}function ni(n,e){return e.push(n),n}function wE(n,e){return n.map(e).join("")}var bo=1,Nr=1,xp=0,ut=0,De=0,Vr="";function Eo(n,e,t,r,s,i,o){return{value:n,root:e,parent:t,type:r,props:s,children:i,line:bo,column:Nr,length:o,return:""}}function ts(n,e){return EE(Eo("",null,null,"",null,null,0),n,{length:-n.length},e)}function kE(){return De}function SE(){return De=ut>0?We(Vr,--ut):0,Nr--,De===10&&(Nr=1,bo--),De}function ft(){return De=ut<xp?We(Vr,ut++):0,Nr++,De===10&&(Nr=1,bo++),De}function $t(){return We(Vr,ut)}function li(){return ut}function Vs(n,e){return Ts(Vr,n,e)}function Rs(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wp(n){return bo=Nr=1,xp=Ft(Vr=n),ut=0,[]}function kp(n){return Vr="",n}function ci(n){return Cp(Vs(ut-1,El(n===91?n+2:n===40?n+1:n)))}function IE(n){for(;(De=$t())&&De<33;)ft();return Rs(n)>2||Rs(De)>3?"":" "}function TE(n,e){for(;--e&&ft()&&!(De<48||De>102||De>57&&De<65||De>70&&De<97););return Vs(n,li()+(e<6&&$t()==32&&ft()==32))}function El(n){for(;ft();)switch(De){case n:return ut;case 34:case 39:n!==34&&n!==39&&El(De);break;case 40:n===41&&El(n);break;case 92:ft();break}return ut}function RE(n,e){for(;ft()&&n+De!==57;)if(n+De===84&&$t()===47)break;return"/*"+Vs(e,ut-1)+"*"+yo(n===47?n:ft())}function AE(n){for(;!Rs($t());)ft();return Vs(n,ut)}function OE(n){return kp(ui("",null,null,null,[""],n=wp(n),0,[0],n))}function ui(n,e,t,r,s,i,o,a,l){for(var c=0,u=0,d=o,h=0,m=0,f=0,p=1,y=1,b=1,x=0,E="",C=s,w=i,S=r,k=E;y;)switch(f=x,x=ft()){case 40:if(f!=108&&We(k,d-1)==58){bl(k+=ie(ci(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:k+=ci(x);break;case 9:case 10:case 13:case 32:k+=IE(f);break;case 92:k+=TE(li()-1,7);continue;case 47:switch($t()){case 42:case 47:ni(PE(RE(ft(),li()),e,t),l);break;default:k+="/"}break;case 123*p:a[c++]=Ft(k)*b;case 125*p:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+u:b==-1&&(k=ie(k,/\f/g,"")),m>0&&Ft(k)-d&&ni(m>32?ud(k+";",r,t,d-1):ud(ie(k," ","")+";",r,t,d-2),l);break;case 59:k+=";";default:if(ni(S=cd(k,e,t,c,u,s,a,E,C=[],w=[],d),i),x===123)if(u===0)ui(k,e,S,S,C,i,d,a,w);else switch(h===99&&We(k,3)===110?100:h){case 100:case 108:case 109:case 115:ui(n,S,S,r&&ni(cd(n,S,S,0,0,s,a,E,s,C=[],d),w),s,w,d,a,r?C:w);break;default:ui(k,S,S,S,[""],w,0,a,w)}}c=u=m=0,p=b=1,E=k="",d=o;break;case 58:d=1+Ft(k),m=f;default:if(p<1){if(x==123)--p;else if(x==125&&p++==0&&SE()==125)continue}switch(k+=yo(x),x*p){case 38:b=u>0?1:(k+="\f",-1);break;case 44:a[c++]=(Ft(k)-1)*b,b=1;break;case 64:$t()===45&&(k+=ci(ft())),h=$t(),u=d=Ft(E=k+=AE(li())),x++;break;case 45:f===45&&Ft(k)==2&&(p=0)}}return i}function cd(n,e,t,r,s,i,o,a,l,c,u){for(var d=s-1,h=s===0?i:[""],m=Oc(h),f=0,p=0,y=0;f<r;++f)for(var b=0,x=Ts(n,d+1,d=bE(p=o[f])),E=n;b<m;++b)(E=Cp(p>0?h[b]+" "+x:ie(x,/&\f/g,h[b])))&&(l[y++]=E);return Eo(n,e,t,s===0?Rc:a,l,c,u)}function PE(n,e,t){return Eo(n,e,t,bp,yo(kE()),Ts(n,2,-2),0)}function ud(n,e,t,r){return Eo(n,e,t,Ac,Ts(n,0,r),Ts(n,r+1,-1),r)}function xr(n,e){for(var t="",r=Oc(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function NE(n,e,t,r){switch(n.type){case yE:if(n.children.length)break;case vE:case Ac:return n.return=n.return||n.value;case bp:return"";case Ep:return n.return=n.value+"{"+xr(n.children,r)+"}";case Rc:n.value=n.props.join(",")}return Ft(t=xr(n.children,r))?n.return=n.value+"{"+t+"}":""}function ME(n){var e=Oc(n);return function(t,r,s,i){for(var o="",a=0;a<e;a++)o+=n[a](t,r,s,i)||"";return o}}function FE(n){return function(e){e.root||(e=e.return)&&n(e)}}var DE=function(e,t,r){for(var s=0,i=0;s=i,i=$t(),s===38&&i===12&&(t[r]=1),!Rs(i);)ft();return Vs(e,ut)},LE=function(e,t){var r=-1,s=44;do switch(Rs(s)){case 0:s===38&&$t()===12&&(t[r]=1),e[r]+=DE(ut-1,t,r);break;case 2:e[r]+=ci(s);break;case 4:if(s===44){e[++r]=$t()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=yo(s)}while(s=ft());return e},$E=function(e,t){return kp(LE(wp(e),t))},dd=new WeakMap,BE=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!dd.get(r))&&!s){dd.set(e,!0);for(var i=[],o=$E(t,i),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},jE=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Sp(n,e){switch(CE(n,e)){case 5103:return se+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return se+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return se+n+ji+n+Ge+n+n;case 6828:case 4268:return se+n+Ge+n+n;case 6165:return se+n+Ge+"flex-"+n+n;case 5187:return se+n+ie(n,/(\w+).+(:[^]+)/,se+"box-$1$2"+Ge+"flex-$1$2")+n;case 5443:return se+n+Ge+"flex-item-"+ie(n,/flex-|-self/,"")+n;case 4675:return se+n+Ge+"flex-line-pack"+ie(n,/align-content|flex-|-self/,"")+n;case 5548:return se+n+Ge+ie(n,"shrink","negative")+n;case 5292:return se+n+Ge+ie(n,"basis","preferred-size")+n;case 6060:return se+"box-"+ie(n,"-grow","")+se+n+Ge+ie(n,"grow","positive")+n;case 4554:return se+ie(n,/([^-])(transform)/g,"$1"+se+"$2")+n;case 6187:return ie(ie(ie(n,/(zoom-|grab)/,se+"$1"),/(image-set)/,se+"$1"),n,"")+n;case 5495:case 3959:return ie(n,/(image-set\([^]*)/,se+"$1$`$1");case 4968:return ie(ie(n,/(.+:)(flex-)?(.*)/,se+"box-pack:$3"+Ge+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+se+n+n;case 4095:case 3583:case 4068:case 2532:return ie(n,/(.+)-inline(.+)/,se+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ft(n)-1-e>6)switch(We(n,e+1)){case 109:if(We(n,e+4)!==45)break;case 102:return ie(n,/(.+:)(.+)-([^]+)/,"$1"+se+"$2-$3$1"+ji+(We(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~bl(n,"stretch")?Sp(ie(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(We(n,e+1)!==115)break;case 6444:switch(We(n,Ft(n)-3-(~bl(n,"!important")&&10))){case 107:return ie(n,":",":"+se)+n;case 101:return ie(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+se+(We(n,14)===45?"inline-":"")+"box$3$1"+se+"$2$3$1"+Ge+"$2box$3")+n}break;case 5936:switch(We(n,e+11)){case 114:return se+n+Ge+ie(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return se+n+Ge+ie(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return se+n+Ge+ie(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return se+n+Ge+n+n}return n}var UE=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case Ac:e.return=Sp(e.value,e.length);break;case Ep:return xr([ts(e,{value:ie(e.value,"@","@"+se)})],s);case Rc:if(e.length)return wE(e.props,function(i){switch(xE(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xr([ts(e,{props:[ie(i,/:(read-\w+)/,":"+ji+"$1")]})],s);case"::placeholder":return xr([ts(e,{props:[ie(i,/:(plac\w+)/,":"+se+"input-$1")]}),ts(e,{props:[ie(i,/:(plac\w+)/,":"+ji+"$1")]}),ts(e,{props:[ie(i,/:(plac\w+)/,Ge+"input-$1")]})],s)}return""})}},VE=[UE],Ip=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(p){var y=p.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var s=e.stylisPlugins||VE,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(p){for(var y=p.getAttribute("data-emotion").split(" "),b=1;b<y.length;b++)i[y[b]]=!0;a.push(p)});var l,c=[BE,jE];{var u,d=[NE,FE(function(p){u.insert(p)})],h=ME(c.concat(s,d)),m=function(y){return xr(OE(y),h)};l=function(y,b,x,E){u=x,m(y?y+"{"+b.styles+"}":b.styles),E&&(f.inserted[b.name]=!0)}}var f={key:t,sheet:new _E({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return f.sheet.hydrate(a),f},zE=!0;function WE(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):r+=s+" "}),r}var Tp=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||zE===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},Rp=function(e,t,r){Tp(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var i=t;do e.insert(t===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function HE(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var GE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qE=/[A-Z]|^ms/g,KE=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ap=function(e){return e.charCodeAt(1)===45},hd=function(e){return e!=null&&typeof e!="boolean"},Aa=Fh(function(n){return Ap(n)?n:n.replace(qE,"-$&").toLowerCase()}),fd=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(KE,function(r,s,i){return Dt={name:s,styles:i,next:Dt},s})}return GE[e]!==1&&!Ap(e)&&typeof t=="number"&&t!==0?t+"px":t};function As(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Dt={name:t.name,styles:t.styles,next:Dt},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)Dt={name:r.name,styles:r.styles,next:Dt},r=r.next;var s=t.styles+";";return s}return YE(n,e,t)}case"function":{if(n!==void 0){var i=Dt,o=t(n);return Dt=i,As(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function YE(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=As(n,e,t[s])+";";else for(var i in t){var o=t[i];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=i+"{"+e[o]+"}":hd(o)&&(r+=Aa(i)+":"+fd(i,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)hd(o[a])&&(r+=Aa(i)+":"+fd(i,o[a])+";");else{var l=As(n,e,o);switch(i){case"animation":case"animationName":{r+=Aa(i)+":"+l+";";break}default:r+=i+"{"+l+"}"}}}return r}var pd=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Dt,Pc=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";Dt=void 0;var o=e[0];o==null||o.raw===void 0?(s=!1,i+=As(r,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=As(r,t,e[a]),s&&(i+=o[a]);pd.lastIndex=0;for(var l="",c;(c=pd.exec(i))!==null;)l+="-"+c[1];var u=HE(i)+l;return{name:u,styles:i,next:Dt}},XE=function(e){return e()},Op=tl.useInsertionEffect?tl.useInsertionEffect:!1,QE=Op||XE,md=Op||g.useLayoutEffect,Pp=g.createContext(typeof HTMLElement<"u"?Ip({key:"css"}):null),JE=Pp.Provider,Np=function(e){return g.forwardRef(function(t,r){var s=g.useContext(Pp);return e(t,s,r)})},Co=g.createContext({}),Oa={exports:{}},gd;function Mp(){return gd||(gd=1,function(n){function e(){return n.exports=e=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},n.exports.__esModule=!0,n.exports.default=n.exports,e.apply(this,arguments)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(Oa)),Oa.exports}Mp();var ZE=Np(function(n,e){var t=n.styles,r=Pc([t],void 0,g.useContext(Co)),s=g.useRef();return md(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),md(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&Rp(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Fp(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Pc(e)}var xo=function(){var e=Fp.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},eC=pE,tC=function(e){return e!=="theme"},_d=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?eC:tC},vd=function(e,t,r){var s;if(t){var i=t.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},nC=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return Tp(t,r,s),QE(function(){return Rp(t,r,s)}),null},rC=function n(e,t){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;t!==void 0&&(i=t.label,o=t.target);var a=vd(e,t,r),l=a||_d(s),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,m=1;m<h;m++)d.push(u[m],u[0][m])}var f=Np(function(p,y,b){var x=c&&p.as||s,E="",C=[],w=p;if(p.theme==null){w={};for(var S in p)w[S]=p[S];w.theme=g.useContext(Co)}typeof p.className=="string"?E=WE(y.registered,C,p.className):p.className!=null&&(E=p.className+" ");var k=Pc(d.concat(C),y.registered,w);E+=y.key+"-"+k.name,o!==void 0&&(E+=" "+o);var T=c&&a===void 0?_d(x):l,A={};for(var O in p)c&&O==="as"||T(O)&&(A[O]=p[O]);return A.className=E,A.ref=b,g.createElement(g.Fragment,null,g.createElement(nC,{cache:y,serialized:k,isStringTag:typeof x=="string"}),g.createElement(x,A))});return f.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",f.defaultProps=e.defaultProps,f.__emotion_real=f,f.__emotion_base=s,f.__emotion_styles=d,f.__emotion_forwardProp=a,Object.defineProperty(f,"toString",{value:function(){return"."+o}}),f.withComponent=function(p,y){return n(p,v({},t,y,{shouldForwardProp:vd(f,y,!0)})).apply(void 0,d)},f}},sC=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Cl=rC.bind();sC.forEach(function(n){Cl[n]=Cl(n)});var Dp={exports:{}},iC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oC=iC,aC=oC;function Lp(){}function $p(){}$p.resetWarningCache=Lp;var lC=function(){function n(r,s,i,o,a,l){if(l!==aC){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$p,resetWarningCache:Lp};return t.PropTypes=t,t};Dp.exports=lC();var cC=Dp.exports;const B=Mh(cC);let xl;typeof document=="object"&&(xl=Ip({key:"css",prepend:!0}));function uC(n){const{injectFirst:e,children:t}=n;return e&&xl?_.jsx(JE,{value:xl,children:t}):t}function dC(n){return n==null||Object.keys(n).length===0}function Bp(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?s=>e(dC(s)?t:s):e;return _.jsx(ZE,{styles:r})}function jp(n,e){return Cl(n,e)}const Up=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))},hC=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Bp,StyledEngineProvider:uC,ThemeContext:Co,css:Fp,default:jp,internal_processStyles:Up,keyframes:xo},Symbol.toStringTag,{value:"Module"}));function Yt(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Vp(n){if(!Yt(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=Vp(n[t])}),e}function et(n,e,t={clone:!0}){const r=t.clone?v({},n):n;return Yt(n)&&Yt(e)&&Object.keys(e).forEach(s=>{s!=="__proto__"&&(Yt(e[s])&&s in n&&Yt(n[s])?r[s]=et(n[s],e[s],t):t.clone?r[s]=Yt(e[s])?Vp(e[s]):e[s]:r[s]=e[s])}),r}const fC=Object.freeze(Object.defineProperty({__proto__:null,default:et,isPlainObject:Yt},Symbol.toStringTag,{value:"Module"})),pC=["values","unit","step"],mC=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>v({},t,{[r.key]:r.val}),{})};function zp(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,s=V(n,pC),i=mC(e),o=Object.keys(i);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${t})`}function c(h,m){const f=o.indexOf(m);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t}) and (max-width:${(f!==-1&&typeof e[o[f]]=="number"?e[o[f]]:m)-r/100}${t})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const m=o.indexOf(h);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return v({keys:o,values:i,up:a,down:l,between:c,only:u,not:d,unit:t},s)}const gC={borderRadius:4},_C=gC;function hs(n,e){return e?et(n,e,{clone:!1}):n}const Nc={xs:0,sm:600,md:900,lg:1200,xl:1536},yd={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Nc[n]}px)`};function Pt(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const i=r.breakpoints||yd;return e.reduce((o,a,l)=>(o[i.up(i.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const i=r.breakpoints||yd;return Object.keys(e).reduce((o,a)=>{if(Object.keys(i.values||Nc).indexOf(a)!==-1){const l=i.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function Wp(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((r,s)=>{const i=n.up(s);return r[i]={},r},{}))||{}}function Hp(n,e){return n.reduce((t,r)=>{const s=t[r];return(!s||Object.keys(s).length===0)&&delete t[r],t},e)}function vC(n,...e){const t=Wp(n),r=[t,...e].reduce((s,i)=>et(s,i),{});return Hp(Object.keys(t),r)}function yC(n,e){if(typeof n!="object")return{};const t={},r=Object.keys(e);return Array.isArray(n)?r.forEach((s,i)=>{i<n.length&&(t[s]=!0)}):r.forEach(s=>{n[s]!=null&&(t[s]=!0)}),t}function Pa({values:n,breakpoints:e,base:t}){const r=t||yC(n,e),s=Object.keys(r);if(s.length===0)return n;let i;return s.reduce((o,a,l)=>(Array.isArray(n)?(o[a]=n[l]!=null?n[l]:n[i],i=l):typeof n=="object"?(o[a]=n[a]!=null?n[a]:n[i],i=a):o[a]=n,o),{})}function ne(n){if(typeof n!="string")throw new Error(er(7));return n.charAt(0).toUpperCase()+n.slice(1)}const bC=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));function wo(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,n);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,n)}function Ui(n,e,t,r=t){let s;return typeof n=="function"?s=n(t):Array.isArray(n)?s=n[t]||r:s=wo(n,t)||r,e&&(s=e(s,r,n)),s}function Me(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:s}=n,i=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=wo(l,r)||{};return Pt(o,a,d=>{let h=Ui(c,s,d);return d===h&&typeof d=="string"&&(h=Ui(c,s,`${e}${d==="default"?"":ne(d)}`,d)),t===!1?h:{[t]:h}})};return i.propTypes={},i.filterProps=[e],i}function EC(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const CC={m:"margin",p:"padding"},xC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},bd={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},wC=EC(n=>{if(n.length>2)if(bd[n])n=bd[n];else return[n];const[e,t]=n.split(""),r=CC[e],s=xC[t]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),Mc=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Fc=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Mc,...Fc];function zs(n,e,t,r){var s;const i=(s=wo(n,e,!1))!=null?s:t;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function Dc(n){return zs(n,"spacing",8)}function tr(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function kC(n,e){return t=>n.reduce((r,s)=>(r[s]=tr(e,t),r),{})}function SC(n,e,t,r){if(e.indexOf(t)===-1)return null;const s=wC(t),i=kC(s,r),o=n[t];return Pt(n,o,i)}function Gp(n,e){const t=Dc(n.theme);return Object.keys(n).map(r=>SC(n,e,r,t)).reduce(hs,{})}function Ae(n){return Gp(n,Mc)}Ae.propTypes={};Ae.filterProps=Mc;function Oe(n){return Gp(n,Fc)}Oe.propTypes={};Oe.filterProps=Fc;function IC(n=8){if(n.mui)return n;const e=Dc({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function ko(...n){const e=n.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),t=r=>Object.keys(r).reduce((s,i)=>e[i]?hs(s,e[i](r)):s,{});return t.propTypes={},t.filterProps=n.reduce((r,s)=>r.concat(s.filterProps),[]),t}function Ct(n){return typeof n!="number"?n:`${n}px solid`}function wt(n,e){return Me({prop:n,themeKey:"borders",transform:e})}const TC=wt("border",Ct),RC=wt("borderTop",Ct),AC=wt("borderRight",Ct),OC=wt("borderBottom",Ct),PC=wt("borderLeft",Ct),NC=wt("borderColor"),MC=wt("borderTopColor"),FC=wt("borderRightColor"),DC=wt("borderBottomColor"),LC=wt("borderLeftColor"),$C=wt("outline",Ct),BC=wt("outlineColor"),So=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=zs(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:tr(e,r)});return Pt(n,n.borderRadius,t)}return null};So.propTypes={};So.filterProps=["borderRadius"];ko(TC,RC,AC,OC,PC,NC,MC,FC,DC,LC,So,$C,BC);const Io=n=>{if(n.gap!==void 0&&n.gap!==null){const e=zs(n.theme,"spacing",8),t=r=>({gap:tr(e,r)});return Pt(n,n.gap,t)}return null};Io.propTypes={};Io.filterProps=["gap"];const To=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=zs(n.theme,"spacing",8),t=r=>({columnGap:tr(e,r)});return Pt(n,n.columnGap,t)}return null};To.propTypes={};To.filterProps=["columnGap"];const Ro=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=zs(n.theme,"spacing",8),t=r=>({rowGap:tr(e,r)});return Pt(n,n.rowGap,t)}return null};Ro.propTypes={};Ro.filterProps=["rowGap"];const jC=Me({prop:"gridColumn"}),UC=Me({prop:"gridRow"}),VC=Me({prop:"gridAutoFlow"}),zC=Me({prop:"gridAutoColumns"}),WC=Me({prop:"gridAutoRows"}),HC=Me({prop:"gridTemplateColumns"}),GC=Me({prop:"gridTemplateRows"}),qC=Me({prop:"gridTemplateAreas"}),KC=Me({prop:"gridArea"});ko(Io,To,Ro,jC,UC,VC,zC,WC,HC,GC,qC,KC);function wr(n,e){return e==="grey"?e:n}const YC=Me({prop:"color",themeKey:"palette",transform:wr}),XC=Me({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:wr}),QC=Me({prop:"backgroundColor",themeKey:"palette",transform:wr});ko(YC,XC,QC);function ht(n){return n<=1&&n!==0?`${n*100}%`:n}const JC=Me({prop:"width",transform:ht}),Lc=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,s;const i=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||Nc[t];return i?((s=n.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:ht(t)}};return Pt(n,n.maxWidth,e)}return null};Lc.filterProps=["maxWidth"];const ZC=Me({prop:"minWidth",transform:ht}),ex=Me({prop:"height",transform:ht}),tx=Me({prop:"maxHeight",transform:ht}),nx=Me({prop:"minHeight",transform:ht});Me({prop:"size",cssProperty:"width",transform:ht});Me({prop:"size",cssProperty:"height",transform:ht});const rx=Me({prop:"boxSizing"});ko(JC,Lc,ZC,ex,tx,nx,rx);const sx={border:{themeKey:"borders",transform:Ct},borderTop:{themeKey:"borders",transform:Ct},borderRight:{themeKey:"borders",transform:Ct},borderBottom:{themeKey:"borders",transform:Ct},borderLeft:{themeKey:"borders",transform:Ct},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ct},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:So},color:{themeKey:"palette",transform:wr},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:wr},backgroundColor:{themeKey:"palette",transform:wr},p:{style:Oe},pt:{style:Oe},pr:{style:Oe},pb:{style:Oe},pl:{style:Oe},px:{style:Oe},py:{style:Oe},padding:{style:Oe},paddingTop:{style:Oe},paddingRight:{style:Oe},paddingBottom:{style:Oe},paddingLeft:{style:Oe},paddingX:{style:Oe},paddingY:{style:Oe},paddingInline:{style:Oe},paddingInlineStart:{style:Oe},paddingInlineEnd:{style:Oe},paddingBlock:{style:Oe},paddingBlockStart:{style:Oe},paddingBlockEnd:{style:Oe},m:{style:Ae},mt:{style:Ae},mr:{style:Ae},mb:{style:Ae},ml:{style:Ae},mx:{style:Ae},my:{style:Ae},margin:{style:Ae},marginTop:{style:Ae},marginRight:{style:Ae},marginBottom:{style:Ae},marginLeft:{style:Ae},marginX:{style:Ae},marginY:{style:Ae},marginInline:{style:Ae},marginInlineStart:{style:Ae},marginInlineEnd:{style:Ae},marginBlock:{style:Ae},marginBlockStart:{style:Ae},marginBlockEnd:{style:Ae},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Io},rowGap:{style:Ro},columnGap:{style:To},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ht},maxWidth:{style:Lc},minWidth:{transform:ht},height:{transform:ht},maxHeight:{transform:ht},minHeight:{transform:ht},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Ws=sx;function ix(...n){const e=n.reduce((r,s)=>r.concat(Object.keys(s)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function ox(n,e){return typeof n=="function"?n(e):n}function qp(){function n(t,r,s,i){const o={[t]:r,theme:s},a=i[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[t]:r};const h=wo(s,c)||{};return d?d(o):Pt(o,r,f=>{let p=Ui(h,u,f);return f===p&&typeof f=="string"&&(p=Ui(h,u,`${t}${f==="default"?"":ne(f)}`,f)),l===!1?p:{[l]:p}})}function e(t){var r;const{sx:s,theme:i={}}=t||{};if(!s)return null;const o=(r=i.unstable_sxConfig)!=null?r:Ws;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=Wp(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(m=>{const f=ox(c[m],i);if(f!=null)if(typeof f=="object")if(o[m])h=hs(h,n(m,f,i,o));else{const p=Pt({theme:i},f,y=>({[m]:y}));ix(p,f)?h[m]=e({sx:f,theme:i}):h=hs(h,p)}else h=hs(h,n(m,f,i,o))}),Hp(d,h)}return Array.isArray(s)?s.map(a):a(s)}return e}const Hs=qp();Hs.filterProps=["sx"];function Kp(n,e){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(n).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:t.palette.mode===n?e:{}}const ax=["breakpoints","palette","spacing","shape"];function Gs(n={},...e){const{breakpoints:t={},palette:r={},spacing:s,shape:i={}}=n,o=V(n,ax),a=zp(t),l=IC(s);let c=et({breakpoints:a,direction:"ltr",components:{},palette:v({mode:"light"},r),spacing:l,shape:v({},_C,i)},o);return c.applyStyles=Kp,c=e.reduce((u,d)=>et(u,d),c),c.unstable_sxConfig=v({},Ws,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Hs({sx:d,theme:this})},c}const lx=Object.freeze(Object.defineProperty({__proto__:null,default:Gs,private_createBreakpoints:zp,unstable_applyStyles:Kp},Symbol.toStringTag,{value:"Module"}));function cx(n){return Object.keys(n).length===0}function ux(n=null){const e=g.useContext(Co);return!e||cx(e)?n:e}const dx=Gs();function $c(n=dx){return ux(n)}function hx({styles:n,themeId:e,defaultTheme:t={}}){const r=$c(t),s=typeof n=="function"?n(e&&r[e]||r):n;return _.jsx(Bp,{styles:s})}const fx=["sx"],px=n=>{var e,t;const r={systemProps:{},otherProps:{}},s=(e=n==null||(t=n.theme)==null?void 0:t.unstable_sxConfig)!=null?e:Ws;return Object.keys(n).forEach(i=>{s[i]?r.systemProps[i]=n[i]:r.otherProps[i]=n[i]}),r};function Bc(n){const{sx:e}=n,t=V(n,fx),{systemProps:r,otherProps:s}=px(t);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...o)=>{const a=e(...o);return Yt(a)?v({},r,a):r}:i=v({},r,e),v({},s,{sx:i})}const mx=Object.freeze(Object.defineProperty({__proto__:null,default:Hs,extendSxProp:Bc,unstable_createStyleFunctionSx:qp,unstable_defaultSxConfig:Ws},Symbol.toStringTag,{value:"Module"})),Ed=n=>n,gx=()=>{let n=Ed;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Ed}}},_x=gx(),vx={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function _e(n,e,t="Mui"){const r=vx[e];return r?`${t}-${r}`:`${_x.generate(n)}-${e}`}function fe(n,e,t="Mui"){const r={};return e.forEach(s=>{r[s]=_e(n,s,t)}),r}var Yp={exports:{}},le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=Symbol.for("react.element"),Uc=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),Oo=Symbol.for("react.strict_mode"),Po=Symbol.for("react.profiler"),No=Symbol.for("react.provider"),Mo=Symbol.for("react.context"),yx=Symbol.for("react.server_context"),Fo=Symbol.for("react.forward_ref"),Do=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),$o=Symbol.for("react.memo"),Bo=Symbol.for("react.lazy"),bx=Symbol.for("react.offscreen"),Xp;Xp=Symbol.for("react.module.reference");function kt(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case jc:switch(n=n.type,n){case Ao:case Po:case Oo:case Do:case Lo:return n;default:switch(n=n&&n.$$typeof,n){case yx:case Mo:case Fo:case Bo:case $o:case No:return n;default:return e}}case Uc:return e}}}le.ContextConsumer=Mo;le.ContextProvider=No;le.Element=jc;le.ForwardRef=Fo;le.Fragment=Ao;le.Lazy=Bo;le.Memo=$o;le.Portal=Uc;le.Profiler=Po;le.StrictMode=Oo;le.Suspense=Do;le.SuspenseList=Lo;le.isAsyncMode=function(){return!1};le.isConcurrentMode=function(){return!1};le.isContextConsumer=function(n){return kt(n)===Mo};le.isContextProvider=function(n){return kt(n)===No};le.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===jc};le.isForwardRef=function(n){return kt(n)===Fo};le.isFragment=function(n){return kt(n)===Ao};le.isLazy=function(n){return kt(n)===Bo};le.isMemo=function(n){return kt(n)===$o};le.isPortal=function(n){return kt(n)===Uc};le.isProfiler=function(n){return kt(n)===Po};le.isStrictMode=function(n){return kt(n)===Oo};le.isSuspense=function(n){return kt(n)===Do};le.isSuspenseList=function(n){return kt(n)===Lo};le.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Ao||n===Po||n===Oo||n===Do||n===Lo||n===bx||typeof n=="object"&&n!==null&&(n.$$typeof===Bo||n.$$typeof===$o||n.$$typeof===No||n.$$typeof===Mo||n.$$typeof===Fo||n.$$typeof===Xp||n.getModuleId!==void 0)};le.typeOf=kt;Yp.exports=le;var Cd=Yp.exports;const Ex=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Qp(n){const e=`${n}`.match(Ex);return e&&e[1]||""}function Jp(n,e=""){return n.displayName||n.name||Qp(n)||e}function xd(n,e,t){const r=Jp(e);return n.displayName||(r!==""?`${t}(${r})`:t)}function Cx(n){if(n!=null){if(typeof n=="string")return n;if(typeof n=="function")return Jp(n,"Component");if(typeof n=="object")switch(n.$$typeof){case Cd.ForwardRef:return xd(n,n.render,"ForwardRef");case Cd.Memo:return xd(n,n.type,"memo");default:return}}}const xx=Object.freeze(Object.defineProperty({__proto__:null,default:Cx,getFunctionName:Qp},Symbol.toStringTag,{value:"Module"})),wx=["ownerState"],kx=["variants"],Sx=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Ix(n){return Object.keys(n).length===0}function Tx(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Na(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Rx=Gs(),Ax=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function ri({defaultTheme:n,theme:e,themeId:t}){return Ix(e)?n:e[t]||e}function Ox(n){return n?(e,t)=>t[n]:null}function di(n,e){let{ownerState:t}=e,r=V(e,wx);const s=typeof n=="function"?n(v({ownerState:t},r)):n;if(Array.isArray(s))return s.flatMap(i=>di(i,v({ownerState:t},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=V(s,kx);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(v({ownerState:t},r,t)):Object.keys(l.props).forEach(u=>{(t==null?void 0:t[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(v({ownerState:t},r,t)):l.style))}),a}return s}function Px(n={}){const{themeId:e,defaultTheme:t=Rx,rootShouldForwardProp:r=Na,slotShouldForwardProp:s=Na}=n,i=o=>Hs(v({},o,{theme:ri(v({},o,{defaultTheme:t,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{Up(o,w=>w.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Ox(Ax(c))}=a,m=V(a,Sx),f=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,p=d||!1;let y,b=Na;c==="Root"||c==="root"?b=r:c?b=s:Tx(o)&&(b=void 0);const x=jp(o,v({shouldForwardProp:b,label:y},m)),E=w=>typeof w=="function"&&w.__emotion_real!==w||Yt(w)?S=>di(w,v({},S,{theme:ri({theme:S.theme,defaultTheme:t,themeId:e})})):w,C=(w,...S)=>{let k=E(w);const T=S?S.map(E):[];l&&h&&T.push(I=>{const P=ri(v({},I,{defaultTheme:t,themeId:e}));if(!P.components||!P.components[l]||!P.components[l].styleOverrides)return null;const F=P.components[l].styleOverrides,N={};return Object.entries(F).forEach(([M,L])=>{N[M]=di(L,v({},I,{theme:P}))}),h(I,N)}),l&&!f&&T.push(I=>{var P;const F=ri(v({},I,{defaultTheme:t,themeId:e})),N=F==null||(P=F.components)==null||(P=P[l])==null?void 0:P.variants;return di({variants:N},v({},I,{theme:F}))}),p||T.push(i);const A=T.length-S.length;if(Array.isArray(w)&&A>0){const I=new Array(A).fill("");k=[...w,...I],k.raw=[...w.raw,...I]}const O=x(k,...T);return o.muiName&&(O.muiName=o.muiName),O};return x.withConfig&&(C.withConfig=x.withConfig),C}}const Nx=Px();function Zp(n,e){const t=v({},e);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=v({},n[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=n[r]||{},i=e[r];t[r]={},!i||!Object.keys(i)?t[r]=s:!s||!Object.keys(s)?t[r]=i:(t[r]=v({},i),Object.keys(s).forEach(o=>{t[r][o]=Zp(s[o],i[o])}))}else t[r]===void 0&&(t[r]=n[r])}),t}function Mx(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:Zp(e.components[t].defaultProps,r)}function em({props:n,name:e,defaultTheme:t,themeId:r}){let s=$c(t);return r&&(s=s[r]||s),Mx({theme:s,name:e,props:n})}const Rn=typeof window<"u"?g.useLayoutEffect:g.useEffect;function Fx(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const Dx=Object.freeze(Object.defineProperty({__proto__:null,default:Fx},Symbol.toStringTag,{value:"Module"}));function wl(...n){return n.reduce((e,t)=>t==null?e:function(...s){e.apply(this,s),t.apply(this,s)},()=>{})}function tm(n,e=166){let t;function r(...s){const i=()=>{n.apply(this,s)};clearTimeout(t),t=setTimeout(i,e)}return r.clear=()=>{clearTimeout(t)},r}function Ma(n,e){var t,r;return g.isValidElement(n)&&e.indexOf((t=n.type.muiName)!=null?t:(r=n.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function pt(n){return n&&n.ownerDocument||document}function nr(n){return pt(n).defaultView||window}function kl(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let wd=0;function Lx(n){const[e,t]=g.useState(n),r=n||e;return g.useEffect(()=>{e==null&&(wd+=1,t(`mui-${wd}`))},[e]),r}const kd=tl.useId;function nm(n){if(kd!==void 0){const e=kd();return n??e}return Lx(n)}function Vi({controlled:n,default:e,name:t,state:r="value"}){const{current:s}=g.useRef(n!==void 0),[i,o]=g.useState(e),a=s?n:i,l=g.useCallback(c=>{s||o(c)},[]);return[a,l]}function vr(n){const e=g.useRef(n);return Rn(()=>{e.current=n}),g.useRef((...t)=>(0,e.current)(...t)).current}function He(...n){return g.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{kl(t,e)})},n)}const Sd={};function $x(n,e){const t=g.useRef(Sd);return t.current===Sd&&(t.current=n(e)),t}const Bx=[];function jx(n){g.useEffect(n,Bx)}class jo{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new jo}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function rm(){const n=$x(jo.create).current;return jx(n.disposeEffect),n}let Uo=!0,Sl=!1;const Ux=new jo,Vx={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function zx(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&Vx[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function Wx(n){n.metaKey||n.altKey||n.ctrlKey||(Uo=!0)}function Fa(){Uo=!1}function Hx(){this.visibilityState==="hidden"&&Sl&&(Uo=!0)}function Gx(n){n.addEventListener("keydown",Wx,!0),n.addEventListener("mousedown",Fa,!0),n.addEventListener("pointerdown",Fa,!0),n.addEventListener("touchstart",Fa,!0),n.addEventListener("visibilitychange",Hx,!0)}function qx(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return Uo||zx(e)}function Kx(){const n=g.useCallback(s=>{s!=null&&Gx(s.ownerDocument)},[]),e=g.useRef(!1);function t(){return e.current?(Sl=!0,Ux.start(100,()=>{Sl=!1}),e.current=!1,!0):!1}function r(s){return qx(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}function sm(n){const e=n.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}const im=n=>{const e=g.useRef({});return g.useEffect(()=>{e.current=n}),e.current};function Ee(n,e,t=void 0){const r={};return Object.keys(n).forEach(s=>{r[s]=n[s].reduce((i,o)=>{if(o){const a=e(o);a!==""&&i.push(a),t&&t[o]&&i.push(t[o])}return i},[]).join(" ")}),r}const Yx=g.createContext(),Xx=()=>{const n=g.useContext(Yx);return n??!1},Qx=["component","direction","spacing","divider","children","className","useFlexGap"],Jx=Gs(),Zx=Nx("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>e.root});function ew(n){return em({props:n,name:"MuiStack",defaultTheme:Jx})}function tw(n,e){const t=g.Children.toArray(n).filter(Boolean);return t.reduce((r,s,i)=>(r.push(s),i<t.length-1&&r.push(g.cloneElement(e,{key:`separator-${i}`})),r),[])}const nw=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],rw=({ownerState:n,theme:e})=>{let t=v({display:"flex",flexDirection:"column"},Pt({theme:e},Pa({values:n.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(n.spacing){const r=Dc(e),s=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof n.spacing=="object"&&n.spacing[c]!=null||typeof n.direction=="object"&&n.direction[c]!=null)&&(l[c]=!0),l),{}),i=Pa({values:n.direction,base:s}),o=Pa({values:n.spacing,base:s});typeof i=="object"&&Object.keys(i).forEach((l,c,u)=>{if(!i[l]){const h=c>0?i[u[c-1]]:"column";i[l]=h}}),t=et(t,Pt({theme:e},o,(l,c)=>n.useFlexGap?{gap:tr(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${nw(c?i[c]:n.direction)}`]:tr(r,l)}}))}return t=vC(e.breakpoints,t),t};function sw(n={}){const{createStyledComponent:e=Zx,useThemeProps:t=ew,componentName:r="MuiStack"}=n,s=()=>Ee({root:["root"]},l=>_e(r,l),{}),i=e(rw);return g.forwardRef(function(l,c){const u=t(l),d=Bc(u),{component:h="div",direction:m="column",spacing:f=0,divider:p,children:y,className:b,useFlexGap:x=!1}=d,E=V(d,Qx),C={direction:m,spacing:f,useFlexGap:x},w=s();return _.jsx(i,v({as:h,ownerState:C,ref:c,className:Q(w.root,b)},E,{children:p?tw(y,p):y}))})}function iw(n,e){return v({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},e)}var Fe={},om={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(om);var am=om.exports;const ow=On(hE),aw=On(Dx);var lm=am;Object.defineProperty(Fe,"__esModule",{value:!0});var Un=Fe.alpha=hm;Fe.blend=bw;Fe.colorChannel=void 0;var lw=Fe.darken=zc;Fe.decomposeColor=xt;Fe.emphasize=fm;var cw=Fe.getContrastRatio=mw;Fe.getLuminance=zi;Fe.hexToRgb=cm;Fe.hslToRgb=dm;var uw=Fe.lighten=Wc;Fe.private_safeAlpha=gw;Fe.private_safeColorChannel=void 0;Fe.private_safeDarken=_w;Fe.private_safeEmphasize=yw;Fe.private_safeLighten=vw;Fe.recomposeColor=zr;Fe.rgbToHex=pw;var Id=lm(ow),dw=lm(aw);function Vc(n,e=0,t=1){return(0,dw.default)(n,e,t)}function cm(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function hw(n){const e=n.toString(16);return e.length===1?`0${e}`:e}function xt(n){if(n.type)return n;if(n.charAt(0)==="#")return xt(cm(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error((0,Id.default)(9,n));let r=n.substring(e+1,n.length-1),s;if(t==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,Id.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:t,values:r,colorSpace:s}}const um=n=>{const e=xt(n);return e.values.slice(0,3).map((t,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${t}%`:t).join(" ")};Fe.colorChannel=um;const fw=(n,e)=>{try{return um(n)}catch{return n}};Fe.private_safeColorChannel=fw;function zr(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function pw(n){if(n.indexOf("#")===0)return n;const{values:e}=xt(n);return`#${e.map((t,r)=>hw(r===3?Math.round(255*t):t)).join("")}`}function dm(n){n=xt(n);const{values:e}=n,t=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),o=(c,u=(c+t/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),zr({type:a,values:l})}function zi(n){n=xt(n);let e=n.type==="hsl"||n.type==="hsla"?xt(dm(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function mw(n,e){const t=zi(n),r=zi(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function hm(n,e){return n=xt(n),e=Vc(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,zr(n)}function gw(n,e,t){try{return hm(n,e)}catch{return n}}function zc(n,e){if(n=xt(n),e=Vc(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return zr(n)}function _w(n,e,t){try{return zc(n,e)}catch{return n}}function Wc(n,e){if(n=xt(n),e=Vc(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return zr(n)}function vw(n,e,t){try{return Wc(n,e)}catch{return n}}function fm(n,e=.15){return zi(n)>.5?zc(n,e):Wc(n,e)}function yw(n,e,t){try{return fm(n,e)}catch{return n}}function bw(n,e,t,r=1){const s=(l,c)=>Math.round((l**(1/r)*(1-t)+c**(1/r)*t)**r),i=xt(n),o=xt(e),a=[s(i.values[0],o.values[0]),s(i.values[1],o.values[1]),s(i.values[2],o.values[2])];return zr({type:"rgb",values:a})}const Ew=["mode","contrastThreshold","tonalOffset"],Td={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Is.white,default:Is.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Da={text:{primary:Is.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Is.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Rd(n,e,t,r){const s=r.light||r,i=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=uw(n.main,s):e==="dark"&&(n.dark=lw(n.main,i)))}function Cw(n="light"){return n==="dark"?{main:dr[200],light:dr[50],dark:dr[400]}:{main:dr[700],light:dr[400],dark:dr[800]}}function xw(n="light"){return n==="dark"?{main:ur[200],light:ur[50],dark:ur[400]}:{main:ur[500],light:ur[300],dark:ur[700]}}function ww(n="light"){return n==="dark"?{main:cr[500],light:cr[300],dark:cr[700]}:{main:cr[700],light:cr[400],dark:cr[800]}}function kw(n="light"){return n==="dark"?{main:hr[400],light:hr[300],dark:hr[700]}:{main:hr[700],light:hr[500],dark:hr[900]}}function Sw(n="light"){return n==="dark"?{main:fr[400],light:fr[300],dark:fr[700]}:{main:fr[800],light:fr[500],dark:fr[900]}}function Iw(n="light"){return n==="dark"?{main:es[400],light:es[300],dark:es[700]}:{main:"#ed6c02",light:es[500],dark:es[900]}}function Tw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,s=V(n,Ew),i=n.primary||Cw(e),o=n.secondary||xw(e),a=n.error||ww(e),l=n.info||kw(e),c=n.success||Sw(e),u=n.warning||Iw(e);function d(p){return cw(p,Da.text.primary)>=t?Da.text.primary:Td.text.primary}const h=({color:p,name:y,mainShade:b=500,lightShade:x=300,darkShade:E=700})=>{if(p=v({},p),!p.main&&p[b]&&(p.main=p[b]),!p.hasOwnProperty("main"))throw new Error(er(11,y?` (${y})`:"",b));if(typeof p.main!="string")throw new Error(er(12,y?` (${y})`:"",JSON.stringify(p.main)));return Rd(p,"light",x,r),Rd(p,"dark",E,r),p.contrastText||(p.contrastText=d(p.main)),p},m={dark:Da,light:Td};return et(v({common:v({},Is),mode:e,primary:h({color:i,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:dE,contrastThreshold:t,getContrastText:d,augmentColor:h,tonalOffset:r},m[e]),s)}const Rw=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Aw(n){return Math.round(n*1e5)/1e5}const Ad={textTransform:"uppercase"},Od='"Roboto", "Helvetica", "Arial", sans-serif';function Ow(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=Od,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=t,h=V(t,Rw),m=s/14,f=d||(b=>`${b/c*m}rem`),p=(b,x,E,C,w)=>v({fontFamily:r,fontWeight:b,fontSize:f(x),lineHeight:E},r===Od?{letterSpacing:`${Aw(C/x)}em`}:{},w,u),y={h1:p(i,96,1.167,-1.5),h2:p(i,60,1.2,-.5),h3:p(o,48,1.167,0),h4:p(o,34,1.235,.25),h5:p(o,24,1.334,0),h6:p(a,20,1.6,.15),subtitle1:p(o,16,1.75,.15),subtitle2:p(a,14,1.57,.1),body1:p(o,16,1.5,.15),body2:p(o,14,1.43,.15),button:p(a,14,1.75,.4,Ad),caption:p(o,12,1.66,.4),overline:p(o,12,2.66,1,Ad),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return et(v({htmlFontSize:c,pxToRem:f,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},y),h,{clone:!1})}const Pw=.2,Nw=.14,Mw=.12;function ke(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Pw})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Nw})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Mw})`].join(",")}const Fw=["none",ke(0,2,1,-1,0,1,1,0,0,1,3,0),ke(0,3,1,-2,0,2,2,0,0,1,5,0),ke(0,3,3,-2,0,3,4,0,0,1,8,0),ke(0,2,4,-1,0,4,5,0,0,1,10,0),ke(0,3,5,-1,0,5,8,0,0,1,14,0),ke(0,3,5,-1,0,6,10,0,0,1,18,0),ke(0,4,5,-2,0,7,10,1,0,2,16,1),ke(0,5,5,-3,0,8,10,1,0,3,14,2),ke(0,5,6,-3,0,9,12,1,0,3,16,2),ke(0,6,6,-3,0,10,14,1,0,4,18,3),ke(0,6,7,-4,0,11,15,1,0,4,20,3),ke(0,7,8,-4,0,12,17,2,0,5,22,4),ke(0,7,8,-4,0,13,19,2,0,5,24,4),ke(0,7,9,-4,0,14,21,2,0,5,26,4),ke(0,8,9,-5,0,15,22,2,0,6,28,5),ke(0,8,10,-5,0,16,24,2,0,6,30,5),ke(0,8,11,-5,0,17,26,2,0,6,32,5),ke(0,9,11,-5,0,18,28,2,0,7,34,6),ke(0,9,12,-6,0,19,29,2,0,7,36,6),ke(0,10,13,-6,0,20,31,3,0,8,38,7),ke(0,10,13,-6,0,21,33,3,0,8,40,7),ke(0,10,14,-6,0,22,35,3,0,8,42,7),ke(0,11,14,-7,0,23,36,3,0,9,44,8),ke(0,11,15,-7,0,24,38,3,0,9,46,8)],Dw=["duration","easing","delay"],Lw={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$w={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Pd(n){return`${Math.round(n)}ms`}function Bw(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function jw(n){const e=v({},Lw,n.easing),t=v({},$w,n.duration);return v({getAutoHeightDuration:Bw,create:(s=["all"],i={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0}=i;return V(i,Dw),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof o=="string"?o:Pd(o)} ${a} ${typeof l=="string"?l:Pd(l)}`).join(",")}},n,{easing:e,duration:t})}const Uw={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Vw=Uw,zw=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ww(n={},...e){const{mixins:t={},palette:r={},transitions:s={},typography:i={}}=n,o=V(n,zw);if(n.vars)throw new Error(er(18));const a=Tw(r),l=Gs(n);let c=et(l,{mixins:iw(l.breakpoints,t),palette:a,shadows:Fw.slice(),typography:Ow(a,i),transitions:jw(s),zIndex:v({},Vw)});return c=et(c,o),c=e.reduce((u,d)=>et(u,d),c),c.unstable_sxConfig=v({},Ws,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Hs({sx:d,theme:this})},c}const Hw=Ww(),Vo=Hw;function pm(){const n=$c(Vo);return n[vo]||n}function Pe({props:n,name:e}){return em({props:n,name:e,defaultTheme:Vo,themeId:vo})}var qs={},La={exports:{}},Nd;function Gw(){return Nd||(Nd=1,function(n){function e(t,r){if(t==null)return{};var s={},i=Object.keys(t),o,a;for(a=0;a<i.length;a++)o=i[a],!(r.indexOf(o)>=0)&&(s[o]=t[o]);return s}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(La)),La.exports}const qw=On(hC),Kw=On(fC),Yw=On(bC),Xw=On(xx),Qw=On(lx),Jw=On(mx);var Wr=am;Object.defineProperty(qs,"__esModule",{value:!0});var Zw=qs.default=hk;qs.shouldForwardProp=hi;qs.systemDefaultTheme=void 0;var bt=Wr(Mp()),Il=Wr(Gw()),Md=ok(qw),ek=Kw;Wr(Yw);Wr(Xw);var tk=Wr(Qw),nk=Wr(Jw);const rk=["ownerState"],sk=["variants"],ik=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function mm(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(mm=function(r){return r?t:e})(n)}function ok(n,e){if(!e&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=mm(e);if(t&&t.has(n))return t.get(n);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(i!=="default"&&Object.prototype.hasOwnProperty.call(n,i)){var o=s?Object.getOwnPropertyDescriptor(n,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}function ak(n){return Object.keys(n).length===0}function lk(n){return typeof n=="string"&&n.charCodeAt(0)>96}function hi(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const ck=qs.systemDefaultTheme=(0,tk.default)(),uk=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function si({defaultTheme:n,theme:e,themeId:t}){return ak(e)?n:e[t]||e}function dk(n){return n?(e,t)=>t[n]:null}function fi(n,e){let{ownerState:t}=e,r=(0,Il.default)(e,rk);const s=typeof n=="function"?n((0,bt.default)({ownerState:t},r)):n;if(Array.isArray(s))return s.flatMap(i=>fi(i,(0,bt.default)({ownerState:t},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=(0,Il.default)(s,sk);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,bt.default)({ownerState:t},r,t)):Object.keys(l.props).forEach(u=>{(t==null?void 0:t[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,bt.default)({ownerState:t},r,t)):l.style))}),a}return s}function hk(n={}){const{themeId:e,defaultTheme:t=ck,rootShouldForwardProp:r=hi,slotShouldForwardProp:s=hi}=n,i=o=>(0,nk.default)((0,bt.default)({},o,{theme:si((0,bt.default)({},o,{defaultTheme:t,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{(0,Md.internal_processStyles)(o,w=>w.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=dk(uk(c))}=a,m=(0,Il.default)(a,ik),f=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,p=d||!1;let y,b=hi;c==="Root"||c==="root"?b=r:c?b=s:lk(o)&&(b=void 0);const x=(0,Md.default)(o,(0,bt.default)({shouldForwardProp:b,label:y},m)),E=w=>typeof w=="function"&&w.__emotion_real!==w||(0,ek.isPlainObject)(w)?S=>fi(w,(0,bt.default)({},S,{theme:si({theme:S.theme,defaultTheme:t,themeId:e})})):w,C=(w,...S)=>{let k=E(w);const T=S?S.map(E):[];l&&h&&T.push(I=>{const P=si((0,bt.default)({},I,{defaultTheme:t,themeId:e}));if(!P.components||!P.components[l]||!P.components[l].styleOverrides)return null;const F=P.components[l].styleOverrides,N={};return Object.entries(F).forEach(([M,L])=>{N[M]=fi(L,(0,bt.default)({},I,{theme:P}))}),h(I,N)}),l&&!f&&T.push(I=>{var P;const F=si((0,bt.default)({},I,{defaultTheme:t,themeId:e})),N=F==null||(P=F.components)==null||(P=P[l])==null?void 0:P.variants;return fi({variants:N},(0,bt.default)({},I,{theme:F}))}),p||T.push(i);const A=T.length-S.length;if(Array.isArray(w)&&A>0){const I=new Array(A).fill("");k=[...w,...I],k.raw=[...w.raw,...I]}const O=x(k,...T);return o.muiName&&(O.muiName=o.muiName),O};return x.withConfig&&(C.withConfig=x.withConfig),C}}function gm(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const fk=n=>gm(n)&&n!=="classes",gt=fk,U=Zw({themeId:vo,defaultTheme:Vo,rootShouldForwardProp:gt}),Fd=n=>{let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,(e/100).toFixed(2)};function pk(n){return _e("MuiSvgIcon",n)}fe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const mk=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],gk=n=>{const{color:e,fontSize:t,classes:r}=n,s={root:["root",e!=="inherit"&&`color${ne(e)}`,`fontSize${ne(t)}`]};return Ee(s,pk,r)},_k=U("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${ne(t.color)}`],e[`fontSize${ne(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,s,i,o,a,l,c,u,d,h,m,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(s=n.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=n.typography)==null||(o=i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem",medium:((a=n.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=n.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(n.vars||n).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(m=(n.vars||n).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(f=(n.vars||n).palette)==null||(f=f.action)==null?void 0:f.disabled,inherit:void 0}[e.color]}}),Tl=g.forwardRef(function(e,t){const r=Pe({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,m=V(r,mk),f=g.isValidElement(s)&&s.type==="svg",p=v({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f}),y={};u||(y.viewBox=h);const b=gk(p);return _.jsxs(_k,v({as:a,className:Q(b.root,i),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:t},y,m,f&&s.props,{ownerState:p,children:[f?s.props.children:s,d?_.jsx("title",{children:d}):null]}))});Tl.muiName="SvgIcon";function zo(n,e){function t(r,s){return _.jsx(Tl,v({"data-testid":`${e}Icon`,ref:s},r,{children:n}))}return t.muiName=Tl.muiName,g.memo(g.forwardRef(t))}var pe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=Symbol.for("react.element"),Gc=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),Ho=Symbol.for("react.strict_mode"),Go=Symbol.for("react.profiler"),qo=Symbol.for("react.provider"),Ko=Symbol.for("react.context"),vk=Symbol.for("react.server_context"),Yo=Symbol.for("react.forward_ref"),Xo=Symbol.for("react.suspense"),Qo=Symbol.for("react.suspense_list"),Jo=Symbol.for("react.memo"),Zo=Symbol.for("react.lazy"),yk=Symbol.for("react.offscreen"),_m;_m=Symbol.for("react.module.reference");function St(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Hc:switch(n=n.type,n){case Wo:case Go:case Ho:case Xo:case Qo:return n;default:switch(n=n&&n.$$typeof,n){case vk:case Ko:case Yo:case Zo:case Jo:case qo:return n;default:return e}}case Gc:return e}}}pe.ContextConsumer=Ko;pe.ContextProvider=qo;pe.Element=Hc;pe.ForwardRef=Yo;pe.Fragment=Wo;pe.Lazy=Zo;pe.Memo=Jo;pe.Portal=Gc;pe.Profiler=Go;pe.StrictMode=Ho;pe.Suspense=Xo;pe.SuspenseList=Qo;pe.isAsyncMode=function(){return!1};pe.isConcurrentMode=function(){return!1};pe.isContextConsumer=function(n){return St(n)===Ko};pe.isContextProvider=function(n){return St(n)===qo};pe.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Hc};pe.isForwardRef=function(n){return St(n)===Yo};pe.isFragment=function(n){return St(n)===Wo};pe.isLazy=function(n){return St(n)===Zo};pe.isMemo=function(n){return St(n)===Jo};pe.isPortal=function(n){return St(n)===Gc};pe.isProfiler=function(n){return St(n)===Go};pe.isStrictMode=function(n){return St(n)===Ho};pe.isSuspense=function(n){return St(n)===Xo};pe.isSuspenseList=function(n){return St(n)===Qo};pe.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Wo||n===Go||n===Ho||n===Xo||n===Qo||n===yk||typeof n=="object"&&n!==null&&(n.$$typeof===Zo||n.$$typeof===Jo||n.$$typeof===qo||n.$$typeof===Ko||n.$$typeof===Yo||n.$$typeof===_m||n.getModuleId!==void 0)};pe.typeOf=St;function vm(n){return Pe}function Rl(n,e){return Rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Rl(n,e)}function ym(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Rl(n,e)}const Dd={disabled:!1},Wi=Ke.createContext(null);var bk=function(e){return e.scrollTop},os="unmounted",Ln="exited",$n="entering",gr="entered",Al="exiting",an=function(n){ym(e,n);function e(r,s){var i;i=n.call(this,r,s)||this;var o=s,a=o&&!o.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?a?(l=Ln,i.appearStatus=$n):l=gr:r.unmountOnExit||r.mountOnEnter?l=os:l=Ln,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===os?{status:Ln}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==$n&&o!==gr&&(i=$n):(o===$n||o===gr)&&(i=Al)}this.updateStatus(!1,i)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},t.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===$n){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Js.findDOMNode(this);o&&bk(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ln&&this.setState({status:os})},t.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,l=this.props.nodeRef?[a]:[Js.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!s&&!o||Dd.disabled){this.safeSetState({status:gr},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:$n},function(){i.props.onEntering(c,u),i.onTransitionEnd(h,function(){i.safeSetState({status:gr},function(){i.props.onEntered(c,u)})})})},t.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Js.findDOMNode(this);if(!i||Dd.disabled){this.safeSetState({status:Ln},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Al},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Ln},function(){s.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},t.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Js.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===os)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=V(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ke.createElement(Wi.Provider,{value:null},typeof o=="function"?o(s,a):Ke.cloneElement(Ke.Children.only(o),a))},e}(Ke.Component);an.contextType=Wi;an.propTypes={};function pr(){}an.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pr,onEntering:pr,onEntered:pr,onExit:pr,onExiting:pr,onExited:pr};an.UNMOUNTED=os;an.EXITED=Ln;an.ENTERING=$n;an.ENTERED=gr;an.EXITING=Al;const bm=an;function Ek(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qc(n,e){var t=function(i){return e&&g.isValidElement(i)?e(i):i},r=Object.create(null);return n&&g.Children.map(n,function(s){return s}).forEach(function(s){r[s.key]=t(s)}),r}function Ck(n,e){n=n||{},e=e||{};function t(u){return u in e?e[u]:n[u]}var r=Object.create(null),s=[];for(var i in n)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=t(c)}a[l]=t(l)}for(o=0;o<s.length;o++)a[s[o]]=t(s[o]);return a}function Vn(n,e,t){return t[e]!=null?t[e]:n.props[e]}function xk(n,e){return qc(n.children,function(t){return g.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Vn(t,"appear",n),enter:Vn(t,"enter",n),exit:Vn(t,"exit",n)})})}function wk(n,e,t){var r=qc(n.children),s=Ck(e,r);return Object.keys(s).forEach(function(i){var o=s[i];if(g.isValidElement(o)){var a=i in e,l=i in r,c=e[i],u=g.isValidElement(c)&&!c.props.in;l&&(!a||u)?s[i]=g.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:Vn(o,"exit",n),enter:Vn(o,"enter",n)}):!l&&a&&!u?s[i]=g.cloneElement(o,{in:!1}):l&&a&&g.isValidElement(c)&&(s[i]=g.cloneElement(o,{onExited:t.bind(null,o),in:c.props.in,exit:Vn(o,"exit",n),enter:Vn(o,"enter",n)}))}}),s}var kk=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Sk={component:"div",childFactory:function(e){return e}},Kc=function(n){ym(e,n);function e(r,s){var i;i=n.call(this,r,s)||this;var o=i.handleExited.bind(Ek(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,l=i.firstRender;return{children:l?xk(s,a):wk(s,o,a),firstRender:!1}},t.handleExited=function(s,i){var o=qc(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var l=v({},a.children);return delete l[s.key],{children:l}}))},t.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=V(s,["component","childFactory"]),l=this.state.contextValue,c=kk(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?Ke.createElement(Wi.Provider,{value:l},c):Ke.createElement(Wi.Provider,{value:l},Ke.createElement(i,a,c))},e}(Ke.Component);Kc.propTypes={};Kc.defaultProps=Sk;const Ik=Kc,Em=n=>n.scrollTop;function Hi(n,e){var t,r;const{timeout:s,easing:i,style:o={}}=n;return{duration:(t=o.transitionDuration)!=null?t:typeof s=="number"?s:s[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof i=="object"?i[e.mode]:i,delay:o.transitionDelay}}function Tk(n){return _e("MuiPaper",n)}fe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Rk=["className","component","elevation","square","variant"],Ak=n=>{const{square:e,elevation:t,variant:r,classes:s}=n,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return Ee(i,Tk,s)},Ok=U("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(({theme:n,ownerState:e})=>{var t;return v({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!e.square&&{borderRadius:n.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.divider}`},e.variant==="elevation"&&v({boxShadow:(n.vars||n).shadows[e.elevation]},!n.vars&&n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Un("#fff",Fd(e.elevation))}, ${Un("#fff",Fd(e.elevation))})`},n.vars&&{backgroundImage:(t=n.vars.overlays)==null?void 0:t[e.elevation]}))}),Pk=g.forwardRef(function(e,t){const r=Pe({props:e,name:"MuiPaper"}),{className:s,component:i="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=V(r,Rk),u=v({},r,{component:i,elevation:o,square:a,variant:l}),d=Ak(u);return _.jsx(Ok,v({as:i,ownerState:u,className:Q(d.root,s),ref:t},c))}),Nk=Pk;function Gi(n){return typeof n=="string"}function Cm(n,e,t){return n===void 0||Gi(n)?e:v({},e,{ownerState:v({},e.ownerState,t)})}function xm(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function wm(n,e,t){return typeof n=="function"?n(e,t):n}function Ld(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function km(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:s,className:i}=n;if(!e){const m=Q(t==null?void 0:t.className,i,s==null?void 0:s.className,r==null?void 0:r.className),f=v({},t==null?void 0:t.style,s==null?void 0:s.style,r==null?void 0:r.style),p=v({},t,s,r);return m.length>0&&(p.className=m),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:void 0}}const o=xm(v({},s,r)),a=Ld(r),l=Ld(s),c=e(o),u=Q(c==null?void 0:c.className,t==null?void 0:t.className,i,s==null?void 0:s.className,r==null?void 0:r.className),d=v({},c==null?void 0:c.style,t==null?void 0:t.style,s==null?void 0:s.style,r==null?void 0:r.style),h=v({},c,t,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const Mk=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function An(n){var e;const{elementType:t,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1}=n,o=V(n,Mk),a=i?{}:wm(r,s),{props:l,internalRef:c}=km(v({},o,{externalSlotProps:a})),u=He(c,a==null?void 0:a.ref,(e=n.additionalProps)==null?void 0:e.ref);return Cm(t,v({},l,{ref:u}),s)}const Fk=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Dk=["component","slots","slotProps"],Lk=["component"];function $k(n,e){const{className:t,elementType:r,ownerState:s,externalForwardedProps:i,getSlotOwnerState:o,internalForwardedProps:a}=e,l=V(e,Fk),{component:c,slots:u={[n]:void 0},slotProps:d={[n]:void 0}}=i,h=V(i,Dk),m=u[n]||r,f=wm(d[n],s),p=km(v({className:t},l,{externalForwardedProps:n==="root"?h:void 0,externalSlotProps:f})),{props:{component:y},internalRef:b}=p,x=V(p.props,Lk),E=He(b,f==null?void 0:f.ref,e.ref),C=o?o(x):{},w=v({},s,C),S=n==="root"?y||c:y,k=Cm(m,v({},n==="root"&&!c&&!u[n]&&a,n!=="root"&&!u[n]&&a,x,S&&{as:S},{ref:E}),w);return Object.keys(C).forEach(T=>{delete k[T]}),[m,k]}function Bk(n){const{className:e,classes:t,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:a,onExited:l,timeout:c}=n,[u,d]=g.useState(!1),h=Q(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),m={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},f=Q(t.child,u&&t.childLeaving,r&&t.childPulsate);return!a&&!u&&d(!0),g.useEffect(()=>{if(!a&&l!=null){const p=setTimeout(l,c);return()=>{clearTimeout(p)}}},[l,a,c]),_.jsx("span",{className:h,style:m,children:_.jsx("span",{className:f})})}const Et=fe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),jk=["center","classes","className"];let ea=n=>n,$d,Bd,jd,Ud;const Ol=550,Uk=80,Vk=xo($d||($d=ea`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),zk=xo(Bd||(Bd=ea`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Wk=xo(jd||(jd=ea`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Hk=U("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Gk=U(Bk,{name:"MuiTouchRipple",slot:"Ripple"})(Ud||(Ud=ea`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Et.rippleVisible,Vk,Ol,({theme:n})=>n.transitions.easing.easeInOut,Et.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,Et.child,Et.childLeaving,zk,Ol,({theme:n})=>n.transitions.easing.easeInOut,Et.childPulsate,Wk,({theme:n})=>n.transitions.easing.easeInOut),qk=g.forwardRef(function(e,t){const r=Pe({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o}=r,a=V(r,jk),[l,c]=g.useState([]),u=g.useRef(0),d=g.useRef(null);g.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=g.useRef(!1),m=rm(),f=g.useRef(null),p=g.useRef(null),y=g.useCallback(C=>{const{pulsate:w,rippleX:S,rippleY:k,rippleSize:T,cb:A}=C;c(O=>[...O,_.jsx(Gk,{classes:{ripple:Q(i.ripple,Et.ripple),rippleVisible:Q(i.rippleVisible,Et.rippleVisible),ripplePulsate:Q(i.ripplePulsate,Et.ripplePulsate),child:Q(i.child,Et.child),childLeaving:Q(i.childLeaving,Et.childLeaving),childPulsate:Q(i.childPulsate,Et.childPulsate)},timeout:Ol,pulsate:w,rippleX:S,rippleY:k,rippleSize:T},u.current)]),u.current+=1,d.current=A},[i]),b=g.useCallback((C={},w={},S=()=>{})=>{const{pulsate:k=!1,center:T=s||w.pulsate,fakeElement:A=!1}=w;if((C==null?void 0:C.type)==="mousedown"&&h.current){h.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(h.current=!0);const O=A?null:p.current,I=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let P,F,N;if(T||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)P=Math.round(I.width/2),F=Math.round(I.height/2);else{const{clientX:M,clientY:L}=C.touches&&C.touches.length>0?C.touches[0]:C;P=Math.round(M-I.left),F=Math.round(L-I.top)}if(T)N=Math.sqrt((2*I.width**2+I.height**2)/3),N%2===0&&(N+=1);else{const M=Math.max(Math.abs((O?O.clientWidth:0)-P),P)*2+2,L=Math.max(Math.abs((O?O.clientHeight:0)-F),F)*2+2;N=Math.sqrt(M**2+L**2)}C!=null&&C.touches?f.current===null&&(f.current=()=>{y({pulsate:k,rippleX:P,rippleY:F,rippleSize:N,cb:S})},m.start(Uk,()=>{f.current&&(f.current(),f.current=null)})):y({pulsate:k,rippleX:P,rippleY:F,rippleSize:N,cb:S})},[s,y,m]),x=g.useCallback(()=>{b({},{pulsate:!0})},[b]),E=g.useCallback((C,w)=>{if(m.clear(),(C==null?void 0:C.type)==="touchend"&&f.current){f.current(),f.current=null,m.start(0,()=>{E(C,w)});return}f.current=null,c(S=>S.length>0?S.slice(1):S),d.current=w},[m]);return g.useImperativeHandle(t,()=>({pulsate:x,start:b,stop:E}),[x,b,E]),_.jsx(Hk,v({className:Q(Et.root,i.root,o),ref:p},a,{children:_.jsx(Ik,{component:null,exit:!0,children:l})}))}),Kk=qk;function Yk(n){return _e("MuiButtonBase",n)}const Xk=fe("MuiButtonBase",["root","disabled","focusVisible"]),Qk=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Jk=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:s}=n,o=Ee({root:["root",e&&"disabled",t&&"focusVisible"]},Yk,s);return t&&r&&(o.root+=` ${r}`),o},Zk=U("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Xk.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),eS=g.forwardRef(function(e,t){const r=Pe({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:m="a",onBlur:f,onClick:p,onContextMenu:y,onDragLeave:b,onFocus:x,onFocusVisible:E,onKeyDown:C,onKeyUp:w,onMouseDown:S,onMouseLeave:k,onMouseUp:T,onTouchEnd:A,onTouchMove:O,onTouchStart:I,tabIndex:P=0,TouchRippleProps:F,touchRippleRef:N,type:M}=r,L=V(r,Qk),$=g.useRef(null),D=g.useRef(null),Y=He(D,N),{isFocusVisibleRef:ce,onFocus:Je,onBlur:Re,ref:Le}=Kx(),[oe,Ce]=g.useState(!1);c&&oe&&Ce(!1),g.useImperativeHandle(s,()=>({focusVisible:()=>{Ce(!0),$.current.focus()}}),[]);const[ve,tt]=g.useState(!1);g.useEffect(()=>{tt(!0)},[]);const nt=ve&&!u&&!c;g.useEffect(()=>{oe&&h&&!u&&ve&&D.current.pulsate()},[u,h,oe,ve]);function Ne(G,qt,qr=d){return vr(Kr=>(qt&&qt(Kr),!qr&&D.current&&D.current[G](Kr),!0))}const rt=Ne("start",S),ae=Ne("stop",y),Se=Ne("stop",b),te=Ne("stop",T),ue=Ne("stop",G=>{oe&&G.preventDefault(),k&&k(G)}),xe=Ne("start",I),ln=Ne("stop",A),_t=Ne("stop",O),vt=Ne("stop",G=>{Re(G),ce.current===!1&&Ce(!1),f&&f(G)},!1),It=vr(G=>{$.current||($.current=G.currentTarget),Je(G),ce.current===!0&&(Ce(!0),E&&E(G)),x&&x(G)}),yt=()=>{const G=$.current;return l&&l!=="button"&&!(G.tagName==="A"&&G.href)},Ie=g.useRef(!1),Ht=vr(G=>{h&&!Ie.current&&oe&&D.current&&G.key===" "&&(Ie.current=!0,D.current.stop(G,()=>{D.current.start(G)})),G.target===G.currentTarget&&yt()&&G.key===" "&&G.preventDefault(),C&&C(G),G.target===G.currentTarget&&yt()&&G.key==="Enter"&&!c&&(G.preventDefault(),p&&p(G))}),st=vr(G=>{h&&G.key===" "&&D.current&&oe&&!G.defaultPrevented&&(Ie.current=!1,D.current.stop(G,()=>{D.current.pulsate(G)})),w&&w(G),p&&G.target===G.currentTarget&&yt()&&G.key===" "&&!G.defaultPrevented&&p(G)});let we=l;we==="button"&&(L.href||L.to)&&(we=m);const Nt={};we==="button"?(Nt.type=M===void 0?"button":M,Nt.disabled=c):(!L.href&&!L.to&&(Nt.role="button"),c&&(Nt["aria-disabled"]=c));const cn=He(t,Le,$),Gt=v({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:P,focusVisible:oe}),me=Jk(Gt);return _.jsxs(Zk,v({as:we,className:Q(me.root,a),ownerState:Gt,onBlur:vt,onClick:p,onContextMenu:ae,onFocus:It,onKeyDown:Ht,onKeyUp:st,onMouseDown:rt,onMouseLeave:ue,onMouseUp:te,onDragLeave:Se,onTouchEnd:ln,onTouchMove:_t,onTouchStart:xe,ref:cn,tabIndex:c?-1:P,type:M},Nt,L,{children:[o,nt?_.jsx(Kk,v({ref:Y,center:i},F)):null]}))}),Sm=eS;function tS(n){return _e("MuiTypography",n)}fe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const nS=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],rS=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:s,variant:i,classes:o}=n,a={root:["root",i,n.align!=="inherit"&&`align${ne(e)}`,t&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return Ee(a,tS,o)},sS=U("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${ne(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(({theme:n,ownerState:e})=>v({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&n.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),Vd={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},iS={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},oS=n=>iS[n]||n,aS=g.forwardRef(function(e,t){const r=Pe({props:e,name:"MuiTypography"}),s=oS(r.color),i=Bc(v({},r,{color:s})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:m=Vd}=i,f=V(i,nS),p=v({},i,{align:o,color:s,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:m}),y=l||(d?"p":m[h]||Vd[h])||"span",b=rS(p);return _.jsx(sS,v({as:y,ref:t,ownerState:p,className:Q(b.root,a)},f))}),zd=aS;function lS(n){const{badgeContent:e,invisible:t=!1,max:r=99,showZero:s=!1}=n,i=im({badgeContent:e,max:r});let o=t;t===!1&&e===0&&!s&&(o=!0);const{badgeContent:a,max:l=r}=o?i:n,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:o,max:l,displayValue:c}}const cS=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function uS(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function dS(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function hS(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||dS(n))}function fS(n){const e=[],t=[];return Array.from(n.querySelectorAll(cS)).forEach((r,s)=>{const i=uS(r);i===-1||!hS(r)||(i===0?e.push(r):t.push({documentOrder:s,tabIndex:i,node:r}))}),t.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function pS(){return!0}function mS(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=fS,isEnabled:o=pS,open:a}=n,l=g.useRef(!1),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),m=g.useRef(!1),f=g.useRef(null),p=He(e.ref,f),y=g.useRef(null);g.useEffect(()=>{!a||!f.current||(m.current=!t)},[t,a]),g.useEffect(()=>{if(!a||!f.current)return;const E=pt(f.current);return f.current.contains(E.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),m.current&&f.current.focus()),()=>{s||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),g.useEffect(()=>{if(!a||!f.current)return;const E=pt(f.current),C=k=>{y.current=k,!(r||!o()||k.key!=="Tab")&&E.activeElement===f.current&&k.shiftKey&&(l.current=!0,u.current&&u.current.focus())},w=()=>{const k=f.current;if(k===null)return;if(!E.hasFocus()||!o()||l.current){l.current=!1;return}if(k.contains(E.activeElement)||r&&E.activeElement!==c.current&&E.activeElement!==u.current)return;if(E.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!m.current)return;let T=[];if((E.activeElement===c.current||E.activeElement===u.current)&&(T=i(f.current)),T.length>0){var A,O;const I=!!((A=y.current)!=null&&A.shiftKey&&((O=y.current)==null?void 0:O.key)==="Tab"),P=T[0],F=T[T.length-1];typeof P!="string"&&typeof F!="string"&&(I?F.focus():P.focus())}else k.focus()};E.addEventListener("focusin",w),E.addEventListener("keydown",C,!0);const S=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&w()},50);return()=>{clearInterval(S),E.removeEventListener("focusin",w),E.removeEventListener("keydown",C,!0)}},[t,r,s,o,a,i]);const b=E=>{d.current===null&&(d.current=E.relatedTarget),m.current=!0,h.current=E.target;const C=e.props.onFocus;C&&C(E)},x=E=>{d.current===null&&(d.current=E.relatedTarget),m.current=!0};return _.jsxs(g.Fragment,{children:[_.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:c,"data-testid":"sentinelStart"}),g.cloneElement(e,{ref:p,onFocus:b}),_.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:u,"data-testid":"sentinelEnd"})]})}function gS(n){return typeof n=="function"?n():n}const _S=g.forwardRef(function(e,t){const{children:r,container:s,disablePortal:i=!1}=e,[o,a]=g.useState(null),l=He(g.isValidElement(r)?r.ref:null,t);if(Rn(()=>{i||a(gS(s)||document.body)},[s,i]),Rn(()=>{if(o&&!i)return kl(t,o),()=>{kl(t,null)}},[t,o,i]),i){if(g.isValidElement(r)){const c={ref:l};return g.cloneElement(r,c)}return _.jsx(g.Fragment,{children:r})}return _.jsx(g.Fragment,{children:o&&Lg.createPortal(r,o)})});function vS(n){const e=pt(n);return e.body===n?nr(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function fs(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function Wd(n){return parseInt(nr(n).getComputedStyle(n).paddingRight,10)||0}function yS(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(n.tagName)!==-1,r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function Hd(n,e,t,r,s){const i=[e,t,...r];[].forEach.call(n.children,o=>{const a=i.indexOf(o)===-1,l=!yS(o);a&&l&&fs(o,s)})}function $a(n,e){let t=-1;return n.some((r,s)=>e(r)?(t=s,!0):!1),t}function bS(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(vS(r)){const o=sm(pt(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Wd(r)+o}px`;const a=pt(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Wd(l)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=pt(r).body;else{const o=r.parentElement,a=nr(r);i=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}t.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{t.forEach(({value:i,el:o,property:a})=>{i?o.style.setProperty(a,i):o.style.removeProperty(a)})}}function ES(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class CS{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&fs(e.modalRef,!1);const s=ES(t);Hd(t,e.mount,e.modalRef,s,!0);const i=$a(this.containers,o=>o.container===t);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:s}),r)}mount(e,t){const r=$a(this.containers,i=>i.modals.indexOf(e)!==-1),s=this.containers[r];s.restore||(s.restore=bS(s,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=$a(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&fs(e.modalRef,t),Hd(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&fs(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function xS(n){return typeof n=="function"?n():n}function wS(n){return n?n.props.hasOwnProperty("in"):!1}const kS=new CS;function SS(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,manager:s=kS,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=n,h=g.useRef({}),m=g.useRef(null),f=g.useRef(null),p=He(f,d),[y,b]=g.useState(!u),x=wS(l);let E=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(E=!1);const C=()=>pt(m.current),w=()=>(h.current.modalRef=f.current,h.current.mount=m.current,h.current),S=()=>{s.mount(w(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},k=vr(()=>{const L=xS(e)||C().body;s.add(w(),L),f.current&&S()}),T=g.useCallback(()=>s.isTopModal(w()),[s]),A=vr(L=>{m.current=L,L&&(u&&T()?S():f.current&&fs(f.current,E))}),O=g.useCallback(()=>{s.remove(w(),E)},[E,s]);g.useEffect(()=>()=>{O()},[O]),g.useEffect(()=>{u?k():(!x||!i)&&O()},[u,O,x,i,k]);const I=L=>$=>{var D;(D=L.onKeyDown)==null||D.call(L,$),!($.key!=="Escape"||$.which===229||!T())&&(t||($.stopPropagation(),c&&c($,"escapeKeyDown")))},P=L=>$=>{var D;(D=L.onClick)==null||D.call(L,$),$.target===$.currentTarget&&c&&c($,"backdropClick")};return{getRootProps:(L={})=>{const $=xm(n);delete $.onTransitionEnter,delete $.onTransitionExited;const D=v({},$,L);return v({role:"presentation"},D,{onKeyDown:I(D),ref:p})},getBackdropProps:(L={})=>{const $=L;return v({"aria-hidden":!0},$,{onClick:P($),open:u})},getTransitionProps:()=>{const L=()=>{b(!1),o&&o()},$=()=>{b(!0),a&&a(),i&&O()};return{onEnter:wl(L,l==null?void 0:l.props.onEnter),onExited:wl($,l==null?void 0:l.props.onExited)}},rootRef:p,portalRef:A,isTopModal:T,exited:y,hasTransition:x}}const IS=["onChange","maxRows","minRows","style","value"];function ii(n){return parseInt(n,10)||0}const TS={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function RS(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflowing}const AS=g.forwardRef(function(e,t){const{onChange:r,maxRows:s,minRows:i=1,style:o,value:a}=e,l=V(e,IS),{current:c}=g.useRef(a!=null),u=g.useRef(null),d=He(t,u),h=g.useRef(null),m=g.useCallback(()=>{const y=u.current,x=nr(y).getComputedStyle(y);if(x.width==="0px")return{outerHeightStyle:0,overflowing:!1};const E=h.current;E.style.width=x.width,E.value=y.value||e.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const C=x.boxSizing,w=ii(x.paddingBottom)+ii(x.paddingTop),S=ii(x.borderBottomWidth)+ii(x.borderTopWidth),k=E.scrollHeight;E.value="x";const T=E.scrollHeight;let A=k;i&&(A=Math.max(Number(i)*T,A)),s&&(A=Math.min(Number(s)*T,A)),A=Math.max(A,T);const O=A+(C==="border-box"?w+S:0),I=Math.abs(A-k)<=1;return{outerHeightStyle:O,overflowing:I}},[s,i,e.placeholder]),f=g.useCallback(()=>{const y=m();if(RS(y))return;const b=u.current;b.style.height=`${y.outerHeightStyle}px`,b.style.overflow=y.overflowing?"hidden":""},[m]);Rn(()=>{const y=()=>{f()};let b;const x=tm(y),E=u.current,C=nr(E);C.addEventListener("resize",x);let w;return typeof ResizeObserver<"u"&&(w=new ResizeObserver(y),w.observe(E)),()=>{x.clear(),cancelAnimationFrame(b),C.removeEventListener("resize",x),w&&w.disconnect()}},[m,f]),Rn(()=>{f()});const p=y=>{c||f(),r&&r(y)};return _.jsxs(g.Fragment,{children:[_.jsx("textarea",v({value:a,onChange:p,ref:d,rows:i,style:o},l)),_.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:v({},TS.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function Ks({props:n,states:e,muiFormControl:t}){return e.reduce((r,s)=>(r[s]=n[s],t&&typeof n[s]>"u"&&(r[s]=t[s]),r),{})}const OS=g.createContext(void 0),Yc=OS;function Hr(){return g.useContext(Yc)}function PS(n){return _.jsx(hx,v({},n,{defaultTheme:Vo,themeId:vo}))}function Gd(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function qi(n,e=!1){return n&&(Gd(n.value)&&n.value!==""||e&&Gd(n.defaultValue)&&n.defaultValue!=="")}function NS(n){return n.startAdornment}function MS(n){return _e("MuiInputBase",n)}const FS=fe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Mr=FS,DS=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ta=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${ne(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},na=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},LS=n=>{const{classes:e,color:t,disabled:r,error:s,endAdornment:i,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:m,type:f}=n,p={root:["root",`color${ne(t)}`,r&&"disabled",s&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${ne(h)}`,u&&"multiline",m&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",f==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",m&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return Ee(p,MS,e)},ra=U("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ta})(({theme:n,ownerState:e})=>v({},n.typography.body1,{color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Mr.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"}},e.multiline&&v({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),sa=U("input",{name:"MuiInputBase",slot:"Input",overridesResolver:na})(({theme:n,ownerState:e})=>{const t=n.palette.mode==="light",r=v({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),s={opacity:"0 !important"},i=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return v({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Mr.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Mr.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),$S=_.jsx(PS,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),BS=g.forwardRef(function(e,t){var r;const s=Pe({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:m,endAdornment:f,fullWidth:p=!1,id:y,inputComponent:b="input",inputProps:x={},inputRef:E,maxRows:C,minRows:w,multiline:S=!1,name:k,onBlur:T,onChange:A,onClick:O,onFocus:I,onKeyDown:P,onKeyUp:F,placeholder:N,readOnly:M,renderSuffix:L,rows:$,slotProps:D={},slots:Y={},startAdornment:ce,type:Je="text",value:Re}=s,Le=V(s,DS),oe=x.value!=null?x.value:Re,{current:Ce}=g.useRef(oe!=null),ve=g.useRef(),tt=g.useCallback(me=>{},[]),nt=He(ve,E,x.ref,tt),[Ne,rt]=g.useState(!1),ae=Hr(),Se=Ks({props:s,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Se.focused=ae?ae.focused:Ne,g.useEffect(()=>{!ae&&h&&Ne&&(rt(!1),T&&T())},[ae,h,Ne,T]);const te=ae&&ae.onFilled,ue=ae&&ae.onEmpty,xe=g.useCallback(me=>{qi(me)?te&&te():ue&&ue()},[te,ue]);Rn(()=>{Ce&&xe({value:oe})},[oe,xe,Ce]);const ln=me=>{if(Se.disabled){me.stopPropagation();return}I&&I(me),x.onFocus&&x.onFocus(me),ae&&ae.onFocus?ae.onFocus(me):rt(!0)},_t=me=>{T&&T(me),x.onBlur&&x.onBlur(me),ae&&ae.onBlur?ae.onBlur(me):rt(!1)},vt=(me,...G)=>{if(!Ce){const qt=me.target||ve.current;if(qt==null)throw new Error(er(1));xe({value:qt.value})}x.onChange&&x.onChange(me,...G),A&&A(me,...G)};g.useEffect(()=>{xe(ve.current)},[]);const It=me=>{ve.current&&me.currentTarget===me.target&&ve.current.focus(),O&&O(me)};let yt=b,Ie=x;S&&yt==="input"&&($?Ie=v({type:void 0,minRows:$,maxRows:$},Ie):Ie=v({type:void 0,maxRows:C,minRows:w},Ie),yt=AS);const Ht=me=>{xe(me.animationName==="mui-auto-fill-cancel"?ve.current:{value:"x"})};g.useEffect(()=>{ae&&ae.setAdornedStart(!!ce)},[ae,ce]);const st=v({},s,{color:Se.color||"primary",disabled:Se.disabled,endAdornment:f,error:Se.error,focused:Se.focused,formControl:ae,fullWidth:p,hiddenLabel:Se.hiddenLabel,multiline:S,size:Se.size,startAdornment:ce,type:Je}),we=LS(st),Nt=Y.root||c.Root||ra,cn=D.root||u.root||{},Gt=Y.input||c.Input||sa;return Ie=v({},Ie,(r=D.input)!=null?r:u.input),_.jsxs(g.Fragment,{children:[!m&&$S,_.jsxs(Nt,v({},cn,!Gi(Nt)&&{ownerState:v({},st,cn.ownerState)},{ref:t,onClick:It},Le,{className:Q(we.root,cn.className,l,M&&"MuiInputBase-readOnly"),children:[ce,_.jsx(Yc.Provider,{value:null,children:_.jsx(Gt,v({ownerState:st,"aria-invalid":Se.error,"aria-describedby":i,autoComplete:o,autoFocus:a,defaultValue:d,disabled:Se.disabled,id:y,onAnimationStart:Ht,name:k,placeholder:N,readOnly:M,required:Se.required,rows:$,value:oe,onKeyDown:P,onKeyUp:F,type:Je},Ie,!Gi(Gt)&&{as:yt,ownerState:v({},st,Ie.ownerState)},{ref:nt,className:Q(we.input,Ie.className,M&&"MuiInputBase-readOnly"),onBlur:_t,onChange:vt,onFocus:ln}))}),f,L?L(v({},Se,{startAdornment:ce})):null]}))]})}),Xc=BS;function jS(n){return _e("MuiInput",n)}const US=v({},Mr,fe("MuiInput",["root","underline","input"])),ns=US;function VS(n){return _e("MuiOutlinedInput",n)}const zS=v({},Mr,fe("MuiOutlinedInput",["root","notchedOutline","input"])),un=zS;function WS(n){return _e("MuiFilledInput",n)}const HS=v({},Mr,fe("MuiFilledInput",["root","underline","input"])),Nn=HS,GS=zo(_.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),qS=zo(_.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function KS(n){return _e("MuiAvatar",n)}fe("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const YS=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],XS=vm(),QS=n=>{const{classes:e,variant:t,colorDefault:r}=n;return Ee({root:["root",t,r&&"colorDefault"],img:["img"],fallback:["fallback"]},KS,e)},JS=U("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:v({color:(n.vars||n).palette.background.default},n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:v({backgroundColor:n.palette.grey[400]},n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})))}]})),ZS=U("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(n,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),eI=U(qS,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(n,e)=>e.fallback})({width:"75%",height:"75%"});function tI({crossOrigin:n,referrerPolicy:e,src:t,srcSet:r}){const[s,i]=g.useState(!1);return g.useEffect(()=>{if(!t&&!r)return;i(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&i("loaded")},a.onerror=()=>{o&&i("error")},a.crossOrigin=n,a.referrerPolicy=e,a.src=t,r&&(a.srcset=r),()=>{o=!1}},[n,e,t,r]),s}const nI=g.forwardRef(function(e,t){const r=XS({props:e,name:"MuiAvatar"}),{alt:s,children:i,className:o,component:a="div",slots:l={},slotProps:c={},imgProps:u,sizes:d,src:h,srcSet:m,variant:f="circular"}=r,p=V(r,YS);let y=null;const b=tI(v({},u,{src:h,srcSet:m})),x=h||m,E=x&&b!=="error",C=v({},r,{colorDefault:!E,component:a,variant:f}),w=QS(C),[S,k]=$k("img",{className:w.img,elementType:ZS,externalForwardedProps:{slots:l,slotProps:{img:v({},u,c.img)}},additionalProps:{alt:s,src:h,srcSet:m,sizes:d},ownerState:C});return E?y=_.jsx(S,v({},k)):i||i===0?y=i:x&&s?y=s[0]:y=_.jsx(eI,{ownerState:C,className:w.fallback}),_.jsx(JS,v({as:a,ownerState:C,className:Q(w.root,o),ref:t},p,{children:y}))}),rI=nI,sI=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],iI={entering:{opacity:1},entered:{opacity:1}},oI=g.forwardRef(function(e,t){const r=pm(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:m,onExited:f,onExiting:p,style:y,timeout:b=s,TransitionComponent:x=bm}=e,E=V(e,sI),C=g.useRef(null),w=He(C,a.ref,t),S=N=>M=>{if(N){const L=C.current;M===void 0?N(L):N(L,M)}},k=S(h),T=S((N,M)=>{Em(N);const L=Hi({style:y,timeout:b,easing:l},{mode:"enter"});N.style.webkitTransition=r.transitions.create("opacity",L),N.style.transition=r.transitions.create("opacity",L),u&&u(N,M)}),A=S(d),O=S(p),I=S(N=>{const M=Hi({style:y,timeout:b,easing:l},{mode:"exit"});N.style.webkitTransition=r.transitions.create("opacity",M),N.style.transition=r.transitions.create("opacity",M),m&&m(N)}),P=S(f),F=N=>{i&&i(C.current,N)};return _.jsx(x,v({appear:o,in:c,nodeRef:C,onEnter:T,onEntered:A,onEntering:k,onExit:I,onExited:P,onExiting:O,addEndListener:F,timeout:b},E,{children:(N,M)=>g.cloneElement(a,v({style:v({opacity:0,visibility:N==="exited"&&!c?"hidden":void 0},iI[N],y,a.props.style),ref:w},M))}))}),aI=oI;function lI(n){return _e("MuiBackdrop",n)}fe("MuiBackdrop",["root","invisible"]);const cI=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],uI=n=>{const{classes:e,invisible:t}=n;return Ee({root:["root",t&&"invisible"]},lI,e)},dI=U("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})(({ownerState:n})=>v({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},n.invisible&&{backgroundColor:"transparent"})),hI=g.forwardRef(function(e,t){var r,s,i;const o=Pe({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:m,slotProps:f={},slots:p={},TransitionComponent:y=aI,transitionDuration:b}=o,x=V(o,cI),E=v({},o,{component:c,invisible:h}),C=uI(E),w=(r=f.root)!=null?r:d.root;return _.jsx(y,v({in:m,timeout:b},x,{children:_.jsx(dI,v({"aria-hidden":!0},w,{as:(s=(i=p.root)!=null?i:u.Root)!=null?s:c,className:Q(C.root,l,w==null?void 0:w.className),ownerState:v({},E,w==null?void 0:w.ownerState),classes:C,ref:t,children:a}))}))}),fI=hI;function pI(n){return _e("MuiBadge",n)}const mI=fe("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),dn=mI,gI=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Ba=10,ja=4,_I=vm(),vI=n=>{const{color:e,anchorOrigin:t,invisible:r,overlap:s,variant:i,classes:o={}}=n,a={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${ne(t.vertical)}${ne(t.horizontal)}`,`anchorOrigin${ne(t.vertical)}${ne(t.horizontal)}${ne(s)}`,`overlap${ne(s)}`,e!=="default"&&`color${ne(e)}`]};return Ee(a,pI,o)},yI=U("span",{name:"MuiBadge",slot:"Root",overridesResolver:(n,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),bI=U("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.badge,e[t.variant],e[`anchorOrigin${ne(t.anchorOrigin.vertical)}${ne(t.anchorOrigin.horizontal)}${ne(t.overlap)}`],t.color!=="default"&&e[`color${ne(t.color)}`],t.invisible&&e.invisible]}})(({theme:n})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(12),minWidth:Ba*2,lineHeight:1,padding:"0 6px",height:Ba*2,borderRadius:Ba,zIndex:1,transition:n.transitions.create("transform",{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=n.vars)!=null?e:n).palette).filter(t=>{var r,s;return((r=n.vars)!=null?r:n).palette[t].main&&((s=n.vars)!=null?s:n).palette[t].contrastText}).map(t=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:ja,height:ja*2,minWidth:ja*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${dn.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${dn.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${dn.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${dn.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${dn.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${dn.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${dn.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${dn.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:n.transitions.create("transform",{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.leavingScreen})}}]}}),EI=g.forwardRef(function(e,t){var r,s,i,o,a,l;const c=_I({props:e,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:d,component:h,components:m={},componentsProps:f={},children:p,overlap:y="rectangular",color:b="default",invisible:x=!1,max:E=99,badgeContent:C,slots:w,slotProps:S,showZero:k=!1,variant:T="standard"}=c,A=V(c,gI),{badgeContent:O,invisible:I,max:P,displayValue:F}=lS({max:E,invisible:x,badgeContent:C,showZero:k}),N=im({anchorOrigin:u,color:b,overlap:y,variant:T,badgeContent:C}),M=I||O==null&&T!=="dot",{color:L=b,overlap:$=y,anchorOrigin:D=u,variant:Y=T}=M?N:c,ce=Y!=="dot"?F:void 0,Je=v({},c,{badgeContent:O,invisible:M,max:P,displayValue:ce,showZero:k,anchorOrigin:D,color:L,overlap:$,variant:Y}),Re=vI(Je),Le=(r=(s=w==null?void 0:w.root)!=null?s:m.Root)!=null?r:yI,oe=(i=(o=w==null?void 0:w.badge)!=null?o:m.Badge)!=null?i:bI,Ce=(a=S==null?void 0:S.root)!=null?a:f.root,ve=(l=S==null?void 0:S.badge)!=null?l:f.badge,tt=An({elementType:Le,externalSlotProps:Ce,externalForwardedProps:A,additionalProps:{ref:t,as:h},ownerState:Je,className:Q(Ce==null?void 0:Ce.className,Re.root,d)}),nt=An({elementType:oe,externalSlotProps:ve,ownerState:Je,className:Q(Re.badge,ve==null?void 0:ve.className)});return _.jsxs(Le,v({},tt,{children:[p,_.jsx(oe,v({},nt,{children:ce}))]}))}),CI=EI;function xI(n){return _e("PrivateSwitchBase",n)}fe("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const wI=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],kI=n=>{const{classes:e,checked:t,disabled:r,edge:s}=n,i={root:["root",t&&"checked",r&&"disabled",s&&`edge${ne(s)}`],input:["input"]};return Ee(i,xI,e)},SI=U(Sm)(({ownerState:n})=>v({padding:9,borderRadius:"50%"},n.edge==="start"&&{marginLeft:n.size==="small"?-3:-12},n.edge==="end"&&{marginRight:n.size==="small"?-3:-12})),II=U("input",{shouldForwardProp:gt})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),TI=g.forwardRef(function(e,t){const{autoFocus:r,checked:s,checkedIcon:i,className:o,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:h,inputProps:m,inputRef:f,name:p,onBlur:y,onChange:b,onFocus:x,readOnly:E,required:C=!1,tabIndex:w,type:S,value:k}=e,T=V(e,wI),[A,O]=Vi({controlled:s,default:!!a,name:"SwitchBase",state:"checked"}),I=Hr(),P=Y=>{x&&x(Y),I&&I.onFocus&&I.onFocus(Y)},F=Y=>{y&&y(Y),I&&I.onBlur&&I.onBlur(Y)},N=Y=>{if(Y.nativeEvent.defaultPrevented)return;const ce=Y.target.checked;O(ce),b&&b(Y,ce)};let M=l;I&&typeof M>"u"&&(M=I.disabled);const L=S==="checkbox"||S==="radio",$=v({},e,{checked:A,disabled:M,disableFocusRipple:c,edge:u}),D=kI($);return _.jsxs(SI,v({component:"span",className:Q(D.root,o),centerRipple:!0,focusRipple:!c,disabled:M,tabIndex:null,role:void 0,onFocus:P,onBlur:F,ownerState:$,ref:t},T,{children:[_.jsx(II,v({autoFocus:r,checked:s,defaultChecked:a,className:D.input,disabled:M,id:L?h:void 0,name:p,onChange:N,readOnly:E,ref:f,required:C,ownerState:$,tabIndex:w,type:S},S==="checkbox"&&k===void 0?{}:{value:k},m)),A?i:d]}))}),RI=TI;function AI(n){return _e("MuiModal",n)}fe("MuiModal",["root","hidden","backdrop"]);const OI=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],PI=n=>{const{open:e,exited:t,classes:r}=n;return Ee({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},AI,r)},NI=U("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(({theme:n,ownerState:e})=>v({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),MI=U(fI,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),FI=g.forwardRef(function(e,t){var r,s,i,o,a,l;const c=Pe({name:"MuiModal",props:e}),{BackdropComponent:u=MI,BackdropProps:d,className:h,closeAfterTransition:m=!1,children:f,container:p,component:y,components:b={},componentsProps:x={},disableAutoFocus:E=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:w=!1,disablePortal:S=!1,disableRestoreFocus:k=!1,disableScrollLock:T=!1,hideBackdrop:A=!1,keepMounted:O=!1,onBackdropClick:I,open:P,slotProps:F,slots:N}=c,M=V(c,OI),L=v({},c,{closeAfterTransition:m,disableAutoFocus:E,disableEnforceFocus:C,disableEscapeKeyDown:w,disablePortal:S,disableRestoreFocus:k,disableScrollLock:T,hideBackdrop:A,keepMounted:O}),{getRootProps:$,getBackdropProps:D,getTransitionProps:Y,portalRef:ce,isTopModal:Je,exited:Re,hasTransition:Le}=SS(v({},L,{rootRef:t})),oe=v({},L,{exited:Re}),Ce=PI(oe),ve={};if(f.props.tabIndex===void 0&&(ve.tabIndex="-1"),Le){const{onEnter:te,onExited:ue}=Y();ve.onEnter=te,ve.onExited=ue}const tt=(r=(s=N==null?void 0:N.root)!=null?s:b.Root)!=null?r:NI,nt=(i=(o=N==null?void 0:N.backdrop)!=null?o:b.Backdrop)!=null?i:u,Ne=(a=F==null?void 0:F.root)!=null?a:x.root,rt=(l=F==null?void 0:F.backdrop)!=null?l:x.backdrop,ae=An({elementType:tt,externalSlotProps:Ne,externalForwardedProps:M,getSlotProps:$,additionalProps:{ref:t,as:y},ownerState:oe,className:Q(h,Ne==null?void 0:Ne.className,Ce==null?void 0:Ce.root,!oe.open&&oe.exited&&(Ce==null?void 0:Ce.hidden))}),Se=An({elementType:nt,externalSlotProps:rt,additionalProps:d,getSlotProps:te=>D(v({},te,{onClick:ue=>{I&&I(ue),te!=null&&te.onClick&&te.onClick(ue)}})),className:Q(rt==null?void 0:rt.className,d==null?void 0:d.className,Ce==null?void 0:Ce.backdrop),ownerState:oe});return!O&&!P&&(!Le||Re)?null:_.jsx(_S,{ref:ce,container:p,disablePortal:S,children:_.jsxs(tt,v({},ae,{children:[!A&&u?_.jsx(nt,v({},Se)):null,_.jsx(mS,{disableEnforceFocus:C,disableAutoFocus:E,disableRestoreFocus:k,isEnabled:Je,open:P,children:g.cloneElement(f,ve)})]}))})}),DI=FI,LI=fe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),qd=LI,$I=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],BI=n=>{const{classes:e,disableUnderline:t}=n,s=Ee({root:["root",!t&&"underline"],input:["input"]},WS,e);return v({},e,s)},jI=U(ra,{shouldForwardProp:n=>gt(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...ta(n,e),!t.disableUnderline&&e.underline]}})(({theme:n,ownerState:e})=>{var t;const r=n.palette.mode==="light",s=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return v({position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${Nn.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${Nn.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t=(n.vars||n).palette[e.color||"primary"])==null?void 0:t.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Nn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Nn.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Nn.disabled}, .${Nn.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Nn.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&v({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),UI=U(sa,{name:"MuiFilledInput",slot:"Input",overridesResolver:na})(({theme:n,ownerState:e})=>v({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Im=g.forwardRef(function(e,t){var r,s,i,o;const a=Pe({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:m,slots:f={},type:p="text"}=a,y=V(a,$I),b=v({},a,{fullWidth:u,inputComponent:d,multiline:h,type:p}),x=BI(a),E={root:{ownerState:b},input:{ownerState:b}},C=m??c?et(E,m??c):E,w=(r=(s=f.root)!=null?s:l.Root)!=null?r:jI,S=(i=(o=f.input)!=null?o:l.Input)!=null?i:UI;return _.jsx(Xc,v({slots:{root:w,input:S},componentsProps:C,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:p},y,{classes:x}))});Im.muiName="Input";const VI=Im;function zI(n){return _e("MuiFormControl",n)}fe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const WI=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],HI=n=>{const{classes:e,margin:t,fullWidth:r}=n,s={root:["root",t!=="none"&&`margin${ne(t)}`,r&&"fullWidth"]};return Ee(s,zI,e)},GI=U("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:n},e)=>v({},e.root,e[`margin${ne(n.margin)}`],n.fullWidth&&e.fullWidth)})(({ownerState:n})=>v({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},n.margin==="normal"&&{marginTop:16,marginBottom:8},n.margin==="dense"&&{marginTop:8,marginBottom:4},n.fullWidth&&{width:"100%"})),qI=g.forwardRef(function(e,t){const r=Pe({props:e,name:"MuiFormControl"}),{children:s,className:i,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:m="none",required:f=!1,size:p="medium",variant:y="outlined"}=r,b=V(r,WI),x=v({},r,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:m,required:f,size:p,variant:y}),E=HI(x),[C,w]=g.useState(()=>{let F=!1;return s&&g.Children.forEach(s,N=>{if(!Ma(N,["Input","Select"]))return;const M=Ma(N,["Select"])?N.props.input:N;M&&NS(M.props)&&(F=!0)}),F}),[S,k]=g.useState(()=>{let F=!1;return s&&g.Children.forEach(s,N=>{Ma(N,["Input","Select"])&&(qi(N.props,!0)||qi(N.props.inputProps,!0))&&(F=!0)}),F}),[T,A]=g.useState(!1);l&&T&&A(!1);const O=u!==void 0&&!l?u:T;let I;const P=g.useMemo(()=>({adornedStart:C,setAdornedStart:w,color:o,disabled:l,error:c,filled:S,focused:O,fullWidth:d,hiddenLabel:h,size:p,onBlur:()=>{A(!1)},onEmpty:()=>{k(!1)},onFilled:()=>{k(!0)},onFocus:()=>{A(!0)},registerEffect:I,required:f,variant:y}),[C,o,l,c,S,O,d,h,I,f,p,y]);return _.jsx(Yc.Provider,{value:P,children:_.jsx(GI,v({as:a,ownerState:x,className:Q(E.root,i),ref:t},b,{children:s}))})}),pi=qI,KI=sw({createStyledComponent:U("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>e.root}),useThemeProps:n=>Pe({props:n,name:"MuiStack"})}),YI=KI;function XI(n){return _e("MuiFormControlLabel",n)}const QI=fe("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),as=QI,JI=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],ZI=n=>{const{classes:e,disabled:t,labelPlacement:r,error:s,required:i}=n,o={root:["root",t&&"disabled",`labelPlacement${ne(r)}`,s&&"error",i&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",s&&"error"]};return Ee(o,XI,e)},eT=U("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${as.label}`]:e.label},e.root,e[`labelPlacement${ne(t.labelPlacement)}`]]}})(({theme:n,ownerState:e})=>v({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${as.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${as.label}`]:{[`&.${as.disabled}`]:{color:(n.vars||n).palette.text.disabled}}})),tT=U("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(({theme:n})=>({[`&.${as.error}`]:{color:(n.vars||n).palette.error.main}})),nT=g.forwardRef(function(e,t){var r,s;const i=Pe({props:e,name:"MuiFormControlLabel"}),{className:o,componentsProps:a={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:h="end",required:m,slotProps:f={}}=i,p=V(i,JI),y=Hr(),b=(r=c??l.props.disabled)!=null?r:y==null?void 0:y.disabled,x=m??l.props.required,E={disabled:b,required:x};["checked","name","onChange","value","inputRef"].forEach(A=>{typeof l.props[A]>"u"&&typeof i[A]<"u"&&(E[A]=i[A])});const C=Ks({props:i,muiFormControl:y,states:["error"]}),w=v({},i,{disabled:b,labelPlacement:h,required:x,error:C.error}),S=ZI(w),k=(s=f.typography)!=null?s:a.typography;let T=d;return T!=null&&T.type!==zd&&!u&&(T=_.jsx(zd,v({component:"span"},k,{className:Q(S.label,k==null?void 0:k.className),children:T}))),_.jsxs(eT,v({className:Q(S.root,o),ownerState:w,ref:t},p,{children:[g.cloneElement(l,E),x?_.jsxs(YI,{display:"block",children:[T,_.jsxs(tT,{ownerState:w,"aria-hidden":!0,className:S.asterisk,children:[" ","*"]})]}):T]}))}),rT=nT;function sT(n){return _e("MuiFormGroup",n)}fe("MuiFormGroup",["root","row","error"]);const iT=["className","row"],oT=n=>{const{classes:e,row:t,error:r}=n;return Ee({root:["root",t&&"row",r&&"error"]},sT,e)},aT=U("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.row&&e.row]}})(({ownerState:n})=>v({display:"flex",flexDirection:"column",flexWrap:"wrap"},n.row&&{flexDirection:"row"})),lT=g.forwardRef(function(e,t){const r=Pe({props:e,name:"MuiFormGroup"}),{className:s,row:i=!1}=r,o=V(r,iT),a=Hr(),l=Ks({props:r,muiFormControl:a,states:["error"]}),c=v({},r,{row:i,error:l.error}),u=oT(c);return _.jsx(aT,v({className:Q(u.root,s),ownerState:c,ref:t},o))}),cT=lT,uT=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Pl(n){return`scale(${n}, ${n**2})`}const dT={entering:{opacity:1,transform:Pl(1)},entered:{opacity:1,transform:"none"}},Ua=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Tm=g.forwardRef(function(e,t){const{addEndListener:r,appear:s=!0,children:i,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:m,style:f,timeout:p="auto",TransitionComponent:y=bm}=e,b=V(e,uT),x=rm(),E=g.useRef(),C=pm(),w=g.useRef(null),S=He(w,i.ref,t),k=M=>L=>{if(M){const $=w.current;L===void 0?M($):M($,L)}},T=k(u),A=k((M,L)=>{Em(M);const{duration:$,delay:D,easing:Y}=Hi({style:f,timeout:p,easing:o},{mode:"enter"});let ce;p==="auto"?(ce=C.transitions.getAutoHeightDuration(M.clientHeight),E.current=ce):ce=$,M.style.transition=[C.transitions.create("opacity",{duration:ce,delay:D}),C.transitions.create("transform",{duration:Ua?ce:ce*.666,delay:D,easing:Y})].join(","),l&&l(M,L)}),O=k(c),I=k(m),P=k(M=>{const{duration:L,delay:$,easing:D}=Hi({style:f,timeout:p,easing:o},{mode:"exit"});let Y;p==="auto"?(Y=C.transitions.getAutoHeightDuration(M.clientHeight),E.current=Y):Y=L,M.style.transition=[C.transitions.create("opacity",{duration:Y,delay:$}),C.transitions.create("transform",{duration:Ua?Y:Y*.666,delay:Ua?$:$||Y*.333,easing:D})].join(","),M.style.opacity=0,M.style.transform=Pl(.75),d&&d(M)}),F=k(h),N=M=>{p==="auto"&&x.start(E.current||0,M),r&&r(w.current,M)};return _.jsx(y,v({appear:s,in:a,nodeRef:w,onEnter:A,onEntered:O,onEntering:T,onExit:P,onExited:F,onExiting:I,addEndListener:N,timeout:p==="auto"?null:p},b,{children:(M,L)=>g.cloneElement(i,v({style:v({opacity:0,transform:Pl(.75),visibility:M==="exited"&&!a?"hidden":void 0},dT[M],f,i.props.style),ref:S},L))}))});Tm.muiSupportAuto=!0;const hT=Tm,fT=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],pT=n=>{const{classes:e,disableUnderline:t}=n,s=Ee({root:["root",!t&&"underline"],input:["input"]},jS,e);return v({},e,s)},mT=U(ra,{shouldForwardProp:n=>gt(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...ta(n,e),!t.disableUnderline&&e.underline]}})(({theme:n,ownerState:e})=>{let r=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(r=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),v({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ns.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ns.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ns.disabled}, .${ns.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${ns.disabled}:before`]:{borderBottomStyle:"dotted"}})}),gT=U(sa,{name:"MuiInput",slot:"Input",overridesResolver:na})({}),Rm=g.forwardRef(function(e,t){var r,s,i,o;const a=Pe({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:m=!1,slotProps:f,slots:p={},type:y="text"}=a,b=V(a,fT),x=pT(a),C={root:{ownerState:{disableUnderline:l}}},w=f??u?et(f??u,C):C,S=(r=(s=p.root)!=null?s:c.Root)!=null?r:mT,k=(i=(o=p.input)!=null?o:c.Input)!=null?i:gT;return _.jsx(Xc,v({slots:{root:S,input:k},slotProps:w,fullWidth:d,inputComponent:h,multiline:m,ref:t,type:y},b,{classes:x}))});Rm.muiName="Input";const _T=Rm,vT=g.createContext({}),Nl=vT;function yT(n){return _e("MuiList",n)}fe("MuiList",["root","padding","dense","subheader"]);const bT=["children","className","component","dense","disablePadding","subheader"],ET=n=>{const{classes:e,disablePadding:t,dense:r,subheader:s}=n;return Ee({root:["root",!t&&"padding",r&&"dense",s&&"subheader"]},yT,e)},CT=U("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})(({ownerState:n})=>v({listStyle:"none",margin:0,padding:0,position:"relative"},!n.disablePadding&&{paddingTop:8,paddingBottom:8},n.subheader&&{paddingTop:0})),xT=g.forwardRef(function(e,t){const r=Pe({props:e,name:"MuiList"}),{children:s,className:i,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=V(r,bT),d=g.useMemo(()=>({dense:a}),[a]),h=v({},r,{component:o,dense:a,disablePadding:l}),m=ET(h);return _.jsx(Nl.Provider,{value:d,children:_.jsxs(CT,v({as:o,className:Q(m.root,i),ref:t,ownerState:h},u,{children:[c,s]}))})}),wT=xT,kT=fe("MuiListItemIcon",["root","alignItemsFlexStart"]),Kd=kT,ST=fe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Yd=ST,IT=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Va(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function Xd(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function Am(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.indexOf(e.keys.join(""))===0}function rs(n,e,t,r,s,i){let o=!1,a=s(n,e,e?t:!1);for(;a;){if(a===n.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Am(a,i)||l)a=s(n,a,t);else return a.focus(),!0}return!1}const TT=g.forwardRef(function(e,t){const{actions:r,autoFocus:s=!1,autoFocusItem:i=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=V(e,IT),m=g.useRef(null),f=g.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Rn(()=>{s&&m.current.focus()},[s]),g.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(E,{direction:C})=>{const w=!m.current.style.width;if(E.clientHeight<m.current.clientHeight&&w){const S=`${sm(pt(E))}px`;m.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=S,m.current.style.width=`calc(100% + ${S})`}return m.current}}),[]);const p=E=>{const C=m.current,w=E.key,S=pt(C).activeElement;if(w==="ArrowDown")E.preventDefault(),rs(C,S,c,l,Va);else if(w==="ArrowUp")E.preventDefault(),rs(C,S,c,l,Xd);else if(w==="Home")E.preventDefault(),rs(C,null,c,l,Va);else if(w==="End")E.preventDefault(),rs(C,null,c,l,Xd);else if(w.length===1){const k=f.current,T=w.toLowerCase(),A=performance.now();k.keys.length>0&&(A-k.lastTime>500?(k.keys=[],k.repeating=!0,k.previousKeyMatched=!0):k.repeating&&T!==k.keys[0]&&(k.repeating=!1)),k.lastTime=A,k.keys.push(T);const O=S&&!k.repeating&&Am(S,k);k.previousKeyMatched&&(O||rs(C,S,!1,l,Va,k))?E.preventDefault():k.previousKeyMatched=!1}u&&u(E)},y=He(m,t);let b=-1;g.Children.forEach(o,(E,C)=>{if(!g.isValidElement(E)){b===C&&(b+=1,b>=o.length&&(b=-1));return}E.props.disabled||(d==="selectedMenu"&&E.props.selected||b===-1)&&(b=C),b===C&&(E.props.disabled||E.props.muiSkipListHighlight||E.type.muiSkipListHighlight)&&(b+=1,b>=o.length&&(b=-1))});const x=g.Children.map(o,(E,C)=>{if(C===b){const w={};return i&&(w.autoFocus=!0),E.props.tabIndex===void 0&&d==="selectedMenu"&&(w.tabIndex=0),g.cloneElement(E,w)}return E});return _.jsx(wT,v({role:"menu",ref:y,className:a,onKeyDown:p,tabIndex:s?0:-1},h,{children:x}))}),RT=TT;function AT(n){return _e("MuiPopover",n)}fe("MuiPopover",["root","paper"]);const OT=["onEntering"],PT=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],NT=["slotProps"];function Qd(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function Jd(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function Zd(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function za(n){return typeof n=="function"?n():n}const MT=n=>{const{classes:e}=n;return Ee({root:["root"],paper:["paper"]},AT,e)},FT=U(DI,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Om=U(Nk,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),DT=g.forwardRef(function(e,t){var r,s,i;const o=Pe({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:m,container:f,elevation:p=8,marginThreshold:y=16,open:b,PaperProps:x={},slots:E,slotProps:C,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:S=hT,transitionDuration:k="auto",TransitionProps:{onEntering:T}={},disableScrollLock:A=!1}=o,O=V(o.TransitionProps,OT),I=V(o,PT),P=(r=C==null?void 0:C.paper)!=null?r:x,F=g.useRef(),N=He(F,P.ref),M=v({},o,{anchorOrigin:c,anchorReference:d,elevation:p,marginThreshold:y,externalPaperSlotProps:P,transformOrigin:w,TransitionComponent:S,transitionDuration:k,TransitionProps:O}),L=MT(M),$=g.useCallback(()=>{if(d==="anchorPosition")return u;const te=za(l),xe=(te&&te.nodeType===1?te:pt(F.current).body).getBoundingClientRect();return{top:xe.top+Qd(xe,c.vertical),left:xe.left+Jd(xe,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),D=g.useCallback(te=>({vertical:Qd(te,w.vertical),horizontal:Jd(te,w.horizontal)}),[w.horizontal,w.vertical]),Y=g.useCallback(te=>{const ue={width:te.offsetWidth,height:te.offsetHeight},xe=D(ue);if(d==="none")return{top:null,left:null,transformOrigin:Zd(xe)};const ln=$();let _t=ln.top-xe.vertical,vt=ln.left-xe.horizontal;const It=_t+ue.height,yt=vt+ue.width,Ie=nr(za(l)),Ht=Ie.innerHeight-y,st=Ie.innerWidth-y;if(y!==null&&_t<y){const we=_t-y;_t-=we,xe.vertical+=we}else if(y!==null&&It>Ht){const we=It-Ht;_t-=we,xe.vertical+=we}if(y!==null&&vt<y){const we=vt-y;vt-=we,xe.horizontal+=we}else if(yt>st){const we=yt-st;vt-=we,xe.horizontal+=we}return{top:`${Math.round(_t)}px`,left:`${Math.round(vt)}px`,transformOrigin:Zd(xe)}},[l,d,$,D,y]),[ce,Je]=g.useState(b),Re=g.useCallback(()=>{const te=F.current;if(!te)return;const ue=Y(te);ue.top!==null&&(te.style.top=ue.top),ue.left!==null&&(te.style.left=ue.left),te.style.transformOrigin=ue.transformOrigin,Je(!0)},[Y]);g.useEffect(()=>(A&&window.addEventListener("scroll",Re),()=>window.removeEventListener("scroll",Re)),[l,A,Re]);const Le=(te,ue)=>{T&&T(te,ue),Re()},oe=()=>{Je(!1)};g.useEffect(()=>{b&&Re()}),g.useImperativeHandle(a,()=>b?{updatePosition:()=>{Re()}}:null,[b,Re]),g.useEffect(()=>{if(!b)return;const te=tm(()=>{Re()}),ue=nr(l);return ue.addEventListener("resize",te),()=>{te.clear(),ue.removeEventListener("resize",te)}},[l,b,Re]);let Ce=k;k==="auto"&&!S.muiSupportAuto&&(Ce=void 0);const ve=f||(l?pt(za(l)).body:void 0),tt=(s=E==null?void 0:E.root)!=null?s:FT,nt=(i=E==null?void 0:E.paper)!=null?i:Om,Ne=An({elementType:nt,externalSlotProps:v({},P,{style:ce?P.style:v({},P.style,{opacity:0})}),additionalProps:{elevation:p,ref:N},ownerState:M,className:Q(L.paper,P==null?void 0:P.className)}),rt=An({elementType:tt,externalSlotProps:(C==null?void 0:C.root)||{},externalForwardedProps:I,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:ve,open:b},ownerState:M,className:Q(L.root,m)}),{slotProps:ae}=rt,Se=V(rt,NT);return _.jsx(tt,v({},Se,!Gi(tt)&&{slotProps:ae,disableScrollLock:A},{children:_.jsx(S,v({appear:!0,in:b,onEntering:Le,onExited:oe,timeout:Ce},O,{children:_.jsx(nt,v({},Ne,{children:h}))}))}))}),LT=DT;function $T(n){return _e("MuiMenu",n)}fe("MuiMenu",["root","paper","list"]);const BT=["onEntering"],jT=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],UT={vertical:"top",horizontal:"right"},VT={vertical:"top",horizontal:"left"},zT=n=>{const{classes:e}=n;return Ee({root:["root"],paper:["paper"],list:["list"]},$T,e)},WT=U(LT,{shouldForwardProp:n=>gt(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),HT=U(Om,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),GT=U(RT,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),qT=g.forwardRef(function(e,t){var r,s;const i=Pe({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:m={},PopoverClasses:f,transitionDuration:p="auto",TransitionProps:{onEntering:y}={},variant:b="selectedMenu",slots:x={},slotProps:E={}}=i,C=V(i.TransitionProps,BT),w=V(i,jT),S=Xx(),k=v({},i,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:y,PaperProps:m,transitionDuration:p,TransitionProps:C,variant:b}),T=zT(k),A=o&&!c&&h,O=g.useRef(null),I=(D,Y)=>{O.current&&O.current.adjustStyleForScrollbar(D,{direction:S?"rtl":"ltr"}),y&&y(D,Y)},P=D=>{D.key==="Tab"&&(D.preventDefault(),d&&d(D,"tabKeyDown"))};let F=-1;g.Children.map(a,(D,Y)=>{g.isValidElement(D)&&(D.props.disabled||(b==="selectedMenu"&&D.props.selected||F===-1)&&(F=Y))});const N=(r=x.paper)!=null?r:HT,M=(s=E.paper)!=null?s:m,L=An({elementType:x.root,externalSlotProps:E.root,ownerState:k,className:[T.root,l]}),$=An({elementType:N,externalSlotProps:M,ownerState:k,className:T.paper});return _.jsx(WT,v({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?UT:VT,slots:{paper:N,root:x.root},slotProps:{root:L,paper:$},open:h,ref:t,transitionDuration:p,TransitionProps:v({onEntering:I},C),ownerState:k},w,{classes:f,children:_.jsx(GT,v({onKeyDown:P,actions:O,autoFocus:o&&(F===-1||c),autoFocusItem:A,variant:b},u,{className:Q(T.list,u.className),children:a}))}))}),KT=qT;function YT(n){return _e("MuiMenuItem",n)}const XT=fe("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ss=XT,QT=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],JT=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},ZT=n=>{const{disabled:e,dense:t,divider:r,disableGutters:s,selected:i,classes:o}=n,l=Ee({root:["root",t&&"dense",e&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},YT,o);return v({},o,l)},e1=U(Sm,{shouldForwardProp:n=>gt(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:JT})(({theme:n,ownerState:e})=>v({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ss.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Un(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${ss.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Un(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${ss.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Un(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Un(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${ss.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${ss.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${qd.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${qd.inset}`]:{marginLeft:52},[`& .${Yd.root}`]:{marginTop:0,marginBottom:0},[`& .${Yd.inset}`]:{paddingLeft:36},[`& .${Kd.root}`]:{minWidth:36}},!e.dense&&{[n.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&v({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,{[`& .${Kd.root} svg`]:{fontSize:"1.25rem"}}))),t1=g.forwardRef(function(e,t){const r=Pe({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,m=V(r,QT),f=g.useContext(Nl),p=g.useMemo(()=>({dense:o||f.dense||!1,disableGutters:l}),[f.dense,o,l]),y=g.useRef(null);Rn(()=>{s&&y.current&&y.current.focus()},[s]);const b=v({},r,{dense:p.dense,divider:a,disableGutters:l}),x=ZT(r),E=He(y,t);let C;return r.disabled||(C=d!==void 0?d:-1),_.jsx(Nl.Provider,{value:p,children:_.jsx(e1,v({ref:E,role:u,tabIndex:C,component:i,focusVisibleClassName:Q(x.focusVisible,c),className:Q(x.root,h)},m,{ownerState:b,classes:x}))})}),Wa=t1;function n1(n){return _e("MuiNativeSelect",n)}const r1=fe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Qc=r1,s1=["className","disabled","error","IconComponent","inputRef","variant"],i1=n=>{const{classes:e,variant:t,disabled:r,multiple:s,open:i,error:o}=n,a={select:["select",t,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ne(t)}`,i&&"iconOpen",r&&"disabled"]};return Ee(a,n1,e)},Pm=({ownerState:n,theme:e})=>v({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":v({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Qc.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},n.variant==="filled"&&{"&&&":{paddingRight:32}},n.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),o1=U("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:gt,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${Qc.multiple}`]:e.multiple}]}})(Pm),Nm=({ownerState:n,theme:e})=>v({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Qc.disabled}`]:{color:(e.vars||e).palette.action.disabled}},n.open&&{transform:"rotate(180deg)"},n.variant==="filled"&&{right:7},n.variant==="outlined"&&{right:7}),a1=U("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${ne(t.variant)}`],t.open&&e.iconOpen]}})(Nm),l1=g.forwardRef(function(e,t){const{className:r,disabled:s,error:i,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=V(e,s1),u=v({},e,{disabled:s,variant:l,error:i}),d=i1(u);return _.jsxs(g.Fragment,{children:[_.jsx(o1,v({ownerState:u,className:Q(d.select,r),disabled:s,ref:a||t},c)),e.multiple?null:_.jsx(a1,{as:o,ownerState:u,className:d.icon})]})}),c1=l1;var eh;const u1=["children","classes","className","label","notched"],d1=U("fieldset",{shouldForwardProp:gt})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),h1=U("legend",{shouldForwardProp:gt})(({ownerState:n,theme:e})=>v({float:"unset",width:"auto",overflow:"hidden"},!n.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},n.withLabel&&v({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},n.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function f1(n){const{className:e,label:t,notched:r}=n,s=V(n,u1),i=t!=null&&t!=="",o=v({},n,{notched:r,withLabel:i});return _.jsx(d1,v({"aria-hidden":!0,className:e,ownerState:o},s,{children:_.jsx(h1,{ownerState:o,children:i?_.jsx("span",{children:t}):eh||(eh=_.jsx("span",{className:"notranslate",children:"​"}))})}))}const p1=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],m1=n=>{const{classes:e}=n,r=Ee({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},VS,e);return v({},e,r)},g1=U(ra,{shouldForwardProp:n=>gt(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:ta})(({theme:n,ownerState:e})=>{const t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return v({position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${un.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${un.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${un.focused} .${un.notchedOutline}`]:{borderColor:(n.vars||n).palette[e.color].main,borderWidth:2},[`&.${un.error} .${un.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${un.disabled} .${un.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&v({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),_1=U(f1,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),v1=U(sa,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:na})(({theme:n,ownerState:e})=>v({padding:"16.5px 14px"},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Mm=g.forwardRef(function(e,t){var r,s,i,o,a;const l=Pe({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:m=!1,notched:f,slots:p={},type:y="text"}=l,b=V(l,p1),x=m1(l),E=Hr(),C=Ks({props:l,muiFormControl:E,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=v({},l,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:E,fullWidth:u,hiddenLabel:C.hiddenLabel,multiline:m,size:C.size,type:y}),S=(r=(s=p.root)!=null?s:c.Root)!=null?r:g1,k=(i=(o=p.input)!=null?o:c.Input)!=null?i:v1;return _.jsx(Xc,v({slots:{root:S,input:k},renderSuffix:T=>_.jsx(_1,{ownerState:w,className:x.notchedOutline,label:h!=null&&h!==""&&C.required?a||(a=_.jsxs(g.Fragment,{children:[h," ","*"]})):h,notched:typeof f<"u"?f:!!(T.startAdornment||T.filled||T.focused)}),fullWidth:u,inputComponent:d,multiline:m,ref:t,type:y},b,{classes:v({},x,{notchedOutline:null})}))});Mm.muiName="Input";const y1=Mm,b1=zo(_.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),E1=zo(_.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),C1=U("span",{shouldForwardProp:gt})({position:"relative",display:"flex"}),x1=U(b1)({transform:"scale(1)"}),w1=U(E1)(({theme:n,ownerState:e})=>v({left:0,position:"absolute",transform:"scale(0)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeIn,duration:n.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.shortest})}));function Fm(n){const{checked:e=!1,classes:t={},fontSize:r}=n,s=v({},n,{checked:e});return _.jsxs(C1,{className:t.root,ownerState:s,children:[_.jsx(x1,{fontSize:r,className:t.background,ownerState:s}),_.jsx(w1,{fontSize:r,className:t.dot,ownerState:s})]})}const k1=g.createContext(void 0),Dm=k1;function S1(){return g.useContext(Dm)}function I1(n){return _e("MuiRadio",n)}const th=fe("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),T1=["checked","checkedIcon","color","icon","name","onChange","size","className"],R1=n=>{const{classes:e,color:t,size:r}=n,s={root:["root",`color${ne(t)}`,r!=="medium"&&`size${ne(r)}`]};return v({},e,Ee(s,I1,e))},A1=U(RI,{shouldForwardProp:n=>gt(n)||n==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size!=="medium"&&e[`size${ne(t.size)}`],e[`color${ne(t.color)}`]]}})(({theme:n,ownerState:e})=>v({color:(n.vars||n).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${e.color==="default"?n.vars.palette.action.activeChannel:n.vars.palette[e.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Un(e.color==="default"?n.palette.action.active:n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${th.checked}`]:{color:(n.vars||n).palette[e.color].main}},{[`&.${th.disabled}`]:{color:(n.vars||n).palette.action.disabled}}));function O1(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}const nh=_.jsx(Fm,{checked:!0}),rh=_.jsx(Fm,{}),P1=g.forwardRef(function(e,t){var r,s;const i=Pe({props:e,name:"MuiRadio"}),{checked:o,checkedIcon:a=nh,color:l="primary",icon:c=rh,name:u,onChange:d,size:h="medium",className:m}=i,f=V(i,T1),p=v({},i,{color:l,size:h}),y=R1(p),b=S1();let x=o;const E=wl(d,b&&b.onChange);let C=u;return b&&(typeof x>"u"&&(x=O1(b.value,i.value)),typeof C>"u"&&(C=b.name)),_.jsx(A1,v({type:"radio",icon:g.cloneElement(c,{fontSize:(r=rh.props.fontSize)!=null?r:h}),checkedIcon:g.cloneElement(a,{fontSize:(s=nh.props.fontSize)!=null?s:h}),ownerState:p,classes:y,name:C,checked:x,onChange:E,ref:t,className:Q(y.root,m)},f))}),N1=P1;function M1(n){return _e("MuiRadioGroup",n)}fe("MuiRadioGroup",["root","row","error"]);const F1=["actions","children","className","defaultValue","name","onChange","value"],D1=n=>{const{classes:e,row:t,error:r}=n;return Ee({root:["root",t&&"row",r&&"error"]},M1,e)},L1=g.forwardRef(function(e,t){const{actions:r,children:s,className:i,defaultValue:o,name:a,onChange:l,value:c}=e,u=V(e,F1),d=g.useRef(null),h=D1(e),[m,f]=Vi({controlled:c,default:o,name:"RadioGroup"});g.useImperativeHandle(r,()=>({focus:()=>{let x=d.current.querySelector("input:not(:disabled):checked");x||(x=d.current.querySelector("input:not(:disabled)")),x&&x.focus()}}),[]);const p=He(t,d),y=nm(a),b=g.useMemo(()=>({name:y,onChange(x){f(x.target.value),l&&l(x,x.target.value)},value:m}),[y,l,f,m]);return _.jsx(Dm.Provider,{value:b,children:_.jsx(cT,v({role:"radiogroup",ref:p,className:Q(h.root,i)},u,{children:s}))})}),$1=L1;function B1(n){return _e("MuiSelect",n)}const is=fe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var sh;const j1=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],U1=U("div",{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${is.select}`]:e.select},{[`&.${is.select}`]:e[t.variant]},{[`&.${is.error}`]:e.error},{[`&.${is.multiple}`]:e.multiple}]}})(Pm,{[`&.${is.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),V1=U("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${ne(t.variant)}`],t.open&&e.iconOpen]}})(Nm),z1=U("input",{shouldForwardProp:n=>gm(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ih(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function W1(n){return n==null||typeof n=="string"&&!n.trim()}const H1=n=>{const{classes:e,variant:t,disabled:r,multiple:s,open:i,error:o}=n,a={select:["select",t,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ne(t)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ee(a,B1,e)},G1=g.forwardRef(function(e,t){var r;const{"aria-describedby":s,"aria-label":i,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:m,error:f=!1,IconComponent:p,inputRef:y,labelId:b,MenuProps:x={},multiple:E,name:C,onBlur:w,onChange:S,onClose:k,onFocus:T,onOpen:A,open:O,readOnly:I,renderValue:P,SelectDisplayProps:F={},tabIndex:N,value:M,variant:L="standard"}=e,$=V(e,j1),[D,Y]=Vi({controlled:M,default:d,name:"Select"}),[ce,Je]=Vi({controlled:O,default:u,name:"Select"}),Re=g.useRef(null),Le=g.useRef(null),[oe,Ce]=g.useState(null),{current:ve}=g.useRef(O!=null),[tt,nt]=g.useState(),Ne=He(t,y),rt=g.useCallback(W=>{Le.current=W,W&&Ce(W)},[]),ae=oe==null?void 0:oe.parentNode;g.useImperativeHandle(Ne,()=>({focus:()=>{Le.current.focus()},node:Re.current,value:D}),[D]),g.useEffect(()=>{u&&ce&&oe&&!ve&&(nt(a?null:ae.clientWidth),Le.current.focus())},[oe,a]),g.useEffect(()=>{o&&Le.current.focus()},[o]),g.useEffect(()=>{if(!b)return;const W=pt(Le.current).getElementById(b);if(W){const ye=()=>{getSelection().isCollapsed&&Le.current.focus()};return W.addEventListener("click",ye),()=>{W.removeEventListener("click",ye)}}},[b]);const Se=(W,ye)=>{W?A&&A(ye):k&&k(ye),ve||(nt(a?null:ae.clientWidth),Je(W))},te=W=>{W.button===0&&(W.preventDefault(),Le.current.focus(),Se(!0,W))},ue=W=>{Se(!1,W)},xe=g.Children.toArray(l),ln=W=>{const ye=xe.find(ze=>ze.props.value===W.target.value);ye!==void 0&&(Y(ye.props.value),S&&S(W,ye))},_t=W=>ye=>{let ze;if(ye.currentTarget.hasAttribute("tabindex")){if(E){ze=Array.isArray(D)?D.slice():[];const ar=D.indexOf(W.props.value);ar===-1?ze.push(W.props.value):ze.splice(ar,1)}else ze=W.props.value;if(W.props.onClick&&W.props.onClick(ye),D!==ze&&(Y(ze),S)){const ar=ye.nativeEvent||ye,pu=new ar.constructor(ar.type,ar);Object.defineProperty(pu,"target",{writable:!0,value:{value:ze,name:C}}),S(pu,W)}E||Se(!1,ye)}},vt=W=>{I||[" ","ArrowUp","ArrowDown","Enter"].indexOf(W.key)!==-1&&(W.preventDefault(),Se(!0,W))},It=oe!==null&&ce,yt=W=>{!It&&w&&(Object.defineProperty(W,"target",{writable:!0,value:{value:D,name:C}}),w(W))};delete $["aria-invalid"];let Ie,Ht;const st=[];let we=!1;(qi({value:D})||m)&&(P?Ie=P(D):we=!0);const Nt=xe.map(W=>{if(!g.isValidElement(W))return null;let ye;if(E){if(!Array.isArray(D))throw new Error(er(2));ye=D.some(ze=>ih(ze,W.props.value)),ye&&we&&st.push(W.props.children)}else ye=ih(D,W.props.value),ye&&we&&(Ht=W.props.children);return g.cloneElement(W,{"aria-selected":ye?"true":"false",onClick:_t(W),onKeyUp:ze=>{ze.key===" "&&ze.preventDefault(),W.props.onKeyUp&&W.props.onKeyUp(ze)},role:"option",selected:ye,value:void 0,"data-value":W.props.value})});we&&(E?st.length===0?Ie=null:Ie=st.reduce((W,ye,ze)=>(W.push(ye),ze<st.length-1&&W.push(", "),W),[]):Ie=Ht);let cn=tt;!a&&ve&&oe&&(cn=ae.clientWidth);let Gt;typeof N<"u"?Gt=N:Gt=h?null:0;const me=F.id||(C?`mui-component-select-${C}`:void 0),G=v({},e,{variant:L,value:D,open:It,error:f}),qt=H1(G),qr=v({},x.PaperProps,(r=x.slotProps)==null?void 0:r.paper),Kr=nm();return _.jsxs(g.Fragment,{children:[_.jsx(U1,v({ref:rt,tabIndex:Gt,role:"combobox","aria-controls":Kr,"aria-disabled":h?"true":void 0,"aria-expanded":It?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[b,me].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:vt,onMouseDown:h||I?null:te,onBlur:yt,onFocus:T},F,{ownerState:G,className:Q(F.className,qt.select,c),id:me,children:W1(Ie)?sh||(sh=_.jsx("span",{className:"notranslate",children:"​"})):Ie})),_.jsx(z1,v({"aria-invalid":f,value:Array.isArray(D)?D.join(","):D,name:C,ref:Re,"aria-hidden":!0,onChange:ln,tabIndex:-1,disabled:h,className:qt.nativeInput,autoFocus:o,ownerState:G},$)),_.jsx(V1,{as:p,className:qt.icon,ownerState:G}),_.jsx(KT,v({id:`menu-${C||""}`,anchorEl:ae,open:It,onClose:ue,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x,{MenuListProps:v({"aria-labelledby":b,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:Kr},x.MenuListProps),slotProps:v({},x.slotProps,{paper:v({},qr,{style:v({minWidth:cn},qr!=null?qr.style:null)})}),children:Nt}))]})}),q1=G1,K1=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Y1=["root"],X1=n=>{const{classes:e}=n;return e},Jc={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>gt(n)&&n!=="variant",slot:"Root"},Q1=U(_T,Jc)(""),J1=U(y1,Jc)(""),Z1=U(VI,Jc)(""),Lm=g.forwardRef(function(e,t){const r=Pe({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:i,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=GS,id:d,input:h,inputProps:m,label:f,labelId:p,MenuProps:y,multiple:b=!1,native:x=!1,onClose:E,onOpen:C,open:w,renderValue:S,SelectDisplayProps:k,variant:T="outlined"}=r,A=V(r,K1),O=x?c1:q1,I=Hr(),P=Ks({props:r,muiFormControl:I,states:["variant","error"]}),F=P.variant||T,N=v({},r,{variant:F,classes:o}),M=X1(N),L=V(M,Y1),$=h||{standard:_.jsx(Q1,{ownerState:N}),outlined:_.jsx(J1,{label:f,ownerState:N}),filled:_.jsx(Z1,{ownerState:N})}[F],D=He(t,$.ref);return _.jsx(g.Fragment,{children:g.cloneElement($,v({inputComponent:O,inputProps:v({children:i,error:P.error,IconComponent:u,variant:F,type:void 0,multiple:b},x?{id:d}:{autoWidth:s,defaultOpen:l,displayEmpty:c,labelId:p,MenuProps:y,onClose:E,onOpen:C,open:w,renderValue:S,SelectDisplayProps:v({id:d},k)},m,{classes:m?et(L,m.classes):L},h?h.props.inputProps:{})},(b&&x||c)&&F==="outlined"?{notched:!0}:{},{ref:D,className:Q($.props.className,a,M.root)},!h&&{variant:F},A))})});Lm.muiName="Select";const eR=Lm,tR=z.div`
  width: 400px;
  max-width: 100%;
  padding: 24px;

  max-height: 650px;
  overflow-y: scroll;

  &::-webkit-scrollbar {
    width: 15px;
  }

  &::-webkit-scrollbar-thumb {
    background-color: #fbe9ba;
    border-radius: 15px;
  }
  @media screen and (min-width: 500px) {
    width: 600px;
    padding: 64px;
  }
`,nR=z.h3`
  margin-bottom: 20px;
  color: var(--main-text-color);
  font-size: 40px;
  font-weight: 500;
  line-height: 1.2;
  letter-spacing: -0.8px;
`,rR=z.p`
  margin-bottom: 20px;
  color: rgba(18, 20, 23, 0.8);
  font-size: 16px;
  font-weight: 400;
  line-height: 1.37;
`,sR=z.div`
  display: flex;
  align-items: flex-start;
  gap: 14px;
  margin-bottom: 40px;
`,iR=z.img`
  border-radius: 100px;
`,oR=z.div``,aR=z.p`
  color: var(--color-text-content);
  font-size: 12px;
  font-weight: 500;
  line-height: 1.33;
  margin-bottom: 4px;
`,lR=z.p`
  font-size: 16px;
  font-weight: 500;
  line-height: 1.5;
`,cR=z.p`
  color: var(--main-text-color);
  font-size: 24px;
  font-weight: 500;
  line-height: 1.33;
  margin-bottom: 20px;
`,uR=z.form`
  display: block;
  & .radio_group {
    margin-bottom: 40px;
  }

  & input {
    display: block;
    width: 100%;
    border-radius: 12px;
    border: 1px solid rgba(18, 20, 23, 0.1);
    outline: none;
    padding: 16px 18px;

    color: var(--main-text-color);
    font-size: 16px;
    font-weight: 400;
    line-height: 1.37;
    transition: border var(--transition);

    &::placeholder {
      color: var(--main-text-color);
    }

    &:focus {
      border: 1px solid var(--active-button-background-color);
    }
  }
`,Ha=z.div`
  &:not(:last-child) {
    margin-bottom: 18px;
  }
`,Ga=z.p`
  color: #ff0000c2;
  margin-top: 5px;
  font-size: 16px;
  font-style: normal;
  font-weight: 400;
  line-height: 1.37;
`,dR=z.button`
  cursor: pointer;
  margin-top: 40px;
  width: 100%;
  border-radius: 12px;
  background-color: var(--button-background-color);
  border: none;
  padding: 16px 0;

  color: var(--main-text-color);

  font-family: "Roboto", sans-serif;
  font-size: 18px;
  font-weight: 700;
  line-height: 1.55;
  transition: background-color var(--transition);

  &:hover,
  :focus {
    background-color: var(--active-button-background-color);
  }
`;function ir(n){this._maxSize=n,this.clear()}ir.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ir.prototype.get=function(n){return this._values[n]};ir.prototype.set=function(n,e){return this._size>=this._maxSize&&this.clear(),n in this._values||this._size++,this._values[n]=e};var hR=/[^.^\]^[]+|(?=\[\]|\.\.)/g,$m=/^\d+$/,fR=/^\d/,pR=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,mR=/^\s*(['"]?)(.*?)(\1)\s*$/,Zc=512,oh=new ir(Zc),ah=new ir(Zc),lh=new ir(Zc),qn={Cache:ir,split:Ml,normalizePath:qa,setter:function(n){var e=qa(n);return ah.get(n)||ah.set(n,function(r,s){for(var i=0,o=e.length,a=r;i<o-1;){var l=e[i];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[i++]]}a[e[i]]=s})},getter:function(n,e){var t=qa(n);return lh.get(n)||lh.set(n,function(s){for(var i=0,o=t.length;i<o;)if(s!=null||!e)s=s[t[i++]];else return;return s})},join:function(n){return n.reduce(function(e,t){return e+(eu(t)||$m.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(n,e,t){gR(Array.isArray(n)?n:Ml(n),e,t)}};function qa(n){return oh.get(n)||oh.set(n,Ml(n).map(function(e){return e.replace(mR,"$2")}))}function Ml(n){return n.match(hR)||[""]}function gR(n,e,t){var r=n.length,s,i,o,a;for(i=0;i<r;i++)s=n[i],s&&(yR(s)&&(s='"'+s+'"'),a=eu(s),o=!a&&/^\d+$/.test(s),e.call(t,s,a,o,i,n))}function eu(n){return typeof n=="string"&&n&&["'",'"'].indexOf(n.charAt(0))!==-1}function _R(n){return n.match(fR)&&!n.match($m)}function vR(n){return pR.test(n)}function yR(n){return!eu(n)&&(_R(n)||vR(n))}const bR=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,ia=n=>n.match(bR)||[],oa=n=>n[0].toUpperCase()+n.slice(1),tu=(n,e)=>ia(n).join(e).toLowerCase(),Bm=n=>ia(n).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,""),ER=n=>oa(Bm(n)),CR=n=>tu(n,"_"),xR=n=>tu(n,"-"),wR=n=>oa(tu(n," ")),kR=n=>ia(n).map(oa).join(" ");var Ka={words:ia,upperFirst:oa,camelCase:Bm,pascalCase:ER,snakeCase:CR,kebabCase:xR,sentenceCase:wR,titleCase:kR},nu={exports:{}};nu.exports=function(n){return jm(SR(n),n)};nu.exports.array=jm;function jm(n,e){var t=n.length,r=new Array(t),s={},i=t,o=IR(e),a=TR(n);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||l(n[i],i,new Set);return r;function l(c,u,d){if(d.has(c)){var h;try{h=", node was:"+JSON.stringify(c)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!s[u]){s[u]=!0;var m=o.get(c)||new Set;if(m=Array.from(m),u=m.length){d.add(c);do{var f=m[--u];l(f,a.get(f),d)}while(u);d.delete(c)}r[--t]=c}}}function SR(n){for(var e=new Set,t=0,r=n.length;t<r;t++){var s=n[t];e.add(s[0]),e.add(s[1])}return Array.from(e)}function IR(n){for(var e=new Map,t=0,r=n.length;t<r;t++){var s=n[t];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function TR(n){for(var e=new Map,t=0,r=n.length;t<r;t++)e.set(n[t],t);return e}var RR=nu.exports;const AR=Mh(RR),OR=Object.prototype.toString,PR=Error.prototype.toString,NR=RegExp.prototype.toString,MR=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",FR=/^Symbol\((.*)\)(.*)$/;function DR(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function ch(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return DR(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return MR.call(n).replace(FR,"Symbol($1)");const r=OR.call(n).slice(8,-1);return r==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):r==="Error"||n instanceof Error?"["+PR.call(n)+"]":r==="RegExp"?NR.call(n):null}function xn(n,e){let t=ch(n,e);return t!==null?t:JSON.stringify(n,function(r,s){let i=ch(this[r],e);return i!==null?i:s},2)}function Um(n){return n==null?[]:[].concat(n)}let Vm,zm,Wm,LR=/\$\{\s*(\w+)\s*\}/g;Vm=Symbol.toStringTag;class uh{constructor(e,t,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Vm]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=s,this.errors=[],this.inner=[],Um(e).forEach(i=>{if(ot.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}zm=Symbol.hasInstance;Wm=Symbol.toStringTag;class ot extends Error{static formatError(e,t){const r=t.label||t.path||"this";return r!==t.path&&(t=Object.assign({},t,{path:r})),typeof e=="string"?e.replace(LR,(s,i)=>xn(t[i])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,r,s,i){const o=new uh(e,t,r,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Wm]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ot)}static[zm](e){return uh[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Mt={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:r})=>{const s=r!=null&&r!==t?` (cast from the value \`${xn(r,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${xn(t,!0)}\``+s:`${n} must match the configured type. The validated value was: \`${xn(t,!0)}\``+s}},it={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},$R={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Fl={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},BR={isValue:"${path} field must be ${value}"},Dl={noUnknown:"${path} field has unspecified keys: ${unknown}"},jR={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},UR={notType:n=>{const{path:e,value:t,spec:r}=n,s=r.types.length;if(Array.isArray(t)){if(t.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${t.length} for value: \`${xn(t,!0)}\``;if(t.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${t.length} for value: \`${xn(t,!0)}\``}return ot.formatError(Mt.notType,n)}};Object.assign(Object.create(null),{mixed:Mt,string:it,number:$R,date:Fl,object:Dl,array:jR,boolean:BR,tuple:UR});const ru=n=>n&&n.__isYupSchema__;class Ki{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=t,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Ki(e,(a,l)=>{var c;let u=o(...a)?s:i;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(i=>i.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),s=this.fn(r,e,t);if(s===void 0||s===e)return e;if(!ru(s))throw new TypeError("conditions must return a schema object");return s.resolve(t)}}const oi={context:"$",value:"."};class or{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===oi.context,this.isValue=this.key[0]===oi.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?oi.context:this.isValue?oi.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&qn.getter(this.path,!0),this.map=t.map}getValue(e,t,r){let s=this.isContext?r:this.isValue?e:t;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}or.prototype.__isYupRef=!0;const zn=n=>n==null;function mr(n){function e({value:t,path:r="",options:s,originalValue:i,schema:o},a,l){const{name:c,test:u,params:d,message:h,skipAbsent:m}=n;let{parent:f,context:p,abortEarly:y=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=s;function x(I){return or.isRef(I)?I.getValue(t,f,p):I}function E(I={}){const P=Object.assign({value:t,originalValue:i,label:o.spec.label,path:I.path||r,spec:o.spec,disableStackTrace:I.disableStackTrace||b},d,I.params);for(const N of Object.keys(P))P[N]=x(P[N]);const F=new ot(ot.formatError(I.message||h,P),t,P.path,I.type||c,P.disableStackTrace);return F.params=P,F}const C=y?a:l;let w={path:r,parent:f,type:c,from:s.from,createError:E,resolve:x,options:s,originalValue:i,schema:o};const S=I=>{ot.isError(I)?C(I):I?l(null):C(E())},k=I=>{ot.isError(I)?C(I):a(I)};if(m&&zn(t))return S(!0);let A;try{var O;if(A=u.call(w,t,w),typeof((O=A)==null?void 0:O.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${w.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(A).then(S,k)}}catch(I){k(I);return}S(A)}return e.OPTIONS=n,e}function VR(n,e,t,r=t){let s,i,o;return e?(qn.forEach(e,(a,l,c)=>{let u=l?a.slice(1,a.length-1):a;n=n.resolve({context:r,parent:s,value:t});let d=n.type==="tuple",h=c?parseInt(u,10):0;if(n.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(t&&h>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=t,t=t&&t[h],n=d?n.spec.types[h]:n.innerType}if(!c){if(!n.fields||!n.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${n.type}")`);s=t,t=t&&t[u],n=n.fields[u]}i=u,o=l?"["+a+"]":"."+a}),{schema:n,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:n}}class Yi extends Set{describe(){const e=[];for(const t of this.values())e.push(or.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new Yi(this.values())}merge(e,t){const r=this.clone();return e.forEach(s=>r.add(s)),t.forEach(s=>r.delete(s)),r}}function yr(n,e=new Map){if(ru(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let r=0;r<n.length;r++)t[r]=yr(n[r],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[r,s]of n.entries())t.set(r,yr(s,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const r of n)t.add(yr(r,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[r,s]of Object.entries(n))t[r]=yr(s,e)}else throw Error(`Unable to clone ${n}`);return t}class Vt{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Yi,this._blacklist=new Yi,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Mt.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=yr(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const s=Object.assign({},t.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((s,i)=>i.resolve(s,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,t={}){let r=this.resolve(Object.assign({value:e},t)),s=t.assert==="ignore-optionality",i=r._cast(e,t);if(t.assert!==!1&&!r.isType(i)){if(s&&zn(i))return i;let o=xn(e),a=xn(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,t){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(t)),r}_validate(e,t={},r,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=t,l=e;a||(l=this._cast(l,Object.assign({assert:!1},t)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:i,value:l,originalValue:o,options:t,tests:c},r,u=>{if(u.length)return s(u,l);this.runTests({path:i,value:l,originalValue:o,options:t,tests:this.tests},r,s)})}runTests(e,t,r){let s=!1,{tests:i,value:o,originalValue:a,path:l,options:c}=e,u=p=>{s||(s=!0,t(p,o))},d=p=>{s||(s=!0,r(p,o))},h=i.length,m=[];if(!h)return d([]);let f={value:o,originalValue:a,path:l,options:c,schema:this};for(let p=0;p<i.length;p++){const y=i[p];y(f,u,function(x){x&&(Array.isArray(x)?m.push(...x):m.push(x)),--h<=0&&d(m)})}}asNestedTest({key:e,index:t,parent:r,parentPath:s,originalParent:i,options:o}){const a=e??t;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const u=Object.assign({},o,{strict:!0,parent:r,value:c,originalValue:i[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${s||""}[${l?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(d,h,m)=>this.resolve(u)._validate(c,u,h,m)}validate(e,t){var r;let s=this.resolve(Object.assign({},t,{value:e})),i=(r=t==null?void 0:t.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(e,t,(l,c)=>{ot.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new ot(l,c,void 0,void 0,i)):o(c)}))}validateSync(e,t){var r;let s=this.resolve(Object.assign({},t,{value:e})),i,o=(r=t==null?void 0:t.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},t,{sync:!0}),(a,l)=>{throw ot.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new ot(a,e,void 0,void 0,o);i=l}),i}isValid(e,t){return this.validate(e,t).then(()=>!0,r=>{if(ot.isError(r))return!1;throw r})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(ot.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):yr(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=mr({message:t,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=mr({message:t,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Mt.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Mt.notNull){return this.nullability(!1,e)}required(e=Mt.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Mt.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=mr(t),i=t.exclusive||t.name&&r.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===t.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let r=this.clone(),s=Um(e).map(i=>new or(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof t=="function"?new Ki(s,t):Ki.fromOptions(s,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=mr({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Mt.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=mr({message:t,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(e,t=Mt.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=mr({message:t,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:o}=t.spec;return{meta:s,label:r,optional:i,nullable:o,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,u)=>u.findIndex(d=>d.name===l.name)===c)}}}Vt.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Vt.prototype[`${n}At`]=function(e,t,r={}){const{parent:s,parentPath:i,schema:o}=VR(this,e,t,r.context);return o[n](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const n of["equals","is"])Vt.prototype[n]=Vt.prototype.oneOf;for(const n of["not","nope"])Vt.prototype[n]=Vt.prototype.notOneOf;const zR=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function WR(n){const e=Ll(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Ll(n){var e,t;const r=zR.exec(n);return r?{year:Kt(r[1]),month:Kt(r[2],1)-1,day:Kt(r[3],1),hour:Kt(r[4]),minute:Kt(r[5]),second:Kt(r[6]),millisecond:r[7]?Kt(r[7].substring(0,3)):0,precision:(e=(t=r[7])==null?void 0:t.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Kt(r[10]),minuteOffset:Kt(r[11])}:null}function Kt(n,e=0){return Number(n)||e}let HR=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,GR=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,qR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,KR="^\\d{4}-\\d{2}-\\d{2}",YR="\\d{2}:\\d{2}:\\d{2}",XR="(([+-]\\d{2}(:?\\d{2})?)|Z)",QR=new RegExp(`${KR}T${YR}(\\.\\d+)?${XR}$`),JR=n=>zn(n)||n===n.trim(),ZR={}.toString();function mi(){return new Hm}class Hm extends Vt{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===ZR?e:s})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Mt.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=it.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t=it.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t=it.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,t){let r=!1,s,i;return t&&(typeof t=="object"?{excludeEmptyString:r=!1,message:s,name:i}=t:s=t),this.test({name:i||"matches",message:s||it.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=it.email){return this.matches(HR,{name:"email",message:e,excludeEmptyString:!0})}url(e=it.url){return this.matches(GR,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=it.uuid){return this.matches(qR,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",r,s;return e&&(typeof e=="object"?{message:t="",allowOffset:r=!1,precision:s=void 0}=e:t=e),this.matches(QR,{name:"datetime",message:t||it.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||it.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const o=Ll(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:t||it.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=Ll(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=it.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:JR})}lowercase(e=it.lowercase){return this.transform(t=>zn(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>zn(t)||t===t.toLowerCase()})}uppercase(e=it.uppercase){return this.transform(t=>zn(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>zn(t)||t===t.toUpperCase()})}}mi.prototype=Hm.prototype;let eA=new Date(""),tA=n=>Object.prototype.toString.call(n)==="[object Date]";class aa extends Vt{constructor(){super({type:"date",check(e){return tA(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=WR(e),isNaN(e)?aa.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(or.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,t=Fl.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,t=Fl.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}aa.INVALID_DATE=eA;aa.prototype;function nA(n,e=[]){let t=[],r=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let l=qn.split(o)[0];r.add(l),s.has(`${a}-${l}`)||t.push([a,l])}for(const o of Object.keys(n)){let a=n[o];r.add(o),or.isRef(a)&&a.isSibling?i(a.path,o):ru(a)&&"deps"in a&&a.deps.forEach(l=>i(l,o))}return AR.array(Array.from(r),t).reverse()}function dh(n,e){let t=1/0;return n.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return t=s,!0}),t}function Gm(n){return(e,t)=>dh(n,e)-dh(n,t)}const rA=(n,e,t)=>{if(typeof n!="string")return n;let r=n;try{r=JSON.parse(n)}catch{}return t.isType(r)?r:n};function gi(n){if("fields"in n){const e={};for(const[t,r]of Object.entries(n.fields))e[t]=gi(r);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=gi(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(gi)}):"optional"in n?n.optional():n}const sA=(n,e)=>{const t=[...qn.normalizePath(e)];if(t.length===1)return t[0]in n;let r=t.pop(),s=qn.getter(qn.join(t),!0)(n);return!!(s&&r in s)};let hh=n=>Object.prototype.toString.call(n)==="[object Object]";function iA(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(r=>t.indexOf(r)===-1)}const oA=Gm([]);function qm(n){return new Km(n)}class Km extends Vt{constructor(e){super({type:"object",check(t){return hh(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=oA,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var r;let s=super._cast(e,t);if(s===void 0)return this.getDefault(t);if(!this._typeCheck(s))return s;let i=this.fields,o=(r=t.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(d=>!this._nodes.includes(d))),l={},c=Object.assign({},t,{parent:l,__validating:t.__validating||!1}),u=!1;for(const d of a){let h=i[d],m=d in s;if(h){let f,p=s[d];c.path=(t.path?`${t.path}.`:"")+d,h=h.resolve({value:p,context:t.context,parent:l});let y=h instanceof Vt?h.spec:void 0,b=y==null?void 0:y.strict;if(y!=null&&y.strip){u=u||d in s;continue}f=!t.__validating||!b?h.cast(s[d],c):s[d],f!==void 0&&(l[d]=f)}else m&&!o&&(l[d]=s[d]);(m!==d in l||l[d]!==s[d])&&(u=!0)}return u?l:s}_validate(e,t={},r,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=t;t.from=[{schema:this,value:o},...i],t.__validating=!0,t.originalValue=o,super._validate(e,t,r,(l,c)=>{if(!a||!hh(c)){s(l,c);return}o=o||c;let u=[];for(let d of this._nodes){let h=this.fields[d];!h||or.isRef(h)||u.push(h.asNestedTest({options:t,key:d,parent:c,parentPath:t.path,originalParent:o}))}this.runTests({tests:u,value:c,originalValue:o,options:t},r,d=>{s(d.sort(this._sortErrors).concat(l),c)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[s,i]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?i:o}return t.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),t[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=nA(e,t),r._sortErrors=Gm(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e,t=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),s=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return gi(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let s=qn.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return sA(i,e)&&(o=Object.assign({},i),r||delete o[e],o[t]=s(i)),o})}json(){return this.transform(rA)}noUnknown(e=!0,t=Dl.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(s){if(s==null)return!0;const i=iA(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=Dl.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const s of Object.keys(t))r[e(s)]=t[s];return r})}camelCase(){return this.transformKeys(Ka.camelCase)}snakeCase(){return this.transformKeys(Ka.snakeCase)}constantCase(){return this.transformKeys(e=>Ka.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,o]of Object.entries(t.fields)){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),r.fields[i]=o.describe(a)}return r}}qm.prototype=Km.prototype;const aA=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/;function wn(n){return typeof n=="string"||n instanceof String}function fh(n){var e;return typeof n=="object"&&n!=null&&(n==null||(e=n.constructor)==null?void 0:e.name)==="Object"}function Ym(n,e){return Array.isArray(e)?Ym(n,(t,r)=>e.includes(r)):Object.entries(n).reduce((t,r)=>{let[s,i]=r;return e(i,s)&&(t[s]=i),t},{})}const j={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function lA(n){switch(n){case j.LEFT:return j.FORCE_LEFT;case j.RIGHT:return j.FORCE_RIGHT;default:return n}}function Ya(n){return n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function Xi(n,e){if(e===n)return!0;const t=Array.isArray(e),r=Array.isArray(n);let s;if(t&&r){if(e.length!=n.length)return!1;for(s=0;s<e.length;s++)if(!Xi(e[s],n[s]))return!1;return!0}if(t!=r)return!1;if(e&&n&&typeof e=="object"&&typeof n=="object"){const i=e instanceof Date,o=n instanceof Date;if(i&&o)return e.getTime()==n.getTime();if(i!=o)return!1;const a=e instanceof RegExp,l=n instanceof RegExp;if(a&&l)return e.toString()==n.toString();if(a!=l)return!1;const c=Object.keys(e);for(s=0;s<c.length;s++)if(!Object.prototype.hasOwnProperty.call(n,c[s]))return!1;for(s=0;s<c.length;s++)if(!Xi(n[c[s]],e[c[s]]))return!1;return!0}else if(e&&n&&typeof e=="function"&&typeof n=="function")return e.toString()===n.toString();return!1}class cA{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?j.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?j.RIGHT:j.LEFT}}function q(n,e){return new q.InputMask(n,e)}function Xm(n){if(n==null)throw new Error("mask property should be defined");return n instanceof RegExp?q.MaskedRegExp:wn(n)?q.MaskedPattern:n===Date?q.MaskedDate:n===Number?q.MaskedNumber:Array.isArray(n)||n===Array?q.MaskedDynamic:q.Masked&&n.prototype instanceof q.Masked?n:q.Masked&&n instanceof q.Masked?n.constructor:n instanceof Function?q.MaskedFunction:(console.warn("Mask not found for mask",n),q.Masked)}function Os(n){if(!n)throw new Error("Options in not defined");if(q.Masked){if(n.prototype instanceof q.Masked)return{mask:n};const{mask:e=void 0,...t}=n instanceof q.Masked?{mask:n}:fh(n)&&n.mask instanceof q.Masked?n:{};if(e){const r=e.mask;return{...Ym(e,(s,i)=>!i.startsWith("_")),mask:e.constructor,_mask:r,...t}}}return fh(n)?{...n}:{mask:n}}function rn(n){if(q.Masked&&n instanceof q.Masked)return n;const e=Os(n),t=Xm(e.mask);if(!t)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===t&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new t(e)}q.createMask=rn;class su{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return e??this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return e??this.value.length}select(e,t){if(!(e==null||t==null||e===this.selectionStart&&t===this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}get isActive(){return!1}}q.MaskElement=su;const ph=90,uA=89;class la extends su{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,t,r;return(e=(t=(r=this.input).getRootNode)==null?void 0:t.call(r))!=null?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){if(this._handlers.redo&&(e.keyCode===ph&&e.shiftKey&&(e.metaKey||e.ctrlKey)||e.keyCode===uA&&e.ctrlKey))return e.preventDefault(),this._handlers.redo(e);if(this._handlers.undo&&e.keyCode===ph&&(e.metaKey||e.ctrlKey))return e.preventDefault(),this._handlers.undo(e);e.isComposing||this._handlers.selectionChange(e)}_onBeforeinput(e){if(e.inputType==="historyUndo"&&this._handlers.undo)return e.preventDefault(),this._handlers.undo(e);if(e.inputType==="historyRedo"&&this._handlers.redo)return e.preventDefault(),this._handlers.redo(e)}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}q.HTMLMaskElement=la;class dA extends la{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}}q.HTMLMaskElement=la;class Qm extends la{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),r=t&&t.anchorOffset,s=t&&t.focusOffset;return s==null||r==null||r<s?r:s}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),r=t&&t.anchorOffset,s=t&&t.focusOffset;return s==null||r==null||r>s?r:s}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const r=this.rootElement.createRange();r.setStart(this.input.firstChild||this.input,e),r.setEnd(this.input.lastChild||this.input,t);const s=this.rootElement,i=s.getSelection&&s.getSelection();i&&(i.removeAllRanges(),i.addRange(r))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}q.HTMLContenteditableMaskElement=Qm;class ca{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>ca.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}ca.MAX_LENGTH=100;class hA{constructor(e,t){this.el=e instanceof su?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new Qm(e):new dA(e),this.masked=rn(t),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new ca,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this._onChange()}maskEquals(e){var t;return e==null||((t=this.masked)==null?void 0:t.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof q.Masked)&&this.masked.constructor===Xm(e)){this.masked.updateOptions({mask:e});return}const t=e instanceof q.Masked?e:rn({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,t){const r=this._listeners[e];r&&r.forEach(s=>s(t))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){!this.el||!this.el.isActive||(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(e){const t=this.masked.unmaskedValue,r=this.masked.value,s=this.masked.rawInputValue,i=this.displayValue,o=this.unmaskedValue!==t||this.value!==r||this._rawInputValue!==s;this._unmaskedValue=t,this._value=r,this._rawInputValue=s,this.el.value!==i&&(this.el.value=i),e==="auto"?this.alignCursor():e!=null&&(this.cursorPos=e),o&&this._fireChangeEvents(),!this._historyChanging&&(o||this.history.isEmpty)&&this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:t,...r}=e,s=!this.maskEquals(t),i=this.masked.optionsIsChanged(r);s&&(this.mask=t),i&&this.masked.updateOptions(r),(s||i)&&this.updateControl()}updateCursor(e){e!=null&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,j.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const r=this._listeners[e].indexOf(t);return r>=0&&this._listeners[e].splice(r,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const t=new cA({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),r=this.masked.rawInputValue,s=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,i=r===this.masked.rawInputValue?t.removeDirection:j.NONE;let o=this.masked.nearestInputPos(t.startChangePos+s,i);i!==j.NONE&&(o=this.masked.nearestInputPos(o,j.NONE)),this.updateControl(o),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}q.InputMask=hA;class X{static normalize(e){return Array.isArray(e)?e:[e,new X]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}q.ChangeDetails=X;class Lt{constructor(e,t,r){e===void 0&&(e=""),t===void 0&&(t=0),this.value=e,this.from=t,this.stop=r}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||e!=null&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class Ye{constructor(e){this._value="",this._update({...Ye.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,t){t===void 0&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}extractInput(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this.displayValue.slice(e,t)}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new Lt(this.extractInput(e,t),e)}appendTail(e){return wn(e)&&(e=new Lt(String(e))),e.appendTo(this)}_appendCharRaw(e,t){return e?(this._value+=e,new X({inserted:e,rawInserted:e})):new X}_appendChar(e,t,r){t===void 0&&(t={});const s=this.state;let i;if([e,i]=this.doPrepareChar(e,t),e&&(i=i.aggregate(this._appendCharRaw(e,t)),!i.rawInserted&&this.autofix==="pad")){const o=this.state;this.state=s;let a=this.pad(t);const l=this._appendCharRaw(e,t);a=a.aggregate(l),l.rawInserted||a.equals(i)?i=a:this.state=o}if(i.inserted){let o,a=this.doValidate(t)!==!1;if(a&&r!=null){const l=this.state;if(this.overwrite===!0){o=r.state;for(let u=0;u<i.rawInserted.length;++u)r.unshift(this.displayValue.length-i.tailShift)}let c=this.appendTail(r);if(a=c.rawInserted.length===r.toString().length,!(a&&c.inserted)&&this.overwrite==="shift"){this.state=l,o=r.state;for(let u=0;u<i.rawInserted.length;++u)r.shift();c=this.appendTail(r),a=c.rawInserted.length===r.toString().length}a&&c.inserted&&(this.state=l)}a||(i=new X,this.state=s,r&&o&&(r.state=o))}return i}_appendPlaceholder(){return new X}_appendEager(){return new X}append(e,t,r){if(!wn(e))throw new Error("value should be string");const s=wn(r)?new Lt(String(r)):r;t!=null&&t.tail&&(t._beforeTailState=this.state);let i;[e,i]=this.doPrepare(e,t);for(let o=0;o<e.length;++o){const a=this._appendChar(e[o],t,s);if(!a.rawInserted&&!this.doSkipInvalid(e[o],t,s))break;i.aggregate(a)}return(this.eager===!0||this.eager==="append")&&t!=null&&t.input&&e&&i.aggregate(this._appendEager()),s!=null&&(i.tailShift+=this.appendTail(s).tailShift),i}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new X}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const t=this.rawInputValue,r=this.value,s=e();return this.rawInputValue=t,this.value&&this.value!==r&&r.indexOf(this.value)===0&&(this.append(r.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,s}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const t=this.state,r=e(this);return this.state=t,delete this._isolated,r}doSkipInvalid(e,t,r){return!!this.skipInvalid}doPrepare(e,t){return t===void 0&&(t={}),X.normalize(this.prepare?this.prepare(e,this,t):e)}doPrepareChar(e,t){return t===void 0&&(t={}),X.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,t,r,s,i){r===void 0&&(r=""),s===void 0&&(s=j.NONE),i===void 0&&(i={input:!0});const o=e+t,a=this.extractTail(o),l=this.eager===!0||this.eager==="remove";let c;l&&(s=lA(s),c=this.extractInput(0,o,{raw:!0}));let u=e;const d=new X;if(s!==j.NONE&&(u=this.nearestInputPos(e,t>1&&e!==0&&!l?j.NONE:s),d.tailShift=u-e),d.aggregate(this.remove(u)),l&&s!==j.NONE&&c===this.rawInputValue)if(s===j.FORCE_LEFT){let h;for(;c===this.rawInputValue&&(h=this.displayValue.length);)d.aggregate(new X({tailShift:-1})).aggregate(this.remove(h-1))}else s===j.FORCE_RIGHT&&a.unshift();return d.aggregate(this.append(r,i,a))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!Xi(this,e)}typedValueEquals(e){const t=this.typedValue;return e===t||Ye.EMPTY_VALUES.includes(e)&&Ye.EMPTY_VALUES.includes(t)||(this.format?this.format(e,this)===this.format(this.typedValue,this):!1)}pad(e){return new X}}Ye.DEFAULTS={skipInvalid:!0};Ye.EMPTY_VALUES=[void 0,null,""];q.Masked=Ye;class Wn{constructor(e,t){e===void 0&&(e=[]),t===void 0&&(t=0),this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=wn(e)?new Lt(String(e)):e;const t=this.chunks[this.chunks.length-1],r=t&&(t.stop===e.stop||e.stop==null)&&e.from===t.from+t.toString().length;if(e instanceof Lt)r?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof Wn){if(e.stop==null){let s;for(;e.chunks.length&&e.chunks[0].stop==null;)s=e.chunks.shift(),s.from+=e.from,this.extend(s)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof q.MaskedPattern))return new Lt(this.toString()).appendTo(e);const t=new X;for(let r=0;r<this.chunks.length;++r){const s=this.chunks[r],i=e._mapPosToBlock(e.displayValue.length),o=s.stop;let a;if(o!=null&&(!i||i.index<=o)&&((s instanceof Wn||e._stops.indexOf(o)>=0)&&t.aggregate(e._appendPlaceholder(o)),a=s instanceof Wn&&e._blocks[o]),a){const l=a.appendTail(s);t.aggregate(l);const c=s.toString().slice(l.rawInserted.length);c&&t.aggregate(e.append(c,{tail:!0}))}else t.aggregate(e.append(s.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t,...r}=e;Object.assign(this,r),this.chunks=t.map(s=>{const i="chunks"in s?new Wn:new Lt;return i.state=s,i})}unshift(e){if(!this.chunks.length||e!=null&&this.from>=e)return"";const t=e!=null?e-this.from:e;let r=0;for(;r<this.chunks.length;){const s=this.chunks[r],i=s.unshift(t);if(s.toString()){if(!i)break;++r}else this.chunks.splice(r,1);if(i)return i}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],r=t.shift();if(t.toString()){if(!r)break;--e}else this.chunks.splice(e,1);if(r)return r}return""}}class fA{constructor(e,t){this.masked=e,this._log=[];const{offset:r,index:s}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=r,this.index=s,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((t=this.block)==null?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,j.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,j.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,j.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,j.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,j.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,j.NONE),!0})}}class Jm{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new X}nearestInputPos(e,t){t===void 0&&(t=j.NONE);const r=0,s=this._value.length;switch(t){case j.LEFT:case j.FORCE_LEFT:return r;case j.NONE:case j.RIGHT:case j.FORCE_RIGHT:default:return s}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._isRawInput?t-e:0}extractInput(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),r===void 0&&(r={}),r.raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new X;const r=this.eager===!0||this.eager==="append",i=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!r)&&!t.tail,o=new X({inserted:this.char,rawInserted:i?this.char:""});return this._value=this.char,this._isRawInput=i&&(t.raw||t.input),o}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new X;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new Lt("")}appendTail(e){return wn(e)&&(e=new Lt(String(e))),e.appendTo(this)}append(e,t,r){const s=this._appendChar(e[0],t);return r!=null&&(s.tailShift+=this.appendTail(r).tailShift),s}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=!!e._rawInputValue}pad(e){return this._appendPlaceholder()}}class Qi{constructor(e){const{parent:t,isOptional:r,placeholderChar:s,displayChar:i,lazy:o,eager:a,...l}=e;this.masked=rn(l),Object.assign(this,{parent:t,isOptional:r,placeholderChar:s,displayChar:i,lazy:o,eager:a})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),e===0&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new X}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new X;const r=this.masked.state;let s=this.masked._appendChar(e,this.currentMaskFlags(t));return s.inserted&&this.doValidate(t)===!1&&(s=new X,this.masked.state=r),!s.inserted&&!this.isOptional&&!this.lazy&&!t.input&&(s.inserted=this.placeholderChar),s.skip=!s.inserted&&!this.isOptional,this.isFilled=!!s.inserted,s}append(e,t,r){return this.masked.append(e,this.currentMaskFlags(t),r)}_appendPlaceholder(){return this.isFilled||this.isOptional?new X:(this.isFilled=!0,new X({inserted:this.placeholderChar}))}_appendEager(){return new X}extractTail(e,t){return this.masked.extractTail(e,t)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.masked.extractInput(e,t,r)}nearestInputPos(e,t){t===void 0&&(t=j.NONE);const r=0,s=this.value.length,i=Math.min(Math.max(e,r),s);switch(t){case j.LEFT:case j.FORCE_LEFT:return this.isComplete?i:r;case j.RIGHT:case j.FORCE_RIGHT:return this.isComplete?i:s;case j.NONE:default:return i}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.value.slice(e,t).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var t;return{...e,_beforeTailState:(e==null||(t=e._beforeTailState)==null?void 0:t.masked)||(e==null?void 0:e._beforeTailState)}}pad(e){return new X}}Qi.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class pA extends Ye{updateOptions(e){super.updateOptions(e)}_update(e){const t=e.mask;t&&(e.validate=r=>r.search(t)>=0),super._update(e)}}q.MaskedRegExp=pA;class Xe extends Ye{constructor(e){super({...Xe.DEFAULTS,...e,definitions:Object.assign({},Qi.DEFAULT_DEFINITIONS,e==null?void 0:e.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const t=this.mask;if(!t||!e)return;let r=!1,s=!1;for(let i=0;i<t.length;++i){if(this.blocks){const c=t.slice(i),u=Object.keys(this.blocks).filter(h=>c.indexOf(h)===0);u.sort((h,m)=>m.length-h.length);const d=u[0];if(d){const{expose:h,repeat:m,...f}=Os(this.blocks[d]),p={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...f,repeat:m,parent:this},y=m!=null?new q.RepeatBlock(p):rn(p);y&&(this._blocks.push(y),h&&(this.exposeBlock=y),this._maskedBlocks[d]||(this._maskedBlocks[d]=[]),this._maskedBlocks[d].push(this._blocks.length-1)),i+=d.length-1;continue}}let o=t[i],a=o in e;if(o===Xe.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(o==="{"||o==="}"){r=!r;continue}if(o==="["||o==="]"){s=!s;continue}if(o===Xe.ESCAPE_CHAR){if(++i,o=t[i],!o)break;a=!1}const l=a?new Qi({isOptional:s,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...Os(e[o]),parent:this}):new Jm({char:o,eager:this.eager,isUnmasking:r});this._blocks.push(l)}}get state(){return{...super.state,_blocks:this._blocks.map(e=>e.state)}}set state(e){if(!e){this.reset();return}const{_blocks:t,...r}=e;this._blocks.forEach((s,i)=>s.state=t[i]),super.state=r}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((e,t)=>e+=t.unmaskedValue,"")}set unmaskedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(t),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((e,t)=>e+=t.value,"")}set value(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(t),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(t),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce((e,t)=>e+=t.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new X;let r=(e=this._mapPosToBlock(this.displayValue.length))==null?void 0:e.index;if(r==null)return t;this._blocks[r].isFilled&&++r;for(let s=r;s<this._blocks.length;++s){const i=this._blocks[s]._appendEager();if(!i.inserted)break;t.aggregate(i)}return t}_appendCharRaw(e,t){t===void 0&&(t={});const r=this._mapPosToBlock(this.displayValue.length),s=new X;if(!r)return s;for(let o=r.index,a;a=this._blocks[o];++o){var i;const l=a._appendChar(e,{...t,_beforeTailState:(i=t._beforeTailState)==null||(i=i._blocks)==null?void 0:i[o]});if(s.aggregate(l),l.consumed)break}return s}extractTail(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const r=new Wn;return e===t||this._forEachBlocksInRange(e,t,(s,i,o,a)=>{const l=s.extractTail(o,a);l.stop=this._findStopBefore(i),l.from=this._blockStartPos(i),l instanceof Wn&&(l.blockIndex=i),r.extend(l)}),r}extractInput(e,t,r){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),r===void 0&&(r={}),e===t)return"";let s="";return this._forEachBlocksInRange(e,t,(i,o,a,l)=>{s+=i.extractInput(a,l,r)}),s}_findStopBefore(e){let t;for(let r=0;r<this._stops.length;++r){const s=this._stops[r];if(s<=e)t=s;else break}return t}_appendPlaceholder(e){const t=new X;if(this.lazy&&e==null)return t;const r=this._mapPosToBlock(this.displayValue.length);if(!r)return t;const s=r.index,i=e??this._blocks.length;return this._blocks.slice(s,i).forEach(o=>{if(!o.lazy||e!=null){var a;t.aggregate(o._appendPlaceholder((a=o._blocks)==null?void 0:a.length))}}),t}_mapPosToBlock(e){let t="";for(let r=0;r<this._blocks.length;++r){const s=this._blocks[r],i=t.length;if(t+=s.displayValue,e<=t.length)return{index:r,offset:e-i}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((t,r)=>t+=r.displayValue.length,0)}_forEachBlocksInRange(e,t,r){t===void 0&&(t=this.displayValue.length);const s=this._mapPosToBlock(e);if(s){const i=this._mapPosToBlock(t),o=i&&s.index===i.index,a=s.offset,l=i&&o?i.offset:this._blocks[s.index].displayValue.length;if(r(this._blocks[s.index],s.index,a,l),i&&!o){for(let c=s.index+1;c<i.index;++c)r(this._blocks[c],c,0,this._blocks[c].displayValue.length);r(this._blocks[i.index],i.index,0,i.offset)}}}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const r=super.remove(e,t);return this._forEachBlocksInRange(e,t,(s,i,o,a)=>{r.aggregate(s.remove(o,a))}),r}nearestInputPos(e,t){if(t===void 0&&(t=j.NONE),!this._blocks.length)return 0;const r=new fA(this,e);if(t===j.NONE)return r.pushRightBeforeInput()||(r.popState(),r.pushLeftBeforeInput())?r.pos:this.displayValue.length;if(t===j.LEFT||t===j.FORCE_LEFT){if(t===j.LEFT){if(r.pushRightBeforeFilled(),r.ok&&r.pos===e)return e;r.popState()}if(r.pushLeftBeforeInput(),r.pushLeftBeforeRequired(),r.pushLeftBeforeFilled(),t===j.LEFT){if(r.pushRightBeforeInput(),r.pushRightBeforeRequired(),r.ok&&r.pos<=e||(r.popState(),r.ok&&r.pos<=e))return r.pos;r.popState()}return r.ok?r.pos:t===j.FORCE_LEFT?0:(r.popState(),r.ok||(r.popState(),r.ok)?r.pos:0)}return t===j.RIGHT||t===j.FORCE_RIGHT?(r.pushRightBeforeInput(),r.pushRightBeforeRequired(),r.pushRightBeforeFilled()?r.pos:t===j.FORCE_RIGHT?this.displayValue.length:(r.popState(),r.ok||(r.popState(),r.ok)?r.pos:this.nearestInputPos(e,j.LEFT))):e}totalInputPositions(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);let r=0;return this._forEachBlocksInRange(e,t,(s,i,o,a)=>{r+=s.totalInputPositions(o,a)}),r}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map(r=>this._blocks[r]):[]}pad(e){const t=new X;return this._forEachBlocksInRange(0,this.displayValue.length,r=>t.aggregate(r.pad(e))),t}}Xe.DEFAULTS={...Ye.DEFAULTS,lazy:!0,placeholderChar:"_"};Xe.STOP_CHAR="`";Xe.ESCAPE_CHAR="\\";Xe.InputDefinition=Qi;Xe.FixedDefinition=Jm;q.MaskedPattern=Xe;class _i extends Xe{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:t=this.to||0,from:r=this.from||0,maxLength:s=this.maxLength||0,autofix:i=this.autofix,...o}=e;this.to=t,this.from=r,this.maxLength=Math.max(String(t).length,s),this.autofix=i;const a=String(this.from).padStart(this.maxLength,"0"),l=String(this.to).padStart(this.maxLength,"0");let c=0;for(;c<l.length&&l[c]===a[c];)++c;o.mask=l.slice(0,c).replace(/0/g,"\\0")+"0".repeat(this.maxLength-c),super._update(o)}get isComplete(){return super.isComplete&&!!this.value}boundaries(e){let t="",r="";const[,s,i]=e.match(/^(\D*)(\d*)(\D*)/)||[];return i&&(t="0".repeat(s.length)+i,r="9".repeat(s.length)+i),t=t.padEnd(this.maxLength,"0"),r=r.padEnd(this.maxLength,"9"),[t,r]}doPrepareChar(e,t){t===void 0&&(t={});let r;return[e,r]=super.doPrepareChar(e.replace(/\D/g,""),t),e||(r.skip=!this.isComplete),[e,r]}_appendCharRaw(e,t){if(t===void 0&&(t={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,t);const r=String(this.from).padStart(this.maxLength,"0"),s=String(this.to).padStart(this.maxLength,"0"),[i,o]=this.boundaries(this.value+e);return Number(o)<this.from?super._appendCharRaw(r[this.value.length],t):Number(i)>this.to?!t.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(r[this.value.length],t).aggregate(this._appendCharRaw(e,t)):super._appendCharRaw(s[this.value.length],t):super._appendCharRaw(e,t)}doValidate(e){const t=this.value;if(t.search(/[^0]/)===-1&&t.length<=this._matchFrom)return!0;const[s,i]=this.boundaries(t);return this.from<=Number(i)&&Number(s)<=this.to&&super.doValidate(e)}pad(e){const t=new X;if(this.value.length===this.maxLength)return t;const r=this.value,s=this.maxLength-this.value.length;if(s){this.reset();for(let i=0;i<s;++i)t.aggregate(super._appendCharRaw("0",e));r.split("").forEach(i=>this._appendCharRaw(i))}return t}}q.MaskedRange=_i;class Xt extends Xe{static extractPatternOptions(e){const{mask:t,pattern:r,...s}=e;return{...s,mask:wn(t)?t:r}}constructor(e){super(Xt.extractPatternOptions({...Xt.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:t,pattern:r,blocks:s,...i}={...Xt.DEFAULTS,...e},o=Object.assign({},Xt.GET_DEFAULT_BLOCKS());e.min&&(o.Y.from=e.min.getFullYear()),e.max&&(o.Y.to=e.max.getFullYear()),e.min&&e.max&&o.Y.from===o.Y.to&&(o.m.from=e.min.getMonth()+1,o.m.to=e.max.getMonth()+1,o.m.from===o.m.to&&(o.d.from=e.min.getDate(),o.d.to=e.max.getDate())),Object.assign(o,this.blocks,s),super._update({...i,mask:wn(t)?t:r,blocks:o})}doValidate(e){const t=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&t!=null&&(this.min==null||this.min<=t)&&(this.max==null||t<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(Xt.extractPatternOptions(e))}}Xt.GET_DEFAULT_BLOCKS=()=>({d:{mask:_i,from:1,to:31,maxLength:2},m:{mask:_i,from:1,to:12,maxLength:2},Y:{mask:_i,from:1900,to:9999}});Xt.DEFAULTS={...Xe.DEFAULTS,mask:Date,pattern:"d{.}`m{.}`Y",format:(n,e)=>{if(!n)return"";const t=String(n.getDate()).padStart(2,"0"),r=String(n.getMonth()+1).padStart(2,"0"),s=n.getFullYear();return[t,r,s].join(".")},parse:(n,e)=>{const[t,r,s]=n.split(".").map(Number);return new Date(s,r-1,t)}};q.MaskedDate=Xt;class ua extends Ye{constructor(e){super({...ua.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map(t=>{const{expose:r,...s}=Os(t),i=rn({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...s});return r&&(this.exposeMask=i),i}):[])}_appendCharRaw(e,t){t===void 0&&(t={});const r=this._applyDispatch(e,t);return this.currentMask&&r.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),r}_applyDispatch(e,t,r){e===void 0&&(e=""),t===void 0&&(t={}),r===void 0&&(r="");const s=t.tail&&t._beforeTailState!=null?t._beforeTailState._value:this.value,i=this.rawInputValue,o=t.tail&&t._beforeTailState!=null?t._beforeTailState._rawInputValue:i,a=i.slice(o.length),l=this.currentMask,c=new X,u=l==null?void 0:l.state;return this.currentMask=this.doDispatch(e,{...t},r),this.currentMask&&(this.currentMask!==l?(this.currentMask.reset(),o&&(this.currentMask.append(o,{raw:!0}),c.tailShift=this.currentMask.value.length-s.length),a&&(c.tailShift+=this.currentMask.append(a,{raw:!0,tail:!0}).tailShift)):u&&(this.currentMask.state=u)),c}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new X;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,r;return{...e,_beforeTailState:((t=e._beforeTailState)==null?void 0:t.currentMaskRef)===this.currentMask&&((r=e._beforeTailState)==null?void 0:r.currentMask)||e._beforeTailState}}doDispatch(e,t,r){return t===void 0&&(t={}),r===void 0&&(r=""),this.dispatch(e,this,t,r)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,t){t===void 0&&(t={});let[r,s]=super.doPrepare(e,t);if(this.currentMask){let i;[r,i]=super.doPrepare(r,this.currentMaskFlags(t)),s=s.aggregate(i)}return[r,s]}doPrepareChar(e,t){t===void 0&&(t={});let[r,s]=super.doPrepareChar(e,t);if(this.currentMask){let i;[r,i]=super.doPrepareChar(r,this.currentMaskFlags(t)),s=s.aggregate(i)}return[r,s]}reset(){var e;(e=this.currentMask)==null||e.reset(),this.compiledMasks.forEach(t=>t.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask){this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,this._applyDispatch();return}let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return!!((e=this.currentMask)!=null&&e.isComplete)}get isFilled(){var e;return!!((e=this.currentMask)!=null&&e.isFilled)}remove(e,t){const r=new X;return this.currentMask&&r.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),r}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(t=>t.state),currentMaskRef:this.currentMask,currentMask:(e=this.currentMask)==null?void 0:e.state}}set state(e){const{compiledMasks:t,currentMaskRef:r,currentMask:s,...i}=e;t&&this.compiledMasks.forEach((o,a)=>o.state=t[a]),r!=null&&(this.currentMask=r,this.currentMask.state=s),super.state=i}extractInput(e,t,r){return this.currentMask?this.currentMask.extractInput(e,t,r):""}extractTail(e,t){return this.currentMask?this.currentMask.extractTail(e,t):super.extractTail(e,t)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,t){return this.currentMask?this.currentMask.nearestInputPos(e,t):super.nearestInputPos(e,t)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every((t,r)=>{if(!e[r])return;const{mask:s,...i}=e[r];return Xi(t,i)&&t.maskEquals(s)}):super.maskEquals(e)}typedValueEquals(e){var t;return!!((t=this.currentMask)!=null&&t.typedValueEquals(e))}}ua.DEFAULTS={...Ye.DEFAULTS,dispatch:(n,e,t,r)=>{if(!e.compiledMasks.length)return;const s=e.rawInputValue,i=e.compiledMasks.map((o,a)=>{const l=e.currentMask===o,c=l?o.displayValue.length:o.nearestInputPos(o.displayValue.length,j.FORCE_LEFT);return o.rawInputValue!==s?(o.reset(),o.append(s,{raw:!0})):l||o.remove(c),o.append(n,e.currentMaskFlags(t)),o.appendTail(r),{index:a,weight:o.rawInputValue.length,totalInputPositions:o.totalInputPositions(0,Math.max(c,o.nearestInputPos(o.displayValue.length,j.FORCE_LEFT)))}});return i.sort((o,a)=>a.weight-o.weight||a.totalInputPositions-o.totalInputPositions),e.compiledMasks[i[0].index]}};q.MaskedDynamic=ua;class da extends Xe{constructor(e){super({...da.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:t,...r}=e;if(t){const s=t.map(a=>a.length),i=Math.min(...s),o=Math.max(...s)-i;r.mask="*".repeat(i),o&&(r.mask+="["+"*".repeat(o)+"]"),this.enum=t}super._update(r)}_appendCharRaw(e,t){t===void 0&&(t={});const r=Math.min(this.nearestInputPos(0,j.FORCE_RIGHT),this.value.length),s=this.enum.filter(i=>this.matchValue(i,this.unmaskedValue+e,r));if(s.length){s.length===1&&this._forEachBlocksInRange(0,this.value.length,(o,a)=>{const l=s[0][a];a>=this.value.length||l===o.value||(o.reset(),o._appendChar(l,t))});const i=super._appendCharRaw(s[0][this.value.length],t);return s.length===1&&s[0].slice(this.unmaskedValue.length).split("").forEach(o=>i.aggregate(super._appendCharRaw(o))),i}return new X({skip:!this.isComplete})}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new Lt("",e)}remove(e,t){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),e===t)return new X;const r=Math.min(super.nearestInputPos(0,j.FORCE_RIGHT),this.value.length);let s;for(s=e;s>=0&&!(this.enum.filter(a=>this.matchValue(a,this.value.slice(r,s),r)).length>1);--s);const i=super.remove(s,t);return i.tailShift+=s-e,i}get isComplete(){return this.enum.indexOf(this.value)>=0}}da.DEFAULTS={...Xe.DEFAULTS,matchValue:(n,e,t)=>n.indexOf(e,t)===t};q.MaskedEnum=da;class mA extends Ye{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}}q.MaskedFunction=mA;var Zm;class dt extends Ye{constructor(e){super({...dt.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),t="\\d*",r=(this.scale?"("+Ya(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+t+r),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Ya).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Ya(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepareChar(e,t){t===void 0&&(t={});const[r,s]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),t);return e&&!r&&(s.skip=!0),r&&!this.allowPositive&&!this.value&&r!=="-"&&s.aggregate(this._appendChar("-")),[r,s]}_separatorsCount(e,t){t===void 0&&(t=!1);let r=0;for(let s=0;s<e;++s)this._value.indexOf(this.thousandsSeparator,s)===s&&(++r,t&&(e+=this.thousandsSeparator.length));return r}_separatorsCountFromSlice(e){return e===void 0&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,r))}_appendCharRaw(e,t){t===void 0&&(t={});const r=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,s=this._separatorsCountFromSlice(r);this._value=this._removeThousandsSeparators(this.value);const i=this._value;this._value+=e;const o=this.number;let a=!isNaN(o),l=!1;if(a){let h;this.min!=null&&this.min<0&&this.number<this.min&&(h=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(h=this.max),h!=null&&(this.autofix?(this._value=this.format(h,this).replace(dt.UNMASKED_RADIX,this.radix),l||(l=i===this._value&&!t.tail)):a=!1),a&&(a=!!this._value.match(this._numberRegExp))}let c;a?c=new X({inserted:this._value.slice(i.length),rawInserted:l?"":e,skip:l}):(this._value=i,c=new X),this._value=this._insertThousandsSeparators(this._value);const u=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,d=this._separatorsCountFromSlice(u);return c.tailShift+=(d-s)*this.thousandsSeparator.length,c}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,r=this.value.indexOf(this.thousandsSeparator,t);if(r<=e)return r}return-1}_adjustRangeWithSeparators(e,t){const r=this._findSeparatorAround(e);r>=0&&(e=r);const s=this._findSeparatorAround(t);return s>=0&&(t=s+this.thousandsSeparator.length),[e,t]}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t);const r=this.value.slice(0,e),s=this.value.slice(t),i=this._separatorsCount(r.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(r+s));const o=this._separatorsCountFromSlice(r);return new X({tailShift:(o-i)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case j.NONE:case j.LEFT:case j.FORCE_LEFT:{const r=this._findSeparatorAround(e-1);if(r>=0){const s=r+this.thousandsSeparator.length;if(e<s||this.value.length<=s||t===j.FORCE_LEFT)return r}break}case j.RIGHT:case j.FORCE_RIGHT:{const r=this._findSeparatorAround(e);if(r>=0)return r+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let t=e;this.min!=null&&(t=Math.max(t,this.min)),this.max!=null&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.format(t,this));let r=this.value;this.normalizeZeros&&(r=this._normalizeZeros(r)),this.padFractionalZeros&&this.scale>0&&(r=this._padFractionalZeros(r)),this._value=r}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(r,s,i,o)=>s+o),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e,t,r){t===void 0&&(t={});const s=this.scale===0&&e!==this.thousandsSeparator&&(e===this.radix||e===dt.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,r)&&!s}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,dt.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(dt.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||dt.EMPTY_VALUES.includes(e)&&dt.EMPTY_VALUES.includes(this.typedValue))&&!(e===0&&this.value==="")}}Zm=dt;dt.UNMASKED_RADIX=".";dt.EMPTY_VALUES=[...Ye.EMPTY_VALUES,0];dt.DEFAULTS={...Ye.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[Zm.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:n=>n.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};q.MaskedNumber=dt;const $l={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function eg(n,e,t){e===void 0&&(e=$l.MASKED),t===void 0&&(t=$l.MASKED);const r=rn(n);return s=>r.runIsolated(i=>(i[e]=s,i[t]))}function gA(n,e,t,r){return eg(e,t,r)(n)}q.PIPE_TYPE=$l;q.createPipe=eg;q.pipe=gA;class _A extends Xe{get repeatFrom(){var e;return(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?e:0}get repeatTo(){var e;return(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var t,r,s;const{repeat:i,...o}=Os(e);this._blockOpts=Object.assign({},this._blockOpts,o);const a=rn(this._blockOpts);this.repeat=(t=(r=i??a.repeat)!=null?r:this.repeat)!=null?t:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((s=this._blocks)==null?void 0:s.length)||0,this.repeatFrom)),blocks:{m:a},eager:a.eager,overwrite:a.overwrite,skipInvalid:a.skipInvalid,lazy:a.lazy,placeholderChar:a.placeholderChar,displayChar:a.displayChar})}_allocateBlock(e){if(e<this._blocks.length)return this._blocks[e];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(rn(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(e,t){t===void 0&&(t={});const r=new X;for(let l=(s=(i=this._mapPosToBlock(this.displayValue.length))==null?void 0:i.index)!=null?s:Math.max(this._blocks.length-1,0),c,u;c=(o=this._blocks[l])!=null?o:u=!u&&this._allocateBlock(l);++l){var s,i,o,a;const d=c._appendChar(e,{...t,_beforeTailState:(a=t._beforeTailState)==null||(a=a._blocks)==null?void 0:a[l]});if(d.skip&&u){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(r.aggregate(d),d.consumed)break}return r}_trimEmptyTail(e,t){var r,s;e===void 0&&(e=0);const i=Math.max(((r=this._mapPosToBlock(e))==null?void 0:r.index)||0,this.repeatFrom,0);let o;t!=null&&(o=(s=this._mapPosToBlock(t))==null?void 0:s.index),o==null&&(o=this._blocks.length-1);let a=0;for(let l=o;i<=l&&!this._blocks[l].unmaskedValue;--l,++a);a&&(this._blocks.splice(o-a+1,a),this.mask=this.mask.slice(a))}reset(){super.reset(),this._trimEmptyTail()}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const r=super.remove(e,t);return this._trimEmptyTail(e,t),r}totalInputPositions(e,t){return e===void 0&&(e=0),t==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,t)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}}q.RepeatBlock=_A;try{globalThis.IMask=q}catch{}const tg={mask:B.oneOfType([B.array,B.func,B.string,B.instanceOf(RegExp),B.oneOf([Date,Number,q.Masked]),B.instanceOf(q.Masked)]),value:B.any,unmask:B.oneOfType([B.bool,B.oneOf(["typed"])]),prepare:B.func,prepareChar:B.func,validate:B.func,commit:B.func,overwrite:B.oneOfType([B.bool,B.oneOf(["shift"])]),eager:B.oneOfType([B.bool,B.oneOf(["append","remove"])]),skipInvalid:B.bool,onAccept:B.func,onComplete:B.func,placeholderChar:B.string,displayChar:B.string,lazy:B.bool,definitions:B.object,blocks:B.object,enum:B.arrayOf(B.string),maxLength:B.number,from:B.number,to:B.number,pattern:B.string,format:B.func,parse:B.func,autofix:B.oneOfType([B.bool,B.oneOf(["pad"])]),radix:B.string,thousandsSeparator:B.string,mapToRadix:B.arrayOf(B.string),scale:B.number,normalizeZeros:B.bool,padFractionalZeros:B.bool,min:B.oneOfType([B.number,B.instanceOf(Date)]),max:B.oneOfType([B.number,B.instanceOf(Date)]),dispatch:B.func,inputRef:B.oneOfType([B.func,B.shape({current:B.object})])},ng=Object.keys(tg).filter(n=>n!=="value"),vA=["value","unmask","onAccept","onComplete","inputRef"],yA=ng.filter(n=>vA.indexOf(n)<0);function bA(n){var e;const t=(e=class extends Ke.Component{constructor(i){super(i),this._inputRef=this._inputRef.bind(this)}componentDidMount(){this.props.mask&&this.initMask()}componentDidUpdate(){const i=this.props,o=this._extractMaskOptionsFromProps(i);if(o.mask)this.maskRef?(this.maskRef.updateOptions(o),"value"in i&&i.value!==void 0&&(this.maskValue=i.value)):this.initMask(o);else if(this.destroyMask(),"value"in i&&i.value!==void 0){var a;(a=this.element)!=null&&a.isContentEditable&&this.element.tagName!=="INPUT"&&this.element.tagName!=="TEXTAREA"?this.element.textContent=i.value:this.element.value=i.value}}componentWillUnmount(){this.destroyMask()}_inputRef(i){this.element=i,this.props.inputRef&&(Object.prototype.hasOwnProperty.call(this.props.inputRef,"current")?this.props.inputRef.current=i:this.props.inputRef(i))}initMask(i){i===void 0&&(i=this._extractMaskOptionsFromProps(this.props)),this.maskRef=q(this.element,i).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),"value"in this.props&&this.props.value!==void 0&&(this.maskValue=this.props.value)}destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}_extractMaskOptionsFromProps(i){const{...o}=i;return Object.keys(o).filter(a=>yA.indexOf(a)<0).forEach(a=>{delete o[a]}),o}_extractNonMaskProps(i){const{...o}=i;return ng.forEach(a=>{a!=="maxLength"&&delete o[a]}),"defaultValue"in o||(o.defaultValue=i.mask?"":o.value),delete o.value,o}get maskValue(){return this.maskRef?this.props.unmask==="typed"?this.maskRef.typedValue:this.props.unmask?this.maskRef.unmaskedValue:this.maskRef.value:""}set maskValue(i){this.maskRef&&(i=i==null&&this.props.unmask!=="typed"?"":i,this.props.unmask==="typed"?this.maskRef.typedValue=i:this.props.unmask?this.maskRef.unmaskedValue=i:this.maskRef.value=i)}_onAccept(i){this.props.onAccept&&this.maskRef&&this.props.onAccept(this.maskValue,this.maskRef,i)}_onComplete(i){this.props.onComplete&&this.maskRef&&this.props.onComplete(this.maskValue,this.maskRef,i)}render(){return Ke.createElement(n,{...this._extractNonMaskProps(this.props),inputRef:this._inputRef})}},e.displayName=void 0,e.propTypes=void 0,e),r=n.displayName||n.name||"Component";return t.displayName="IMask("+r+")",t.propTypes=tg,Ke.forwardRef((s,i)=>Ke.createElement(t,{...s,ref:i}))}const EA=bA(n=>{let{inputRef:e,...t}=n;return Ke.createElement("input",{...t,ref:e})}),CA=(n,e)=>Ke.createElement(EA,{...n,ref:e}),xA=Ke.forwardRef(CA),wA=g.forwardRef(function(e,t){const{onChange:r,...s}=e;return _.jsx(xA,{...s,mask:"+38(#*0)000-00-00",definitions:{"#":/[0]/,"*":/[6,7,8,9,5]/},inputRef:t,onAccept:i=>r({target:{name:e.name,value:i}}),overwrite:!0})}),Mn={MIN_NAME:"Name must contain at least 3 characters",MAX_NAME:"Too Long!",REQUIRED_NAME:"Name required",INVALID_EMAIL:"Invalid email",REQUIRED_EMAIL:"Email required",MIN_PHONE:"This is an ERROR phone number (Ukrainian format)",REQUIRED_PHONE:"Enter the phone number in Ukrainian format",MIN_PASSWORD:"Password must contain at least 6 characters",REQUIRED_PASSWORD:"Password required"},mh=[{name:"Career and business",id:"1"},{name:"Lesson for kids",id:"2"},{name:"Living abroad",id:"3"},{name:"Exams and coursework",id:"4"},{name:"Culture, travel or hobby",id:"5"}],kA=qm().shape({fullName:mi().min(3,Mn.MIN_NAME).max(50,Mn.MAX_NAME).required(Mn.REQUIRED_NAME),email:mi().matches(aA,Mn.INVALID_EMAIL).required(Mn.REQUIRED_EMAIL),number:mi().min(17,Mn.MIN_PHONE).required(Mn.REQUIRED_PHONE)}),SA=({languages:n})=>{const e=Ns(s=>s.filter.name),t=e===""?n.join(", "):e,r=s=>{console.log(s)};return _.jsxs(pi,{children:[_.jsxs(cR,{children:["What is your main reason for learning ",t,"?"]}),_.jsx(Vg,{initialValues:{email:"",fullName:"",number:"",lesson:mh[0].name},validationSchema:kA,onSubmit:r,children:({errors:s,touched:i,handleSubmit:o,isSubmitting:a,handleBlur:l,handleChange:c,values:u})=>_.jsxs(uR,{onSubmit:o,children:[_.jsx($1,{"aria-labelledby":"demo-radio-buttons-group-label",value:u.lesson,onChange:c,name:"radio-buttons-group",className:"radio_group",children:mh.map(({name:d,id:h})=>_.jsx(rT,{value:d,name:"lesson",control:_.jsx(N1,{sx:{color:"#12141733","&.Mui-checked":{color:"#F4C550"}}}),label:d},h))}),_.jsxs("div",{children:[_.jsxs(Ha,{children:[_.jsx("input",{type:"text",name:"fullName",onBlur:l,placeholder:"Full Name",value:u.fullName,onChange:c}),s.fullName&&i.fullName?_.jsxs(Ga,{children:["* ",s.fullName]}):null]}),_.jsxs(Ha,{children:[_.jsx("input",{type:"email",name:"email",onBlur:l,placeholder:"Email",value:u.email,onChange:c}),s.email&&i.email?_.jsxs(Ga,{children:["* ",s.email]}):null]}),_.jsxs(Ha,{children:[_.jsx(wA,{type:"tel",name:"number",onBlur:l,placeholder:"Phone number",onChange:c,value:u.number}),s.number&&i.number?_.jsxs(Ga,{children:["* ",s.number]}):null]})]}),_.jsx(dR,{type:"submit",disabled:a,children:"Book"})]})})]})},IA=({teacher:n})=>_.jsxs(tR,{children:[_.jsx(nR,{children:"Book trial lesson"}),_.jsx(rR,{children:"Our experienced tutor will assess your current language level, discuss your learning goals, and tailor the lesson to your specific needs."}),_.jsxs(sR,{children:[_.jsx(iR,{src:n==null?void 0:n.avatar_url,alt:n==null?void 0:n.name,width:"44",height:"44"}),_.jsxs(oR,{children:[_.jsx(aR,{children:"Your teacher"}),_.jsx(lR,{children:n==null?void 0:n.name})]})]}),_.jsx(SA,{languages:n==null?void 0:n.languages})]});var TA="firebase",RA="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(TA,RA,"app");function rg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AA=rg,sg=new Fs("auth","Firebase",rg());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new ql("@firebase/auth");function OA(n,...e){Ji.logLevel<=de.WARN&&Ji.warn(`Auth (${$r}): ${n}`,...e)}function vi(n,...e){Ji.logLevel<=de.ERROR&&Ji.error(`Auth (${$r}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(n,...e){throw iu(n,...e)}function Bt(n,...e){return iu(n,...e)}function ig(n,e,t){const r=Object.assign(Object.assign({},AA()),{[e]:t});return new Fs("auth","Firebase",r).create(e,{appName:n.name})}function Kn(n){return ig(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iu(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sg.create(n,...e)}function K(n,e,...t){if(!n)throw iu(e,...t)}function Jt(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vi(e),new Error(e)}function on(n,e){n||Jt(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function PA(){return gh()==="http:"||gh()==="https:"}function gh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PA()||e_()||"connection"in navigator)?navigator.onLine:!0}function MA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t){this.shortDelay=e,this.longDelay=t,on(t>e,"Short delay should be less than long delay!"),this.isMobile=Hl()||zh()}get(){return NA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(n,e){on(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new Ys(3e4,6e4);function au(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gr(n,e,t,r,s={}){return ag(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Lr(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),og.fetch()(lg(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function ag(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},FA),e);try{const s=new $A(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ai(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ai(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ai(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw ai(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ig(n,u,c);sn(n,u)}}catch(s){if(s instanceof Pn)throw s;sn(n,"network-request-failed",{message:String(s)})}}async function LA(n,e,t,r,s={}){const i=await Gr(n,e,t,r,s);return"mfaPendingCredential"in i&&sn(n,"multi-factor-auth-required",{_serverResponse:i}),i}function lg(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?ou(n.config,s):`${n.config.apiScheme}://${s}`}class $A{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Bt(this.auth,"network-request-failed")),DA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ai(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Bt(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(n,e){return Gr(n,"POST","/v1/accounts:delete",e)}async function cg(n,e){return Gr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jA(n,e=!1){const t=mt(n),r=await t.getIdToken(e),s=lu(r);K(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ps(Xa(s.auth_time)),issuedAtTime:ps(Xa(s.iat)),expirationTime:ps(Xa(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Xa(n){return Number(n)*1e3}function lu(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return vi("JWT malformed, contained fewer than 3 sections"),null;try{const s=xi(t);return s?JSON.parse(s):(vi("Failed to decode base64 JWT payload"),null)}catch(s){return vi("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _h(n){const e=lu(n);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Pn&&UA(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function UA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ps(this.lastLoginAt),this.creationTime=ps(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zi(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Ps(n,cg(t,{idToken:r}));K(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?ug(i.providerUserInfo):[],a=WA(n.providerData,o),l=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new jl(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(n,d)}async function zA(n){const e=mt(n);await Zi(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WA(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ug(n){return n.map(e=>{var{providerId:t}=e,r=Vl(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(n,e){const t=await ag(n,{},async()=>{const r=Lr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=lg(n,s,"/v1/token",`key=${i}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",og.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GA(n,e){return Gr(n,"POST","/v2/accounts:revokeToken",au(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_h(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){K(e.length!==0,"internal-error");const t=_h(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await HA(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new kr;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(K(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(K(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kr,this.toJSON())}_performRefresh(){return Jt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n,e){K(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zt{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=Vl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jl(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ps(this,this.stsTokenManager.getToken(this.auth,e));return K(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jA(this,e)}reload(){return zA(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Zi(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Kn(this.auth));const e=await this.getIdToken();return await Ps(this,BA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,o,a,l,c,u;const d=(r=t.displayName)!==null&&r!==void 0?r:void 0,h=(s=t.email)!==null&&s!==void 0?s:void 0,m=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,f=(o=t.photoURL)!==null&&o!==void 0?o:void 0,p=(a=t.tenantId)!==null&&a!==void 0?a:void 0,y=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=t.createdAt)!==null&&c!==void 0?c:void 0,x=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:C,isAnonymous:w,providerData:S,stsTokenManager:k}=t;K(E&&k,e,"internal-error");const T=kr.fromJSON(this.name,k);K(typeof E=="string",e,"internal-error"),hn(d,e.name),hn(h,e.name),K(typeof C=="boolean",e,"internal-error"),K(typeof w=="boolean",e,"internal-error"),hn(m,e.name),hn(f,e.name),hn(p,e.name),hn(y,e.name),hn(b,e.name),hn(x,e.name);const A=new Zt({uid:E,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:w,photoURL:f,phoneNumber:m,tenantId:p,stsTokenManager:T,createdAt:b,lastLoginAt:x});return S&&Array.isArray(S)&&(A.providerData=S.map(O=>Object.assign({},O))),y&&(A._redirectEventId=y),A}static async _fromIdTokenResponse(e,t,r=!1){const s=new kr;s.updateFromServerResponse(t);const i=new Zt({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Zi(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];K(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?ug(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new kr;a.updateFromIdToken(r);const l=new Zt({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new jl(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map;function en(n){on(n instanceof Function,"Expected a class definition");let e=vh.get(n);return e?(on(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vh.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dg.type="NONE";const yh=dg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n,e,t){return`firebase:${n}:${e}:${t}`}class Sr{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yi(this.userKey,s.apiKey,i),this.fullPersistenceKey=yi("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Sr(en(yh),e,r);const s=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||en(yh);const o=yi(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const d=Zt._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Sr(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Sr(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pg(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hg(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gg(e))return"Blackberry";if(_g(e))return"Webos";if(cu(e))return"Safari";if((e.includes("chrome/")||fg(e))&&!e.includes("edge/"))return"Chrome";if(mg(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hg(n=Qe()){return/firefox\//i.test(n)}function cu(n=Qe()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fg(n=Qe()){return/crios\//i.test(n)}function pg(n=Qe()){return/iemobile/i.test(n)}function mg(n=Qe()){return/android/i.test(n)}function gg(n=Qe()){return/blackberry/i.test(n)}function _g(n=Qe()){return/webos/i.test(n)}function ha(n=Qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qA(n=Qe()){var e;return ha(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KA(){return t_()&&document.documentMode===10}function vg(n=Qe()){return ha(n)||mg(n)||_g(n)||gg(n)||/windows phone/i.test(n)||pg(n)}function YA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(n,e=[]){let t;switch(n){case"Browser":t=bh(Qe());break;case"Worker":t=`${bh(Qe())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$r}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(n,e={}){return Gr(n,"GET","/v2/passwordPolicy",au(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=6;class ZA{constructor(e){var t,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:JA,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eh(this),this.idTokenSubscription=new Eh(this),this.beforeStateQueue=new XA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=en(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Sr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cg(this,{idToken:e}),r=await Zt._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zi(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Kn(this));const t=e?mt(e):null;return t&&K(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(en(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QA(this),t=new ZA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await GA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&en(e)||this._popupRedirectResolver;K(t,this,"argument-error"),this.redirectPersistenceManager=await Sr.create(this,[en(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&OA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function uu(n){return mt(n)}class Eh{constructor(e){this.auth=e,this.observer=null,this.addObserver=u_(t=>this.observer=t)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tO(n){du=n}function nO(n){return du.loadJS(n)}function rO(){return du.gapiScript}function sO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(n,e){const t=Yl(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(ki(i,e??{}))return s;sn(s,"already-initialized")}return t.initialize({options:e})}function oO(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(en);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aO(n,e,t){const r=uu(n);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(t!=null&&t.disableWarnings),i=bg(e),{host:o,port:a}=lO(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||cO()}function bg(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function lO(n){const e=bg(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ch(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Ch(o)}}}function Ch(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function cO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jt("not implemented")}_getIdTokenResponse(e){return Jt("not implemented")}_linkToIdToken(e,t){return Jt("not implemented")}_getReauthenticationResolver(e){return Jt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ir(n,e){return LA(n,"POST","/v1/accounts:signInWithIdp",au(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="http://localhost";class rr extends Eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=Vl(t,["providerId","signInMethod"]);if(!r||!s)return null;const o=new rr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Ir(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ir(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ir(e,t)}buildRequest(){const e={requestUri:uO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lr(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends Xs{constructor(){super("facebook.com")}static credential(e){return rr._fromParams({providerId:fn.PROVIDER_ID,signInMethod:fn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fn.credentialFromTaggedObject(e)}static credentialFromError(e){return fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fn.credential(e.oauthAccessToken)}catch{return null}}}fn.FACEBOOK_SIGN_IN_METHOD="facebook.com";fn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn extends Xs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rr._fromParams({providerId:pn.PROVIDER_ID,signInMethod:pn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pn.credentialFromTaggedObject(e)}static credentialFromError(e){return pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return pn.credential(t,r)}catch{return null}}}pn.GOOGLE_SIGN_IN_METHOD="google.com";pn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends Xs{constructor(){super("github.com")}static credential(e){return rr._fromParams({providerId:mn.PROVIDER_ID,signInMethod:mn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mn.credentialFromTaggedObject(e)}static credentialFromError(e){return mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mn.credential(e.oauthAccessToken)}catch{return null}}}mn.GITHUB_SIGN_IN_METHOD="github.com";mn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn extends Xs{constructor(){super("twitter.com")}static credential(e,t){return rr._fromParams({providerId:gn.PROVIDER_ID,signInMethod:gn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gn.credentialFromTaggedObject(e)}static credentialFromError(e){return gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return gn.credential(t,r)}catch{return null}}}gn.TWITTER_SIGN_IN_METHOD="twitter.com";gn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Zt._fromIdTokenResponse(e,r,s),o=xh(r);return new Fr({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=xh(r);return new Fr({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function xh(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Pn{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,eo.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new eo(e,t,r,s)}}function xg(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?eo._fromErrorAndOperation(n,i,e,r):i})}async function dO(n,e,t=!1){const r=await Ps(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fr._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(n,e,t=!1){const{auth:r}=n;if(_n(r.app))return Promise.reject(Kn(r));const s="reauthenticate";try{const i=await Ps(n,xg(r,s,e,n),t);K(i.idToken,r,"internal-error");const o=lu(i.idToken);K(o,r,"internal-error");const{sub:a}=o;return K(n.uid===a,r,"user-mismatch"),Fr._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&sn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(n,e,t=!1){if(_n(n.app))return Promise.reject(Kn(n));const r="signIn",s=await xg(n,r,e),i=await Fr._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function pO(n,e,t,r){return mt(n).onIdTokenChanged(e,t,r)}function mO(n,e,t){return mt(n).beforeAuthStateChanged(e,t)}const to="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(to,"1"),this.storage.removeItem(to),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){const n=Qe();return cu(n)||ha(n)}const _O=1e3,vO=10;class kg extends wg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=gO()&&YA(),this.fallbackToPolling=vg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);KA()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,vO):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}kg.type="LOCAL";const yO=kg;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends wg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Sg.type="SESSION";const Ig=Sg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new fa(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(t.origin,i)),l=await bO(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fa.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=hu("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return window}function CO(n){jt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(){return typeof jt().WorkerGlobalScope<"u"&&typeof jt().importScripts=="function"}async function xO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kO(){return Tg()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="firebaseLocalStorageDb",SO=1,no="firebaseLocalStorage",Ag="fbase_key";class Qs{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pa(n,e){return n.transaction([no],e?"readwrite":"readonly").objectStore(no)}function IO(){const n=indexedDB.deleteDatabase(Rg);return new Qs(n).toPromise()}function Ul(){const n=indexedDB.open(Rg,SO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(no,{keyPath:Ag})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(no)?e(r):(r.close(),await IO(),e(await Ul()))})})}async function wh(n,e,t){const r=pa(n,!0).put({[Ag]:e,value:t});return new Qs(r).toPromise()}async function TO(n,e){const t=pa(n,!1).get(e),r=await new Qs(t).toPromise();return r===void 0?null:r.value}function kh(n,e){const t=pa(n,!0).delete(e);return new Qs(t).toPromise()}const RO=800,AO=3;class Og{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ul(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>AO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fa._getInstance(kO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await xO(),!this.activeServiceWorker)return;this.sender=new EO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ul();return await wh(e,to,"1"),await kh(e,to),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>wh(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>TO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kh(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=pa(s,!1).getAll();return new Qs(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Og.type="LOCAL";const OO=Og;new Ys(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(n,e){return e?en(e):(K(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ir(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ir(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ir(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NO(n){return fO(n.auth,new fu(n),n.bypassAuthState)}function MO(n){const{auth:e,user:t}=n;return K(t,e,"internal-error"),hO(t,new fu(n),n.bypassAuthState)}async function FO(n){const{auth:e,user:t}=n;return K(t,e,"internal-error"),dO(t,new fu(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NO;case"linkViaPopup":case"linkViaRedirect":return FO;case"reauthViaPopup":case"reauthViaRedirect":return MO;default:sn(this.auth,"internal-error")}}resolve(e){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new Ys(2e3,1e4);class br extends Pg{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,br.currentPopupAction&&br.currentPopupAction.cancel(),br.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){on(this.filter.length===1,"Popup operations only handle one event");const e=hu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,br.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DO.get())};e()}}br.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="pendingRedirect",bi=new Map;class $O extends Pg{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=bi.get(this.auth._key());if(!e){try{const r=await BO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}bi.set(this.auth._key(),e)}return this.bypassAuthState||bi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BO(n,e){const t=VO(e),r=UO(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function jO(n,e){bi.set(n._key(),e)}function UO(n){return en(n._redirectPersistence)}function VO(n){return yi(LO,n.config.apiKey,n.name)}async function zO(n,e,t=!1){if(_n(n.app))return Promise.reject(Kn(n));const r=uu(n),s=PO(r,e),o=await new $O(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=10*60*1e3;class HO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ng(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Bt(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sh(e))}saveEventToCache(e){this.cachedEventUids.add(Sh(e)),this.lastProcessedEventTime=Date.now()}}function Sh(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ng({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ng(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(n,e={}){return Gr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YO=/^https?/;async function XO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qO(n);for(const t of e)try{if(QO(t))return}catch{}sn(n,"unauthorized-domain")}function QO(n){const e=Bl(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!YO.test(t))return!1;if(KO.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new Ys(3e4,6e4);function Ih(){const n=jt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ZO(n){return new Promise((e,t)=>{var r,s,i;function o(){Ih(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ih(),t(Bt(n,"network-request-failed"))},timeout:JO.get()})}if(!((s=(r=jt().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=jt().gapi)===null||i===void 0)&&i.load)o();else{const a=sO("iframefcb");return jt()[a]=()=>{gapi.load?o():t(Bt(n,"network-request-failed"))},nO(`${rO()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Ei=null,e})}let Ei=null;function eP(n){return Ei=Ei||ZO(n),Ei}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new Ys(5e3,15e3),nP="__/auth/iframe",rP="emulator/auth/iframe",sP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oP(n){const e=n.config;K(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ou(e,rP):`https://${n.config.authDomain}/${nP}`,r={apiKey:e.apiKey,appName:n.name,v:$r},s=iP.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Lr(r).slice(1)}`}async function aP(n){const e=await eP(n),t=jt().gapi;return K(t,n,"internal-error"),e.open({where:document.body,url:oP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Bt(n,"network-request-failed"),a=jt().setTimeout(()=>{i(o)},tP.get());function l(){jt().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cP=500,uP=600,dP="_blank",hP="http://localhost";class Th{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fP(n,e,t,r=cP,s=uP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lP),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Qe().toLowerCase();t&&(a=fg(c)?dP:t),hg(c)&&(e=e||hP,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,f])=>`${h}${m}=${f},`,"");if(qA(c)&&a!=="_self")return pP(e||"",a),new Th(null);const d=window.open(e||"",a,u);K(d,n,"popup-blocked");try{d.focus()}catch{}return new Th(d)}function pP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="__/auth/handler",gP="emulator/auth/handler",_P=encodeURIComponent("fac");async function Rh(n,e,t,r,s,i){K(n.config.authDomain,n,"auth-domain-config-required"),K(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:$r,eventId:s};if(e instanceof Cg){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",nl(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(i||{}))o[u]=d}if(e instanceof Xs){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${_P}=${encodeURIComponent(l)}`:"";return`${vP(n)}?${Lr(a).slice(1)}${c}`}function vP({config:n}){return n.emulator?ou(n,gP):`https://${n.authDomain}/${mP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="webStorageSupport";class yP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ig,this._completeRedirectFn=zO,this._overrideRedirectResult=jO}async _openPopup(e,t,r,s){var i;on((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Rh(e,t,r,Bl(),s);return fP(e,o,hu())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await Rh(e,t,r,Bl(),s);return CO(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(on(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await aP(e),r=new HO(e);return t.register("authEvent",s=>(K(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qa,{type:Qa},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Qa];o!==void 0&&t(!!o),sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vg()||cu()||ha()}}const bP=yP;var Ah="@firebase/auth",Oh="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xP(n){Rr(new Yn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yg(n)},c=new eO(r,s,i,l);return oO(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Rr(new Yn("auth-internal",e=>{const t=uu(e.getProvider("auth").getImmediate());return(r=>new EP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(Ah,Oh,CP(n)),bn(Ah,Oh,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=5*60,kP=Vh("authIdTokenMaxAge")||wP;let Ph=null;const SP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>kP)return;const s=t==null?void 0:t.token;Ph!==s&&(Ph=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function IP(n=Yh()){const e=Yl(n,"auth");if(e.isInitialized())return e.getImmediate();const t=iO(n,{popupRedirectResolver:bP,persistence:[OO,yO,Ig]}),r=Vh("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=SP(i.toString());mO(t,o,()=>o(t.currentUser)),pO(t,a=>o(a))}}const s=jh("auth");return s&&aO(t,`http://${s}`),t}function TP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}tO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Bt("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",TP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xP("Browser");const RP={apiKey:"AIzaSyDx2zsvJDlm6oZxzyhdjCVbj-9umos0TTE",authDomain:"learn-lingo-ece72.firebaseapp.com",projectId:"learn-lingo-ece72",storageBucket:"learn-lingo-ece72.appspot.com",messagingSenderId:"1037640854706",appId:"1:1037640854706:web:4ea7b22ea254e2bece6dab",databaseURL:"https://learn-lingo-ece72-default-rtdb.europe-west1.firebasedatabase.app/"},Mg=Kh(RP),ro=IP(Mg),ms=Ib(Mg),AP=n=>{const[e,t]=g.useState([]),r=Ns(s=>s.authUser.token);return g.useEffect(()=>{r&&ro.onAuthStateChanged(s=>{s&&yp(ks(n,`/favorite/${ro.currentUser.uid}`),i=>{t([]);const o=i.val();o!==null&&Object.values(o).map(a=>t(l=>[...l,a]))})})},[r,n]),e},OP=U(CI)(({theme:n})=>({"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:`0 0 0 2px ${n.palette.background.paper}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}));function PP(n){return Ms({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function Fg(n){return Ms({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function NP(n){return Ms({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(n)}const MP=({experience:n,reviews:e})=>_.jsxs(Vb,{children:[_.jsx(zb,{children:n}),_.jsx(Wb,{children:e.map(({reviewer_name:t,reviewer_rating:r,comment:s},i)=>_.jsxs(Hb,{children:[_.jsxs(Gb,{children:[_.jsx(qb,{src:"https://e7.pngegg.com/pngimages/893/852/png-clipart-customer-review-computer-icons-customer-satisfaction-others-white-text-thumbnail.png",alt:"reviews",width:"44",height:"44",loading:"lazy"}),_.jsxs("div",{children:[_.jsx(Kb,{children:t}),_.jsxs(Yb,{children:[_.jsx("span",{children:_.jsx(Fg,{})}),r]})]})]}),_.jsx(Xb,{children:s})]},i))})]});function FP(n){return Ms({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 3.75A.75.75 0 0 1 .75 3h7.497c1.566 0 2.945.8 3.751 2.014A4.495 4.495 0 0 1 15.75 3h7.5a.75.75 0 0 1 .75.75v15.063a.752.752 0 0 1-.755.75l-7.682-.052a3 3 0 0 0-2.142.878l-.89.891a.75.75 0 0 1-1.061 0l-.902-.901a2.996 2.996 0 0 0-2.121-.879H.75a.75.75 0 0 1-.75-.75Zm12.75 15.232a4.503 4.503 0 0 1 2.823-.971l6.927.047V4.5h-6.75a3 3 0 0 0-3 3ZM11.247 7.497a3 3 0 0 0-3-2.997H1.5V18h6.947c1.018 0 2.006.346 2.803.98Z"},child:[]}]})(n)}const DP=({lessons_done:n,rating:e,price_per_hour:t,favorite:r,id:s,authUser:i,handelClick:o,name:a,surname:l,languages:c,lesson_info:u,conditions:d})=>_.jsxs(_.Fragment,{children:[_.jsxs(Fb,{children:[_.jsx(Db,{children:"Language"}),_.jsxs(Lb,{children:[_.jsx(Zr,{children:_.jsxs(ti,{children:[_.jsx("span",{className:"lesson_online",children:_.jsx(FP,{})}),"Lessons online"]})}),_.jsx(Zr,{children:_.jsxs(ti,{children:["Lessons done: ",n]})}),_.jsx(Zr,{children:_.jsxs(ti,{children:[_.jsx("span",{className:"rating",children:_.jsx(Fg,{})}),"Rating: ",e]})}),_.jsx(Zr,{children:_.jsxs(ti,{children:["Price / 1 hour:",_.jsxs("span",{className:"price",children:[t,"$"]})]})}),_.jsx(Zr,{children:_.jsx(eE,{type:"button",onClick:()=>o(s),children:r.find(h=>h.id===s)&&i?_.jsx(PP,{color:"var(--active-color)"}):_.jsx(NP,{})})})]})]}),_.jsxs($b,{children:[_.jsx(Bb,{children:`${a} ${l}`}),_.jsxs(jb,{children:[_.jsx(Ta,{children:_.jsxs(Ra,{children:[_.jsx("span",{children:"Speaks: "}),_.jsx("span",{className:"languages",children:c.join(", ")})]})}),_.jsx(Ta,{children:_.jsxs(Ra,{children:[_.jsx("span",{children:"Lesson Info: "}),u]})}),_.jsx(Ta,{children:_.jsxs(Ra,{children:[_.jsx("span",{children:"Conditions: "}),d.join(" ")]})})]})]})]}),LP="/learn-lingo/assets/authentication-BQ2li7U5.webp",$P=()=>_.jsxs(tE,{children:[_.jsx("img",{src:LP,alt:"notAuth",width:"200",height:"200"}),_.jsx(nE,{children:"Oops, you are not registered yet. Register and you will have access to more functions of using the site."})]}),Dg=({item:n})=>{const[e,t]=g.useState({}),[r,s]=g.useState(),{isOpen:i,openModal:o,closeModal:a}=zg(),l=Ns(f=>f.authUser.token),c=AP(ms),u=f=>{const p=n.find(y=>y.id===f);s(p),o("bookLesson"),t({...e,[f]:!1})},d=f=>{const p=ks(ms,`/favorite/${ro.currentUser.uid}/${f}`);return fb(p)},h=f=>{const p=n.find(b=>b.id===f),y=ks(ms,`/favorite/${ro.currentUser.uid}/${f}`);vp(y,p)},m=f=>l?c.find(y=>y.id===f)?d(f):h(f):o("notAuth");return _.jsxs(_.Fragment,{children:[_.jsx(Ob,{children:n.map(({name:f,surname:p,languages:y,levels:b,rating:x,reviews:E,price_per_hour:C,lessons_done:w,avatar_url:S,lesson_info:k,conditions:T,experience:A,id:O})=>_.jsxs(Pb,{children:[_.jsx(Nb,{children:_.jsx(OP,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"dot",children:_.jsx(rI,{src:S,alt:A,width:"96",height:"96",style:{width:"100%",height:"100%"}})})}),_.jsxs(Mb,{children:[_.jsx(DP,{lessons_done:w,rating:x,price_per_hour:C,favorite:c,id:O,authUser:l,handelClick:m,name:f,surname:p,languages:y,lesson_info:k,conditions:T}),!e[O]&&_.jsx(Ub,{type:"button",onClick:()=>t({...e,[O]:!0}),children:"Read more"}),e[O]&&_.jsx(MP,{experience:A,reviews:E}),_.jsx(Qb,{children:b.map((I,P)=>_.jsx(Jb,{children:_.jsx("p",{children:I})},P))}),e[O]&&_.jsx(Zb,{type:"button",onClick:()=>u(O),children:"Book trial lesson"})]})]},O))}),i.open&&i.name==="bookLesson"&&_.jsx(gu,{onClose:a,children:_.jsx(IA,{teacher:r})}),i.open&&i.name==="notAuth"&&_.jsx(gu,{onClose:a,children:_.jsx($P,{})})]})},BP=z.button`
  cursor: pointer;
  border-radius: 12px;
  background-color: var(--button-background-color);
  text-align: center;
  display: block;
  margin: 64px auto 0;
  padding: 16px;
  width: 183px;
  border: none;
  color: #121417;
  font-family: "Roboto", sans-serif;
  font-size: 18px;
  font-weight: 700;
  line-height: 1.55;

  &:hover,
  :focus {
    background-color: var(--active-button-background-color);
  }
`,jP=["A1 Beginner","A2 Elementary","B1 Intermediate","B2 Upper-Intermediate","C1 Advanced","C2 Proficient"],UP=["15","20","25","30","35"],VP=["French","German","Mandarin Chinese","English","Spanish","Italian","Korean","Vietnamese"];function zP(n){return Ms({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4c-4.419 0-8 3.582-8 8s3.581 8 8 8 8-3.582 8-8-3.581-8-8-8zm3.707 10.293c.391.391.391 1.023 0 1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293 2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023 0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023 0-1.414s1.023-.391 1.414 0l2.293 2.293 2.293-2.293c.391-.391 1.023-.391 1.414 0s.391 1.023 0 1.414l-2.293 2.293 2.293 2.293z"},child:[]}]})(n)}const WP=z.div`
  padding-bottom: 32px;
  position: relative;
`,Ja=z.p`
  color: #8a8a89;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 1.28;
  margin-bottom: 8px;
`,HP=z.p`
  margin-bottom: 32px;
  color: #ca0000ba;
  font-size: 16px;
  font-weight: 500;
  line-height: 1.5;
`,Za=z.em`
  font-style: normal;
`,GP=z.button`
  cursor: pointer;
  border: none;
  color: #000;
  background-color: transparent;
  transition: color var(--transition);

  position: absolute;
  bottom: 20px;
  transform: translate(0, -15px);

  &:hover,
  :focus {
    color: var(--active-color);
  }

  & svg {
    width: 26px;
    height: 26px;
  }
`,el=U(eR)(()=>({fontFamily:'"Roboto", sans-serif',borderRadius:"14px",backgroundColor:"#fff","& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"}})),qP=()=>{const n=$g(),e=Ns(f=>f.filter.filterTeachers),{pathname:t}=Bg(),r=ks(ms,"teachers"),[s,i]=g.useState({language:"",levels:"",price:""}),[o,a]=g.useState({language:[],levels:[]}),[l,c]=g.useState(!1),u=g.useCallback(f=>{const p=f.target.value;i(b=>({...b,language:p})),c(!0);const y=yb(r,vb("languages"));s.language!==p&&i(b=>({...b,price:"",levels:""})),yp(y,b=>{const x=b.val(),E=Object.keys(x).filter(C=>x[C].languages.includes(p)).map(C=>({...x[C]}));return a(C=>({...C,language:E})),n(jg(p)),n(ma(E))})},[r,n,s.language]),d=g.useCallback(f=>{const p=f.target.value;i(b=>({...b,levels:p})),c(!0),s.price!==""&&i(b=>({...b,price:""}));const y=o.language.filter(b=>b.levels.includes(p));return a(b=>({...b,levels:y})),n(ma(y))},[s.price,o,n]),h=g.useCallback(f=>{const p=f.target.value;i(E=>({...E,price:p})),c(!0);const x=[...(o.levels.length!==0?o.levels:o.language).filter(E=>E.price_per_hour>=Number(p))].sort((E,C)=>E.price_per_hour-C.price_per_hour);return n(ma(x))},[o,n]);g.useEffect(()=>{t!=="/teacher"&&n(mu())},[n,t]);const m=()=>(i({language:"",levels:"",price:""}),c(!1),n(mu()));return _.jsxs(_.Fragment,{children:[_.jsxs(WP,{children:[_.jsxs(pi,{sx:{marginRight:"20px",minWidth:221},size:"small",children:[_.jsx(Ja,{children:"Languages"}),_.jsx(el,{value:s.language,onChange:u,children:VP.map((f,p)=>_.jsx(Wa,{value:f,children:_.jsx(Za,{children:f})},p))})]}),_.jsxs(pi,{sx:{marginRight:"20px",minWidth:198},size:"small",children:[_.jsx(Ja,{children:"Level of knowledge"}),_.jsx(el,{value:s.levels,onChange:d,disabled:s.language==="",children:jP.map((f,p)=>_.jsx(Wa,{value:f,children:_.jsx(Za,{children:f})},p))})]}),_.jsxs(pi,{sx:{minWidth:124},size:"small",children:[_.jsx(Ja,{children:"Price"}),_.jsx(el,{value:s.price,onChange:h,disabled:s.language==="",children:UP.map((f,p)=>_.jsx(Wa,{value:f,children:_.jsx(Za,{children:f})},p))})]}),Object.values(s).join("")!==""&&_.jsx(GP,{type:"button",onClick:m,children:_.jsx(zP,{})})]}),e.length===0&&l&&_.jsx(HP,{children:"Oops, unfortunately, we did not find among our teachers according to your criteria. You can choose from our list 😊"}),_.jsx(Dg,{item:e})]})},KP="teachers",Nh=4,JP=()=>{const[n,e]=g.useState([]),t=Ns(l=>l.filter.filterTeachers),[r,s]=g.useState(Nh),i=ks(ms);g.useEffect(()=>{async function l(){try{const c=await pb(Ss(i,KP));c.exists()?e(c.val()):console.log("No data available for teachers")}catch(c){console.error("Error fetching teachers:",c)}}l()},[i]);const o=()=>{r>=n.length||s(l=>l+Nh)},a=n.slice(0,r);return _.jsx(Ab,{children:_.jsxs(Ug,{children:[_.jsx(qP,{}),t.length===0&&_.jsxs(_.Fragment,{children:[_.jsx(Dg,{item:a,allTeacher:n}),r<=n.length&&_.jsx(BP,{type:"button",onClick:o,children:"Load more"})]})]})})};export{JP as default};
